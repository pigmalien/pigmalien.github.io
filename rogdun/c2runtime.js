// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,da,ea,ga,A,ha,ia,ja,G,ka,la,ma,oa,pa,sa,Q,ta,ua,S,va,wa,xa,ya,za,Ba,Ca,Da,T,Ea,Fa,Ga,Ha,Ia,V,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,bc,cc,dc,ec={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(g){return g.__proto__}:function(g){return g.constructor.prototype});
(function(){function g(a,c,h,e){this.set(a,c,h,e)}function m(){this.mb=this.lb=this.ob=this.nb=this.yb=this.xb=this.Wa=this.Va=0}function k(a,c,h,e){a<c?h<e?(y=a<h?a:h,x=c>e?c:e):(y=a<e?a:e,x=c>h?c:h):h<e?(y=c<h?c:h,x=a>e?a:e):(y=c<e?c:e,x=a>h?a:h)}function r(){this.items=this.wd=null;this.ah=0;w&&(this.wd=new Set);this.rg=[];this.ke=!0}function q(a){C[qa++]=a}function u(){this.ja=this.Eb=this.y=this.yk=0}function f(a){this.ka=[];this.fi=this.hi=this.ii=this.gi=0;this.Gh(a)}function a(a,c){this.Na=
a;this.Xa=c;this.cells={}}function b(a,c){this.Na=a;this.Xa=c;this.cells={}}function d(a,c,h){var e;return X.length?(e=X.pop(),e.rl=a,e.x=c,e.y=h,e):new da(a,c,h)}function c(a,c,h){this.rl=a;this.x=c;this.y=h;this.ab=new ea}function e(a,c,h){var e;return U.length?(e=U.pop(),e.rl=a,e.x=c,e.y=h,e):new ga(a,c,h)}function v(a,c,h){this.rl=a;this.x=c;this.y=h;this.ab=[];this.Wf=!0;this.ud=new ea;this.vg=!1}function l(a,c){return a.jd-c.jd}A=function(a){window.console&&window.console.log&&window.console.log(a)};
ha=function(a){window.console&&window.console.error&&window.console.error(a)};ba=function(a){return a};ia=function(a){return"undefined"===typeof a};ja=function(a){return"number"===typeof a};G=function(a){return"string"===typeof a};ka=function(a){return 0<a&&0===(a-1&a)};la=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};ma=function(a){return 0>a?-a:a};oa=function(a,c){return a>c?a:c};pa=function(a,c){return a<c?a:c};sa=Math.PI;Q=function(a){return 0<=a?a|0:(a|0)-1};ta=function(a){var c=
a|0;return c===a?c:c+1};ua=function(a,c,h,e,b,d,p,z){var B,t,f,l;a<h?(t=a,B=h):(t=h,B=a);b<p?(l=b,f=p):(l=p,f=b);if(B<l||t>f)return!1;c<e?(t=c,B=e):(t=e,B=c);d<z?(l=d,f=z):(l=z,f=d);if(B<l||t>f)return!1;B=b-a+p-h;t=d-c+z-e;a=h-a;c=e-c;b=p-b;d=z-d;z=ma(c*b-d*a);return ma(b*t-d*B)>z?!1:ma(a*t-c*B)<=z};g.prototype.set=function(a,c,h,e){this.left=a;this.top=c;this.right=h;this.bottom=e};g.prototype.df=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};g.prototype.width=
function(){return this.right-this.left};g.prototype.height=function(){return this.bottom-this.top};g.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};g.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};g.prototype.Al=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};g.prototype.Bl=
function(a,c,h){return!(a.right+c<this.left||a.bottom+h<this.top||a.left+c>this.right||a.top+h>this.bottom)};g.prototype.Da=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};g.prototype.Dg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};S=g;m.prototype.Se=function(a){this.Va=a.left;this.Wa=a.top;this.xb=a.right;this.yb=a.top;this.nb=a.right;this.ob=a.bottom;this.lb=a.left;this.mb=a.bottom};m.prototype.aq=function(a,
c){if(0===c)this.Se(a);else{var h=Math.sin(c),e=Math.cos(c),b=a.left*h,d=a.top*h,p=a.right*h,h=a.bottom*h,z=a.left*e,B=a.top*e,t=a.right*e,e=a.bottom*e;this.Va=z-d;this.Wa=B+b;this.xb=t-d;this.yb=B+p;this.nb=t-h;this.ob=e+p;this.lb=z-h;this.mb=e+b}};m.prototype.offset=function(a,c){this.Va+=a;this.Wa+=c;this.xb+=a;this.yb+=c;this.nb+=a;this.ob+=c;this.lb+=a;this.mb+=c;return this};var y=0,x=0;m.prototype.Mn=function(a){k(this.Va,this.xb,this.nb,this.lb);a.left=y;a.right=x;k(this.Wa,this.yb,this.ob,
this.mb);a.top=y;a.bottom=x};m.prototype.Da=function(a,c){var h=this.Va,e=this.Wa,b=this.xb-h,d=this.yb-e,p=this.nb-h,z=this.ob-e,B=a-h,t=c-e,f=b*b+d*d,l=b*p+d*z,d=b*B+d*t,w=p*p+z*z,v=p*B+z*t,C=1/(f*w-l*l),b=(w*d-l*v)*C,f=(f*v-l*d)*C;if(0<=b&&0<f&&1>b+f)return!0;b=this.lb-h;d=this.mb-e;f=b*b+d*d;l=b*p+d*z;d=b*B+d*t;C=1/(f*w-l*l);b=(w*d-l*v)*C;f=(f*v-l*d)*C;return 0<=b&&0<f&&1>b+f};m.prototype.La=function(a,c){if(c)switch(a){case 0:return this.Va;case 1:return this.xb;case 2:return this.nb;case 3:return this.lb;
case 4:return this.Va;default:return this.Va}else switch(a){case 0:return this.Wa;case 1:return this.yb;case 2:return this.ob;case 3:return this.mb;case 4:return this.Wa;default:return this.Wa}};m.prototype.qp=function(){return(this.Va+this.xb+this.nb+this.lb)/4};m.prototype.rp=function(){return(this.Wa+this.yb+this.ob+this.mb)/4};m.prototype.Vg=function(a,c,h,e){if(this.Da(a,c)||this.Da(h,e))return!0;var b,d,p,z,B;for(B=0;4>B;B++)if(b=this.La(B,!0),d=this.La(B,!1),p=this.La(B+1,!0),z=this.La(B+1,
!1),ua(a,c,h,e,b,d,p,z))return!0;return!1};m.prototype.Co=function(a){var c=a.qp(),h=a.rp();if(this.Da(c,h))return!0;c=this.qp();h=this.rp();if(a.Da(c,h))return!0;var e,b,d,p,z,B,t,f;for(t=0;4>t;t++)for(f=0;4>f;f++)if(c=this.La(t,!0),h=this.La(t,!1),e=this.La(t+1,!0),b=this.La(t+1,!1),d=a.La(f,!0),p=a.La(f,!1),z=a.La(f+1,!0),B=a.La(f+1,!1),ua(c,h,e,b,d,p,z,B))return!0;return!1};va=m;wa=function(a,c,h){return Math.max(Math.min(a,255),0)|Math.max(Math.min(c,255),0)<<8|Math.max(Math.min(h,255),0)<<16};
xa=function(a){return a&255};ya=function(a){return(a&65280)>>8};za=function(a){return(a&16711680)>>16};Ba=function(a,c){for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);return a};Ca=function(a,c){var h,e;c=Q(c);if(!(0>c||c>=a.length)){h=c;for(e=a.length-1;h<e;h++)a[h]=a[h+1];Da(a,e)}};Da=function(a,c){a.length=c};T=function(a){Da(a,0)};Ea=function(a,c){T(a);var h,e;h=0;for(e=c.length;h<e;++h)a[h]=c[h]};Fa=function(a,c){a.push.apply(a,c)};Ga=function(a,c){var h,e;h=0;for(e=a.length;h<e;++h)if(a[h]===
c)return h;return-1};Ha=function(a,c){var h=Ga(a,c);-1!==h&&Ca(a,h)};Ia=function(a,c,h){return a<c?c:a>h?h:a};V=function(a){return a/(180/sa)};Ja=function(a){return 180/sa*a};Ka=function(a){a%=360;0>a&&(a+=360);return a};La=function(a){a%=2*sa;0>a&&(a+=2*sa);return a};Ma=function(a){return Ka(Ja(a))};Na=function(a){return La(V(a))};Oa=function(a,c,h,e){return Math.atan2(e-c,h-a)};Pa=function(a,c){if(a===c)return 0;var h=Math.sin(a),e=Math.cos(a),b=Math.sin(c),d=Math.cos(c),h=h*b+e*d;return 1<=h?0:
-1>=h?sa:Math.acos(h)};Qa=function(a,c,h){var e=Math.sin(a),b=Math.cos(a),d=Math.sin(c),p=Math.cos(c);return Math.acos(e*d+b*p)>h?0<b*d-e*p?La(a+h):La(a-h):La(c)};Ra=function(a,c){var h=Math.sin(a),e=Math.cos(a),b=Math.sin(c),d=Math.cos(c);return 0>=e*b-h*d};Sa=function(a,c,h,e){a=h-a;c=e-c;return Math.sqrt(a*a+c*c)};Ta=function(a,c){return!a!==!c};Ua=function(a,c,h){return a+(c-a)*h};Va=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};Wa=function(a){for(var c in a)a.hasOwnProperty(c)&&
delete a[c]};var n=+new Date;Xa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-n};var t=!1,h=t=!1,p=!1;"undefined"!==typeof window&&(t=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),t=!t&&/safari/i.test(navigator.userAgent),
h=/(iphone|ipod|ipad)/i.test(navigator.userAgent),p=window.c2ejecta);var w=!t&&!p&&!h&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;r.prototype.contains=function(a){return this.Pd()?!1:w?this.wd.has(a):this.items&&this.items.hasOwnProperty(a)};r.prototype.add=function(a){if(w)this.wd.has(a)||(this.wd.add(a),this.ke=!1);else{var c=a.toString(),h=this.items;h?h.hasOwnProperty(c)||(h[c]=a,this.ah++,this.ke=!1):(this.items={},this.items[c]=a,this.ah=1,this.ke=!1)}};r.prototype.remove=
function(a){if(!this.Pd())if(w)this.wd.has(a)&&(this.wd["delete"](a),this.ke=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.ah--,this.ke=!1)}};r.prototype.clear=function(){this.Pd()||(w?this.wd.clear():(this.items=null,this.ah=0),T(this.rg),this.ke=!0)};r.prototype.Pd=function(){return 0===this.count()};r.prototype.count=function(){return w?this.wd.size:this.ah};var C=null,qa=0;r.prototype.Fw=function(){if(!this.ke){if(w)T(this.rg),C=this.rg,qa=0,this.wd.forEach(q),
C=null,qa=0;else{var a=this.rg;T(a);var c,h=0,e=this.items;if(e)for(c in e)e.hasOwnProperty(c)&&(a[h++]=e[c])}this.ke=!0}};r.prototype.fd=function(){this.Fw();return this.rg};ea=r;var E=new ea;Ya=function(a){var c,h;c=0;for(h=a.length;c<h;++c)E.add(a[c]);Ea(a,E.fd());E.clear()};Za=function(a,c){w?$a(a,c.wd):ab(a,c.fd())};$a=function(a,c){var h,e,b,d;e=h=0;for(b=a.length;h<b;++h)d=a[h],c.has(d)||(a[e++]=d);Da(a,e)};ab=function(a,c){var h,e,b,d;e=h=0;for(b=a.length;h<b;++h)d=a[h],-1===Ga(c,d)&&(a[e++]=
d);Da(a,e)};u.prototype.add=function(a){this.y=a-this.yk;this.Eb=this.ja+this.y;this.yk=this.Eb-this.ja-this.y;this.ja=this.Eb};u.prototype.reset=function(){this.ja=this.Eb=this.y=this.yk=0};bb=u;cb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};f.prototype.Gh=function(a){this.Np=a;this.tb=a.length/2;this.ka.length=a.length;this.ki=this.li=-1;this.Pn=0};f.prototype.sd=function(){return!this.Np.length};f.prototype.Q=function(){for(var a=this.ka,c=a[0],h=c,e=a[1],b=e,d,p,z=1,B=this.tb;z<
B;++z)p=2*z,d=a[p],p=a[p+1],d<c&&(c=d),d>h&&(h=d),p<e&&(e=p),p>b&&(b=p);this.gi=c;this.hi=h;this.ii=e;this.fi=b};f.prototype.Se=function(a,c,h){this.ka.length=8;this.tb=4;var e=this.ka;e[0]=a.left-c;e[1]=a.top-h;e[2]=a.right-c;e[3]=a.top-h;e[4]=a.right-c;e[5]=a.bottom-h;e[6]=a.left-c;e[7]=a.bottom-h;this.li=a.right-a.left;this.ki=a.bottom-a.top;this.Q()};f.prototype.Re=function(a,c,h,e,b){this.ka.length=8;this.tb=4;var d=this.ka;d[0]=a.Va-c;d[1]=a.Wa-h;d[2]=a.xb-c;d[3]=a.yb-h;d[4]=a.nb-c;d[5]=a.ob-
h;d[6]=a.lb-c;d[7]=a.mb-h;this.li=e;this.ki=b;this.Q()};f.prototype.$p=function(a){this.tb=a.tb;Ea(this.ka,a.ka);this.gi=a.gi;this.ii-a.ii;this.hi=a.hi;this.fi=a.fi};f.prototype.Oc=function(a,c,h){if(this.li!==a||this.ki!==c||this.Pn!==h){this.li=a;this.ki=c;this.Pn=h;var e,b,d,p,z,B=0,t=1,f=this.Np,l=this.ka;0!==h&&(B=Math.sin(h),t=Math.cos(h));h=0;for(d=this.tb;h<d;h++)e=2*h,b=e+1,p=f[e]*a,z=f[b]*c,l[e]=p*t-z*B,l[b]=z*t+p*B;this.Q()}};f.prototype.Da=function(a,c){var h=this.ka;if(a===h[0]&&c===
h[1])return!0;var e,b,d,p=this.tb,z=this.gi-110,B=this.ii-101,t=this.hi+131,f=this.fi+120,l,w,v=0,C=0;for(e=0;e<p;e++)b=2*e,d=(e+1)%p*2,l=h[b],b=h[b+1],w=h[d],d=h[d+1],ua(z,B,a,c,l,b,w,d)&&v++,ua(t,f,a,c,l,b,w,d)&&C++;return 1===v%2||1===C%2};f.prototype.Ug=function(a,c,h){var e=a.ka,b=this.ka;if(this.Da(e[0]+c,e[1]+h)||a.Da(b[0]-c,b[1]-h))return!0;var d,p,z,B,t,f,l,w,v,C,g,y;d=0;for(B=this.tb;d<B;d++)for(p=2*d,z=(d+1)%B*2,w=b[p],p=b[p+1],v=b[z],C=b[z+1],z=0,l=a.tb;z<l;z++)if(t=2*z,f=(z+1)%l*2,g=
e[t]+c,t=e[t+1]+h,y=e[f]+c,f=e[f+1]+h,ua(w,p,v,C,g,t,y,f))return!0;return!1};f.prototype.Vg=function(a,c,h,e,b,d){var p=this.ka;if(this.Da(h-a,e-c))return!0;var z,B,t,f,l,w;z=0;for(B=this.tb;z<B;z++)if(t=2*z,f=(z+1)%B*2,l=p[t]+a,t=p[t+1]+c,w=p[f]+a,f=p[f+1]+c,ua(h,e,b,d,l,t,w,f))return!0;return!1};f.prototype.Lv=function(a){var c,h,e;c=0;for(h=this.tb;c<h;++c)e=2*c,this.ka[e]=2*a-this.ka[e]};f.prototype.wu=function(a){var c,h,e;c=0;for(h=this.tb;c<h;++c)e=2*c+1,this.ka[e]=2*a-this.ka[e]};f.prototype.it=
function(){var a,c,h,e,b;a=0;for(c=this.tb;a<c;++a)h=2*a,e=h+1,b=this.ka[h],this.ka[h]=this.ka[e],this.ka[e]=b};db=f;a.prototype.ve=function(a,c,h){var e;e=this.cells[a];return e?(e=e[c])?e:h?(e=d(this,a,c),this.cells[a][c]=e):null:h?(e=d(this,a,c),this.cells[a]={},this.cells[a][c]=e):null};a.prototype.Gb=function(a){return Q(a/this.Na)};a.prototype.Hb=function(a){return Q(a/this.Xa)};a.prototype.update=function(a,c,h){var e,b,d,p,z;if(c)for(e=c.left,b=c.right;e<=b;++e)for(d=c.top,p=c.bottom;d<=p;++d)if(!h||
!h.Da(e,d))if(z=this.ve(e,d,!1))z.remove(a),z.Pd()&&(z.ab.clear(),1E3>X.length&&X.push(z),this.cells[e][d]=null);if(h)for(e=h.left,b=h.right;e<=b;++e)for(d=h.top,p=h.bottom;d<=p;++d)c&&c.Da(e,d)||this.ve(e,d,!0).yl(a)};a.prototype.zj=function(a,c){var h,e,b,d,p,z;h=this.Gb(a.left);b=this.Hb(a.top);e=this.Gb(a.right);for(p=this.Hb(a.bottom);h<=e;++h)for(d=b;d<=p;++d)(z=this.ve(h,d,!1))&&z.dump(c)};eb=a;b.prototype.ve=function(a,c,h){var b;b=this.cells[a];return b?(b=b[c])?b:h?(b=e(this,a,c),this.cells[a][c]=
b):null:h?(b=e(this,a,c),this.cells[a]={},this.cells[a][c]=b):null};b.prototype.Gb=function(a){return Q(a/this.Na)};b.prototype.Hb=function(a){return Q(a/this.Xa)};b.prototype.update=function(a,c,h){var e,b,d,p,z;if(c)for(e=c.left,b=c.right;e<=b;++e)for(d=c.top,p=c.bottom;d<=p;++d)if(!h||!h.Da(e,d))if(z=this.ve(e,d,!1))z.remove(a),z.Pd()&&(z.reset(),1E3>U.length&&U.push(z),this.cells[e][d]=null);if(h)for(e=h.left,b=h.right;e<=b;++e)for(d=h.top,p=h.bottom;d<=p;++d)c&&c.Da(e,d)||this.ve(e,d,!0).yl(a)};
b.prototype.zj=function(a,c,h,e,b){var d,p;a=this.Gb(a);c=this.Hb(c);h=this.Gb(h);for(d=this.Hb(e);a<=h;++a)for(e=c;e<=d;++e)(p=this.ve(a,e,!1))&&p.dump(b)};b.prototype.Iv=function(a){var c,h,e,b,d;c=a.left;e=a.top;h=a.right;for(b=a.bottom;c<=h;++c)for(a=e;a<=b;++a)if(d=this.ve(c,a,!1))d.Wf=!1};fb=b;var X=[];c.prototype.Pd=function(){return this.ab.Pd()};c.prototype.yl=function(a){this.ab.add(a)};c.prototype.remove=function(a){this.ab.remove(a)};c.prototype.dump=function(a){Fa(a,this.ab.fd())};da=
c;var U=[];v.prototype.Pd=function(){if(!this.ab.length)return!0;if(this.ab.length>this.ud.count())return!1;this.bl();return!0};v.prototype.yl=function(a){this.ud.contains(a)?(this.ud.remove(a),this.ud.Pd()&&(this.vg=!1)):this.ab.length?(this.ab[this.ab.length-1].qd()>a.qd()&&(this.Wf=!1),this.ab.push(a)):(this.ab.push(a),this.Wf=!0)};v.prototype.remove=function(a){this.ud.add(a);this.vg=!0;30<=this.ud.count()&&this.bl()};v.prototype.bl=function(){this.vg&&(this.ud.count()===this.ab.length?this.reset():
(Za(this.ab,this.ud),this.ud.clear(),this.vg=!1))};v.prototype.Ot=function(){this.Wf||(this.ab.sort(l),this.Wf=!0)};v.prototype.reset=function(){T(this.ab);this.Wf=!0;this.ud.clear();this.vg=!1};v.prototype.dump=function(a){this.bl();this.Ot();this.ab.length&&a.push(this.ab)};ga=v;var aa="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ib=function(a){return 0>=a||11<=a?"source-over":aa[a-1]};jb=function(a,c,h){if(h)switch(a.ub=
h.ONE,a.pb=h.ONE_MINUS_SRC_ALPHA,c){case 1:a.ub=h.ONE;a.pb=h.ONE;break;case 3:a.ub=h.ONE;a.pb=h.ZERO;break;case 4:a.ub=h.ONE_MINUS_DST_ALPHA;a.pb=h.ONE;break;case 5:a.ub=h.DST_ALPHA;a.pb=h.ZERO;break;case 6:a.ub=h.ZERO;a.pb=h.SRC_ALPHA;break;case 7:a.ub=h.ONE_MINUS_DST_ALPHA;a.pb=h.ZERO;break;case 8:a.ub=h.ZERO;a.pb=h.ONE_MINUS_SRC_ALPHA;break;case 9:a.ub=h.DST_ALPHA;a.pb=h.ONE_MINUS_SRC_ALPHA;break;case 10:a.ub=h.ONE_MINUS_DST_ALPHA,a.pb=h.SRC_ALPHA}};kb=function(a){return Math.round(1E6*a)/1E6};
lb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};mb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||lb(a.tagName,"canvas")?!0:!1}})();var fc="undefined"!==typeof Float32Array?Float32Array:Array;function gc(g){var m=new fc(3);g&&(m[0]=g[0],m[1]=g[1],m[2]=g[2]);return m}
function hc(g){var m=new fc(16);g&&(m[0]=g[0],m[1]=g[1],m[2]=g[2],m[3]=g[3],m[4]=g[4],m[5]=g[5],m[6]=g[6],m[7]=g[7],m[8]=g[8],m[9]=g[9],m[10]=g[10],m[11]=g[11],m[12]=g[12],m[13]=g[13],m[14]=g[14],m[15]=g[15]);return m}function ic(g,m){m[0]=g[0];m[1]=g[1];m[2]=g[2];m[3]=g[3];m[4]=g[4];m[5]=g[5];m[6]=g[6];m[7]=g[7];m[8]=g[8];m[9]=g[9];m[10]=g[10];m[11]=g[11];m[12]=g[12];m[13]=g[13];m[14]=g[14];m[15]=g[15]}
function jc(g,m){var k=m[0],r=m[1];m=m[2];g[0]*=k;g[1]*=k;g[2]*=k;g[3]*=k;g[4]*=r;g[5]*=r;g[6]*=r;g[7]*=r;g[8]*=m;g[9]*=m;g[10]*=m;g[11]*=m}
function kc(g,m,k,r){r||(r=hc());var q,u,f,a,b,d,c,e,v=g[0],l=g[1];g=g[2];u=k[0];f=k[1];q=k[2];k=m[1];d=m[2];v===m[0]&&l===k&&g===d?(g=r,g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1):(k=v-m[0],d=l-m[1],c=g-m[2],e=1/Math.sqrt(k*k+d*d+c*c),k*=e,d*=e,c*=e,m=f*c-q*d,q=q*k-u*c,u=u*d-f*k,(e=Math.sqrt(m*m+q*q+u*u))?(e=1/e,m*=e,q*=e,u*=e):u=q=m=0,f=d*u-c*q,a=c*m-k*u,b=k*q-d*m,(e=Math.sqrt(f*f+a*a+b*b))?(e=1/e,f*=e,a*=e,b*=e):b=a=f=0,
r[0]=m,r[1]=f,r[2]=k,r[3]=0,r[4]=q,r[5]=a,r[6]=d,r[7]=0,r[8]=u,r[9]=b,r[10]=c,r[11]=0,r[12]=-(m*v+q*l+u*g),r[13]=-(f*v+a*l+b*g),r[14]=-(k*v+d*l+c*g),r[15]=1)}
(function(){function g(a,b,d){this.Ae=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.na=!!d;this.Ti=this.Wg=!1;this.ti=0;this.ik=1;this.dn=1E3;this.Ow=(this.dn-this.ik)/32768;this.Ak=gc([0,0,100]);this.Yo=gc([0,0,0]);this.Bq=gc([0,1,0]);this.Xh=gc([1,1,1]);this.Zn=!0;this.lj=hc();this.lc=hc();this.Nl=hc();this.Nk=hc();this.q=a;this.version=0===this.q.getParameter(this.q.VERSION).indexOf("WebGL 2")?2:1;this.yo()}function m(a,b,d){this.q=a;this.Hh=
b;this.name=d;this.vc=a.getAttribLocation(b,"aPos");this.Je=a.getAttribLocation(b,"aTex");this.Wo=a.getUniformLocation(b,"matP");this.hj=a.getUniformLocation(b,"matMV");this.bg=a.getUniformLocation(b,"opacity");this.Ul=a.getUniformLocation(b,"colorFill");this.Xo=a.getUniformLocation(b,"samplerFront");this.kh=a.getUniformLocation(b,"samplerBack");this.uf=a.getUniformLocation(b,"destStart");this.tf=a.getUniformLocation(b,"destEnd");this.mh=a.getUniformLocation(b,"seconds");this.Wl=a.getUniformLocation(b,
"pixelWidth");this.Vl=a.getUniformLocation(b,"pixelHeight");this.jh=a.getUniformLocation(b,"layerScale");this.ih=a.getUniformLocation(b,"layerAngle");this.nh=a.getUniformLocation(b,"viewOrigin");this.lh=a.getUniformLocation(b,"scrollPos");this.lv=!!(this.Wl||this.Vl||this.mh||this.kh||this.uf||this.tf||this.jh||this.ih||this.nh||this.lh);this.gp=this.hp=-999;this.kj=1;this.cp=this.bp=0;this.ep=this.$o=this.Zo=1;this.kp=this.jp=this.ip=this.mp=this.lp=this.dp=0;this.Ml=[];this.fp=hc();this.bg&&a.uniform1f(this.bg,
1);this.Ul&&a.uniform4f(this.Ul,1,1,1,1);this.Xo&&a.uniform1i(this.Xo,0);this.kh&&a.uniform1i(this.kh,1);this.uf&&a.uniform2f(this.uf,0,0);this.tf&&a.uniform2f(this.tf,1,1);this.jh&&a.uniform1f(this.jh,1);this.ih&&a.uniform1f(this.ih,0);this.nh&&a.uniform2f(this.nh,0,0);this.lh&&a.uniform2f(this.lh,0,0);this.mh&&a.uniform1f(this.mh,0);this.nf=!1}function k(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&
a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function r(a,b){this.type=a;this.j=b;this.q=b.q;this.jc=this.wb=this.Fp=0;this.S=this.Ec=null;this.bq=[]}var q=hc();g.prototype.yo=function(){var a=this.q,b;this.Qo=1;this.qf=this.De=null;this.si=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.na?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Ro=a.ONE;this.No=a.ONE_MINUS_SRC_ALPHA;this.Wh=new Float32Array(8E3*(this.na?3:2));this.Nh=new Float32Array(16E3);this.Kp=new Float32Array(32E3);this.jm=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.jm);a.bufferData(a.ARRAY_BUFFER,this.Kp.byteLength,a.DYNAMIC_DRAW);this.Vh=Array(4);this.Mh=Array(4);for(b=0;4>b;b++)this.Vh[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Vh[b]),a.bufferData(a.ARRAY_BUFFER,this.Wh.byteLength,a.DYNAMIC_DRAW),this.Mh[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Mh[b]),a.bufferData(a.ARRAY_BUFFER,this.Nh.byteLength,a.DYNAMIC_DRAW);this.Fd=0;this.ov=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.ov);for(var d=new Uint16Array(12E3),c=b=0;12E3>b;)d[b++]=c,d[b++]=c+1,d[b++]=c+2,d[b++]=c,d[b++]=c+2,d[b++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,d,a.STATIC_DRAW);this.km=this.Ue=this.Hc=0;this.Ca=[];b=this.na?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";d=this.Ag({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Ca.push(d);d=this.Ag({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ca.push(d);d=this.Ag({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Ca.push(d);d=this.Ag({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Ca.push(d);for(var e in lc)lc.hasOwnProperty(e)&&this.Ca.push(this.Ag(lc[e],b,e));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.md=[];this.Mc=0;this.Ya=!1;this.Xn=this.bh=-1;this.Mf=null;this.al=a.createFramebuffer();this.xi=this.Aj=null;this.Jn=!1;this.na&&(this.xi=a.createRenderbuffer());this.Ve=gc([0,0,0]);this.np=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.np&&(this.np=2048);this.Rb(0)};m.prototype.Wm=function(a){k(this.fp,a)||(ic(a,this.fp),this.q.uniformMatrix4fv(this.hj,
!1,a))};g.prototype.Ag=function(a,b,d){var c=this.q,e=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(e,a.src);c.compileShader(e);if(!c.getShaderParameter(e,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(e),c.deleteShader(e),Error("error compiling fragment shader: "+a);var f=c.createShader(c.VERTEX_SHADER);c.shaderSource(f,b);c.compileShader(f);if(!c.getShaderParameter(f,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(f),c.deleteShader(e),c.deleteShader(f),Error("error compiling vertex shader: "+a);b=
c.createProgram();c.attachShader(b,e);c.attachShader(b,f);c.linkProgram(b);if(!c.getProgramParameter(b,c.LINK_STATUS))throw a=c.getProgramInfoLog(b),c.deleteShader(e),c.deleteShader(f),c.deleteProgram(b),Error("error linking shader program: "+a);c.useProgram(b);c.deleteShader(e);c.deleteShader(f);e=new m(c,b,d);e.Zk=a.Zk||0;e.$k=a.$k||0;e.Wn=!!a.Wn;e.Yc=!!a.Yc;e.Gn=!!a.Gn;e.T=a.T||[];a=0;for(f=e.T.length;a<f;a++)e.T[a][1]=c.getUniformLocation(b,e.T[a][0]),e.Ml.push(0),c.uniform1f(e.T[a][1],0);return e};
g.prototype.ol=function(a){var b,d;b=0;for(d=this.Ca.length;b<d;b++)if(this.Ca[b].name===a)return b;return-1};g.prototype.Mp=function(a,b,d){var c=this.lc,e=this.lj,f=[0,0,0,0,0,0,0,0];f[0]=c[0]*a+c[4]*b+c[12];f[1]=c[1]*a+c[5]*b+c[13];f[2]=c[2]*a+c[6]*b+c[14];f[3]=c[3]*a+c[7]*b+c[15];f[4]=e[0]*f[0]+e[4]*f[1]+e[8]*f[2]+e[12]*f[3];f[5]=e[1]*f[0]+e[5]*f[1]+e[9]*f[2]+e[13]*f[3];f[6]=e[2]*f[0]+e[6]*f[1]+e[10]*f[2]+e[14]*f[3];f[7]=-f[2];0!==f[7]&&(f[7]=1/f[7],f[4]*=f[7],f[5]*=f[7],f[6]*=f[7],d[0]=(.5*f[4]+
.5)*this.width,d[1]=(.5*f[5]+.5)*this.height)};g.prototype.Zd=function(a,b,d){if(this.width!==a||this.height!==b||d){this.Jd();d=this.q;this.width=a;this.height=b;d.viewport(0,0,a,b);kc(this.Ak,this.Yo,this.Bq,this.lc);if(this.na){var c=-a/2;a=a/2;var e=b/2;b=-b/2;var f=this.ik,l=this.dn,g=this.lj;g||(g=hc());var x=a-c,n=b-e,t=l-f;g[0]=2/x;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/n;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/t;g[11]=0;g[12]=-(c+a)/x;g[13]=-(b+e)/n;g[14]=-(l+f)/t;g[15]=1;this.Xh[0]=1;this.Xh[1]=
1}else b=a/b,c=this.ik,a=this.dn,g=this.lj,l=c*Math.tan(45*Math.PI/360),b*=l,e=-b,f=-l,g||(g=hc()),x=b-e,n=l-f,t=a-c,g[0]=2*c/x,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*c/n,g[6]=0,g[7]=0,g[8]=(b+e)/x,g[9]=(l+f)/n,g[10]=-(a+c)/t,g[11]=-1,g[12]=0,g[13]=0,g[14]=-(a*c*2)/t,g[15]=0,c=[0,0],a=[0,0],this.Mp(0,0,c),this.Mp(1,1,a),this.Xh[0]=1/(a[0]-c[0]),this.Xh[1]=-1/(a[1]-c[1]);c=0;for(a=this.Ca.length;c<a;c++)e=this.Ca[c],e.nf=!1,e.Wo&&(d.useProgram(e.Hh),d.uniformMatrix4fv(e.Wo,!1,this.lj));d.useProgram(this.Ca[this.bh].Hh);
d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE1);d.bindTexture(d.TEXTURE_2D,null);d.activeTexture(d.TEXTURE0);this.qf=this.De=null;this.xi&&(d.bindFramebuffer(d.FRAMEBUFFER,this.al),d.bindRenderbuffer(d.RENDERBUFFER,this.xi),d.renderbufferStorage(d.RENDERBUFFER,d.DEPTH_COMPONENT16,this.width,this.height),this.Jn||(d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,this.xi),this.Jn=!0),d.bindRenderbuffer(d.RENDERBUFFER,null),d.bindFramebuffer(d.FRAMEBUFFER,null),
this.Aj=null)}};g.prototype.Bc=function(){kc(this.Ak,this.Yo,this.Bq,this.lc);jc(this.lc,this.Xh)};g.prototype.translate=function(a,b){if(0!==a||0!==b){this.Ve[0]=a;this.Ve[1]=b;this.Ve[2]=0;var d=this.lc,c=this.Ve,e=c[0],f=c[1],c=c[2];d[12]=d[0]*e+d[4]*f+d[8]*c+d[12];d[13]=d[1]*e+d[5]*f+d[9]*c+d[13];d[14]=d[2]*e+d[6]*f+d[10]*c+d[14];d[15]=d[3]*e+d[7]*f+d[11]*c+d[15]}};g.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ve[0]=a,this.Ve[1]=b,this.Ve[2]=1,jc(this.lc,this.Ve)};g.prototype.Dj=function(a){if(0!==
a){var b=this.lc,d,c=Math.sin(a);a=Math.cos(a);var e=b[0],f=b[1],l=b[2],g=b[3],x=b[4],n=b[5],t=b[6],h=b[7];d?b!==d&&(d[8]=b[8],d[9]=b[9],d[10]=b[10],d[11]=b[11],d[12]=b[12],d[13]=b[13],d[14]=b[14],d[15]=b[15]):d=b;d[0]=e*a+x*c;d[1]=f*a+n*c;d[2]=l*a+t*c;d[3]=g*a+h*c;d[4]=e*-c+x*a;d[5]=f*-c+n*a;d[6]=l*-c+t*a;d[7]=g*-c+h*a}};g.prototype.oc=function(){if(!k(this.Nl,this.lc)){var a=this.Ob();a.type=5;a.S?ic(this.lc,a.S):a.S=hc(this.lc);ic(this.lc,this.Nl);this.Ya=!1}};g.prototype.Ij=function(a){this.na&&
(32760<a&&(a=32760),this.ti=this.Ak[2]-this.ik-a*this.Ow)};r.prototype.xt=function(){var a=this.q,b=this.j;0!==this.wb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.al),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Ti=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Ti=!1)};r.prototype.Bt=function(){this.q.bindTexture(this.q.TEXTURE_2D,
this.Ec)};r.prototype.Ct=function(){var a=this.q;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Ec);a.activeTexture(a.TEXTURE0)};r.prototype.yt=function(){var a=this.Fp,b=this.j;b.si=a;b=b.Mf;b.bg&&b.kj!==a&&(b.kj=a,this.q.uniform1f(b.bg,a))};r.prototype.pt=function(){this.q.drawElements(this.q.TRIANGLES,this.jc,this.q.UNSIGNED_SHORT,this.wb)};r.prototype.tt=function(){this.q.blendFunc(this.wb,this.jc)};r.prototype.Dt=function(){var a,b,d,c=this.j.Ca,e=this.j.Xn;a=0;for(b=c.length;a<
b;a++)d=c[a],a===e&&d.hj?(d.Wm(this.S),d.nf=!0):d.nf=!1;ic(this.S,this.j.Nk)};r.prototype.qt=function(){var a=this.q,b=this.j;this.Ec?(b.qf===this.Ec&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.qf=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.al),b.Ti||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Ec,0)):(b.na||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
r.prototype.mt=function(){var a=this.q,b=this.wb;0===b?(a.clearColor(this.S[0],this.S[1],this.S[2],this.S[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.S[0],this.S[1],this.S[2],this.S[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};r.prototype.wt=function(){var a=this.q;0!==this.wb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};r.prototype.ot=function(){var a=this.q,b=this.j;b.na&&a.disable(a.DEPTH_TEST);
var d=b.Ca[1];a.useProgram(d.Hh);!d.nf&&d.hj&&(d.Wm(b.Nk),d.nf=!0);a.enableVertexAttribArray(d.vc);a.bindBuffer(a.ARRAY_BUFFER,b.jm);a.vertexAttribPointer(d.vc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.wb/4,this.jc);d=b.Mf;a.useProgram(d.Hh);0<=d.vc&&(a.enableVertexAttribArray(d.vc),a.bindBuffer(a.ARRAY_BUFFER,b.Vh[b.Fd]),a.vertexAttribPointer(d.vc,b.na?3:2,a.FLOAT,!1,0,0));0<=d.Je&&(a.enableVertexAttribArray(d.Je),a.bindBuffer(a.ARRAY_BUFFER,b.Mh[b.Fd]),a.vertexAttribPointer(d.Je,2,a.FLOAT,!1,
0,0));b.na&&a.enable(a.DEPTH_TEST)};r.prototype.zt=function(){var a=this.q,b=this.j,d=b.Ca[this.wb];b.Xn=this.wb;b.Mf=d;a.useProgram(d.Hh);!d.nf&&d.hj&&(d.Wm(b.Nk),d.nf=!0);d.bg&&d.kj!==b.si&&(d.kj=b.si,a.uniform1f(d.bg,b.si));0<=d.vc&&(a.enableVertexAttribArray(d.vc),a.bindBuffer(a.ARRAY_BUFFER,b.Vh[b.Fd]),a.vertexAttribPointer(d.vc,b.na?3:2,a.FLOAT,!1,0,0));0<=d.Je&&(a.enableVertexAttribArray(d.Je),a.bindBuffer(a.ARRAY_BUFFER,b.Mh[b.Fd]),a.vertexAttribPointer(d.Je,2,a.FLOAT,!1,0,0))};r.prototype.ut=
function(){var a=this.S;this.q.uniform4f(this.j.Mf.Ul,a[0],a[1],a[2],a[3])};r.prototype.At=function(){var a,b,d=this.j.Mf,c=this.q;a=this.S;d.kh&&this.j.qf!==this.Ec&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.Ec),this.j.qf=this.Ec,c.activeTexture(c.TEXTURE0));var e=a[0];d.Wl&&e!==d.hp&&(d.hp=e,c.uniform1f(d.Wl,e));e=a[1];d.Vl&&e!==d.gp&&(d.gp=e,c.uniform1f(d.Vl,e));e=a[2];b=a[3];!d.uf||e===d.bp&&b===d.cp||(d.bp=e,d.cp=b,c.uniform2f(d.uf,e,b));e=a[4];b=a[5];!d.tf||e===d.Zo&&b===
d.$o||(d.Zo=e,d.$o=b,c.uniform2f(d.tf,e,b));e=a[6];d.jh&&e!==d.ep&&(d.ep=e,c.uniform1f(d.jh,e));e=a[7];d.ih&&e!==d.dp&&(d.dp=e,c.uniform1f(d.ih,e));e=a[8];b=a[9];!d.nh||e===d.lp&&b===d.mp||(d.lp=e,d.mp=b,c.uniform2f(d.nh,e,b));e=a[10];b=a[11];!d.lh||e===d.ip&&b===d.jp||(d.ip=e,d.jp=b,c.uniform2f(d.lh,e,b));e=a[12];d.mh&&e!==d.kp&&(d.kp=e,c.uniform1f(d.mh,e));if(d.T.length)for(a=0,b=d.T.length;a<b;a++)e=this.bq[a],e!==d.Ml[a]&&(d.Ml[a]=e,c.uniform1f(d.T[a][1],e))};g.prototype.Ob=function(){this.Mc===
this.md.length&&this.md.push(new r(0,this));return this.md[this.Mc++]};g.prototype.Jd=function(){if(0!==this.Mc&&!this.q.isContextLost()){var a=this.q;0<this.km&&(a.bindBuffer(a.ARRAY_BUFFER,this.jm),a.bufferSubData(a.ARRAY_BUFFER,0,this.Kp.subarray(0,this.km)),b&&0<=b.vc&&"<point>"===b.name&&a.vertexAttribPointer(b.vc,4,a.FLOAT,!1,0,0));if(0<this.Hc){var b=this.Mf;a.bindBuffer(a.ARRAY_BUFFER,this.Vh[this.Fd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Wh.subarray(0,this.Hc));b&&0<=b.vc&&"<point>"!==b.name&&
a.vertexAttribPointer(b.vc,this.na?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Mh[this.Fd]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Nh.subarray(0,this.Ue));b&&0<=b.Je&&"<point>"!==b.name&&a.vertexAttribPointer(b.Je,2,a.FLOAT,!1,0,0)}for(var d,a=0,b=this.Mc;a<b;a++)switch(d=this.md[a],d.type){case 1:d.pt();break;case 2:d.Bt();break;case 3:d.yt();break;case 4:d.tt();break;case 5:d.Dt();break;case 6:d.qt();break;case 7:d.mt();break;case 8:d.ot();break;case 9:d.zt();break;case 10:d.At();break;
case 11:d.Ct();break;case 12:d.ut();break;case 13:d.wt();break;case 14:d.xt()}this.km=this.Ue=this.Hc=this.Mc=0;this.Ti=this.Ya=!1;this.Fd++;4<=this.Fd&&(this.Fd=0)}};g.prototype.Yd=function(a){if(a!==this.Qo&&!this.Wg){var b=this.Ob();b.type=3;this.Qo=b.Fp=a;this.Ya=!1}};g.prototype.Ja=function(a){if(a!==this.De){var b=this.Ob();b.type=2;this.De=b.Ec=a;this.Ya=!1}};g.prototype.Qe=function(a,b){if((a!==this.Ro||b!==this.No)&&!this.Wg){var d=this.Ob();d.type=4;d.wb=a;d.jc=b;this.Ro=a;this.No=b;this.Ya=
!1}};g.prototype.Tp=function(){this.Qe(this.q.ONE,this.q.ONE_MINUS_SRC_ALPHA)};g.prototype.zf=function(a,b,d,c,e,f,l,g){15992<=this.Hc&&this.Jd();var x=this.Hc,n=this.Ue,t=this.Wh,h=this.Nh,p=this.ti;if(this.Ya)this.md[this.Mc-1].jc+=6;else{var w=this.Ob();w.type=1;w.wb=this.na?x:x/2*3;w.jc=6;this.Ya=!0}this.na?(t[x++]=a,t[x++]=b,t[x++]=p,t[x++]=d,t[x++]=c,t[x++]=p,t[x++]=e,t[x++]=f,t[x++]=p,t[x++]=l,t[x++]=g,t[x++]=p):(t[x++]=a,t[x++]=b,t[x++]=d,t[x++]=c,t[x++]=e,t[x++]=f,t[x++]=l,t[x++]=g);h[n++]=
0;h[n++]=0;h[n++]=1;h[n++]=0;h[n++]=1;h[n++]=1;h[n++]=0;h[n++]=1;this.Hc=x;this.Ue=n};g.prototype.$c=function(a,b,d,c,e,f,l,g,x){15992<=this.Hc&&this.Jd();var n=this.Hc,t=this.Ue,h=this.Wh,p=this.Nh,w=this.ti;if(this.Ya)this.md[this.Mc-1].jc+=6;else{var C=this.Ob();C.type=1;C.wb=this.na?n:n/2*3;C.jc=6;this.Ya=!0}var C=x.left,qa=x.top,E=x.right;x=x.bottom;this.na?(h[n++]=a,h[n++]=b,h[n++]=w,h[n++]=d,h[n++]=c,h[n++]=w,h[n++]=e,h[n++]=f,h[n++]=w,h[n++]=l,h[n++]=g,h[n++]=w):(h[n++]=a,h[n++]=b,h[n++]=
d,h[n++]=c,h[n++]=e,h[n++]=f,h[n++]=l,h[n++]=g);p[t++]=C;p[t++]=qa;p[t++]=E;p[t++]=qa;p[t++]=E;p[t++]=x;p[t++]=C;p[t++]=x;this.Hc=n;this.Ue=t};g.prototype.om=function(a,b,d,c,e,f,l,g,x,n,t,h,p,w,C,qa){15992<=this.Hc&&this.Jd();var E=this.Hc,k=this.Ue,m=this.Wh,u=this.Nh,r=this.ti;if(this.Ya)this.md[this.Mc-1].jc+=6;else{var q=this.Ob();q.type=1;q.wb=this.na?E:E/2*3;q.jc=6;this.Ya=!0}this.na?(m[E++]=a,m[E++]=b,m[E++]=r,m[E++]=d,m[E++]=c,m[E++]=r,m[E++]=e,m[E++]=f,m[E++]=r,m[E++]=l,m[E++]=g,m[E++]=
r):(m[E++]=a,m[E++]=b,m[E++]=d,m[E++]=c,m[E++]=e,m[E++]=f,m[E++]=l,m[E++]=g);u[k++]=x;u[k++]=n;u[k++]=t;u[k++]=h;u[k++]=p;u[k++]=w;u[k++]=C;u[k++]=qa;this.Hc=E;this.Ue=k};g.prototype.Un=function(a){var b=a.length/2-2,d=b-1,c=a[0],e=a[1],f,l,g,x,n,t,h;for(f=0;f<b;f+=2)l=2*f,g=a[l+2],x=a[l+3],n=a[l+4],t=a[l+5],f===d?this.zf(c,e,g,x,n,t,n,t):(h=a[l+6],l=a[l+7],this.zf(c,e,g,x,n,t,h,l))};g.prototype.Rb=function(a){if(this.bh!==a){if(!this.Ca[a]){if(0===this.bh)return;a=0}var b=this.Ob();b.type=9;this.bh=
b.wb=a;this.Ya=!1}};g.prototype.Bh=function(a){a=this.Ca[a];return!(!a.uf&&!a.tf)};g.prototype.mm=function(a){a=this.Ca[a];return!!(a.uf||a.tf||a.Wn)};g.prototype.lm=function(a){return this.Ca[a].Yc};g.prototype.fw=function(a){a=this.Ca[a];return 0!==a.Zk||0!==a.$k};g.prototype.Ku=function(a){return this.Ca[a].Zk};g.prototype.Lu=function(a){return this.Ca[a].$k};g.prototype.Mu=function(a,b){return this.Ca[a].T[b][2]};g.prototype.xj=function(a){return this.Ca[a].Gn};g.prototype.lg=function(a,b,d,c,
e,f,l,g,x,n,t,h,p,w,C){var k=this.Ca[this.bh],E,m;if(k.lv||C.length){E=this.Ob();E.type=10;E.S?ic(this.lc,E.S):E.S=hc();m=E.S;m[0]=b;m[1]=d;m[2]=c;m[3]=e;m[4]=f;m[5]=l;m[6]=g;m[7]=x;m[8]=n;m[9]=t;m[10]=h;m[11]=p;m[12]=w;k.kh?E.Ec=a:E.Ec=null;if(C.length)for(d=E.bq,d.length=C.length,a=0,b=C.length;a<b;a++)d[a]=C[a];this.Ya=!1}};g.prototype.clear=function(a,b,d,c){var e=this.Ob();e.type=7;e.wb=0;e.S||(e.S=hc());e.S[0]=a;e.S[1]=b;e.S[2]=d;e.S[3]=c;this.Ya=!1};g.prototype.clearRect=function(a,b,d,c){if(!(0>
d||0>c)){var e=this.Ob();e.type=7;e.wb=1;e.S||(e.S=hc());e.S[0]=a;e.S[1]=b;e.S[2]=d;e.S[3]=c;this.Ya=!1}};g.prototype.Wp=function(a){if(this.na&&(a=!!a,this.Wg!==a)){var b=this.Ob();b.type=14;b.wb=a?1:0;this.Ya=!1;this.Wg=a;this.Aj=null;this.Wg?this.Rb(2):this.Rb(0)}};g.prototype.Vp=function(a){if(this.na){var b=this.Ob();b.type=13;b.wb=a?1:0;this.Ya=!1}};g.prototype.ho=function(){ic(this.Nl,q);this.Bc();this.oc();var a=this.width/2,b=this.height/2;this.zf(-a,b,a,b,a,-b,-a,-b);ic(q,this.lc);this.oc()};
g.prototype.Up=function(a,b,d){this.Rb(3);var c=this.Ob();c.type=12;c.S||(c.S=hc());c.S[0]=a;c.S[1]=b;c.S[2]=d;c.S[3]=1;this.Ya=!1};g.prototype.Aw=function(){this.Rb(0)};g.prototype.lw=function(){this.Rb(2)};g.prototype.ew=function(){this.Jd();this.q.flush()};var u=[],f={};g.prototype.bt=function(){T(u);f={}};g.prototype.ej=function(a,b,d,c){b=!!b;d=!!d;var e=a.src+","+b+","+d+(b?",undefined":""),g=null;if("undefined"!==typeof a.src&&f.hasOwnProperty(e))return g=f[e],g.ji++,g;this.Jd();var l=this.q,
y=ka(a.width)&&ka(a.height),g=l.createTexture();l.bindTexture(l.TEXTURE_2D,g);l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var x=l.RGBA,n=l.RGBA,t=l.UNSIGNED_BYTE;if(c&&!this.Ae)switch(c){case 1:n=x=l.RGB;break;case 2:t=l.UNSIGNED_SHORT_4_4_4_4;break;case 3:t=l.UNSIGNED_SHORT_5_5_5_1;break;case 4:n=x=l.RGB,t=l.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!y&&b){c=document.createElement("canvas");c.width=la(a.width);c.height=la(a.height);var h=c.getContext("2d");"undefined"!==typeof h.imageSmoothingEnabled?
h.imageSmoothingEnabled=d:(h.webkitImageSmoothingEnabled=d,h.mozImageSmoothingEnabled=d,h.msImageSmoothingEnabled=d);h.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);l.texImage2D(l.TEXTURE_2D,0,x,n,t,c)}else l.texImage2D(l.TEXTURE_2D,0,x,n,t,a);b?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));d?(l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_MAG_FILTER,l.LINEAR),(y||2<=this.version)&&this.Zn?(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR_MIPMAP_LINEAR),l.generateMipmap(l.TEXTURE_2D)):l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST));l.bindTexture(l.TEXTURE_2D,null);this.De=null;g.cf=a.width;g.bf=a.height;g.ji=1;g.On=e;u.push(g);return f[e]=g};g.prototype.Bb=function(a,b,d,c,e){this.Jd();
var f=this.q;this.Ae&&(c=!1);var l=f.createTexture();f.bindTexture(f.TEXTURE_2D,l);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,a,b,0,f.RGBA,c?f.UNSIGNED_SHORT_4_4_4_4:f.UNSIGNED_BYTE,null);e?(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.REPEAT),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.REPEAT)):(f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE));f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,d?f.LINEAR:f.NEAREST);f.texParameteri(f.TEXTURE_2D,
f.TEXTURE_MIN_FILTER,d?f.LINEAR:f.NEAREST);f.bindTexture(f.TEXTURE_2D,null);this.De=null;l.cf=a;l.bf=b;u.push(l);return l};g.prototype.fk=function(a,b,f){this.Jd();var c=this.q;this.Ae&&(f=!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,f?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(e){console&&console.error&&console.error("Error updating WebGL texture: ",e)}c.bindTexture(c.TEXTURE_2D,null);this.De=null};g.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.ji&&1<a.ji?a.ji--:(this.Jd(),a===this.De&&(this.q.bindTexture(this.q.TEXTURE_2D,null),this.De=null),a===this.qf&&(this.q.activeTexture(this.q.TEXTURE1),this.q.bindTexture(this.q.TEXTURE_2D,null),this.q.activeTexture(this.q.TEXTURE0),this.qf=null),Ha(u,a),"undefined"!==typeof a.On&&delete f[a.On],this.q.deleteTexture(a)))};g.prototype.Cc=function(a){if(a!==this.Aj){var b=this.Ob();b.type=6;this.Aj=b.Ec=a;this.Ya=!1}};nb=g})();
(function(){function g(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.uc=(this.Dl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Od=!!a.dc;this.sv="undefined"!==typeof window.AppMobi||
this.Od;this.tc=!!window.c2cocoonjs;this.Sc=!!window.c2ejecta;this.tc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Sc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Qa=this.Od||this.tc||this.Sc;this.Ui=
/edge\//i.test(navigator.userAgent);this.Ae=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Ui;this.Go=/tizen/i.test(navigator.userAgent);this.Cl=/android/i.test(navigator.userAgent)&&!this.Go&&!this.Ae&&!this.Ui;this.Mo=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Ae&&!this.Ui;this.Cv=/ipad/i.test(navigator.userAgent);this.Yi=this.Mo||this.Cv||this.Sc;this.vv=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Ae&&!this.Ui;this.rv=/amazonwebappplatform/i.test(navigator.userAgent);this.xv=/firefox/i.test(navigator.userAgent);this.Gl=this.Vi="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Ko=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Bv=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Zg=
!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Kl=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Jl=!!window.cr_windows10;this.Jo=this.Ko||this.Bv||this.Kl||this.Jl;this.tv=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Do=this.Cl&&!this.vv&&!this.Dl&&!this.xv&&!this.rv&&!this.Qa;this.devicePixelRatio=1;this.Qd=this.uc||this.Dl||this.sv||this.tc||this.Cl||this.Yi||this.Zg||this.Kl||this.tv||this.Go||
this.Sc;this.Qd||(this.Qd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Ho=!!(this.Yi&&this.uc&&window.webkit);"undefined"===typeof cr_is_preview||this.Vi||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Vi=!0);this.Eo="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.Bk=document.getElementById("c2canvasdiv");
this.j=this.q=null;this.ql="(unavailable)";this.na=!1;this.jf=0;this.pa=null;this.Fi=!1;this.yp=this.zp=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Od&&(window.c2runtime=this);this.Vi&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Do&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.I=this.width;this.H=this.height;this.qi=this.width;this.Cg=this.height;this.Zf=window.innerWidth;this.Yf=window.innerHeight;this.da=!0;this.Yg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.p=[];this.wa=[];this.Sl={};this.Uc=[];this.Xk={};
this.Kd=[];this.tg=[];this.$j=[];this.Ls=[];this.Ms=[];this.Dm=this.Nj=null;this.ff={};this.Fl=this.we=!1;this.Tc=0;this.El=this.Il=!1;this.Pc=[];this.Xg=!1;this.cj=this.Am="";this.Sa=null;this.Sd="";this.Kh=this.dq=!1;this.Ei=[];this.hf=this.gf=0;this.sp=30;this.Lk=this.oh=0;this.Ph=1;this.$b=new bb;this.hk=new bb;this.oj=this.Ki=this.Fg=this.yd=this.sf=this.Ji=this.$i=0;this.Hk=null;this.Sk=[];this.Wk=[];this.Ai=-1;this.Xl=[[]];this.Sm=this.ij=0;this.yj(null);this.ph=[];this.dg=-1;this.Gg=this.vp=
this.uh=0;this.Lh=[];this.Pm=this.pm=-1;this.Zi=!0;this.gj=0;this.Rd=!1;this.Bw=0;this.yg=null;this.Be=this.to=!1;this.xp=new ea;this.em=new ea;this.fm=new ea;this.ig=[];this.bd=new db([]);this.Jm=new db([]);this.Kf=[];this.Pg={};this.le={};this.he={};this.sg={};this.Kn={};this.Uo=this.bj=this.Ha=this.Ra=this.To=this.aj=this.W=null;this.qg=this.Ll=!1;this.dl=[null,null];this.ue=0;this.Xd={};this.Ih=this.He=null;this.gq="";this.nj=[];this.kw()}}function m(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?
a[1]:a[0]}function k(){try{return!!window.indexedDB}catch(a){return!1}}function r(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function q(a,c,h,e){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=r;b.onerror=e;b.onsuccess=function(b){b=b.target.result;b.onerror=e;b.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=h}}catch(f){e(f)}}function u(a,c,h){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=r;e.onerror=h;e.onsuccess=
function(e){e=e.target.result;e.onerror=h;var b=e.transaction(["saves"]).objectStore("saves").get(a);b.onsuccess=function(){b.result?c(b.result.data):c(null)}}}catch(b){h(b)}}function f(){A("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,h={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ea||a[c]&&"undefined"!==typeof a[c].Hx||"spriteCreatedDestroyCallback"!==
c&&(h[c]=a[c]);return h}var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;g.prototype.kw=function(){var a=this;if(this.Ho)this.tu(function(c){a.hh(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.Zg?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var h="data.js";if(this.Ko||this.Zg||this.Kl||this.Jl)h="data.json";c.open("GET",h,!0);var e=!1;
if(!this.Qa&&"response"in c&&"responseType"in c)try{c.responseType="json",e="json"===c.responseType}catch(b){e=!1}if(!e&&"responseType"in c)try{c.responseType="text"}catch(f){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(d){}this.Zg?c.onreadystatechange=function(){4===c.readyState&&a.hh(JSON.parse(c.responseText))}:(c.onload=function(){if(e)a.hh(c.response);else if(a.Sc){var h=c.responseText,h=h.substr(h.indexOf("{"));a.hh(JSON.parse(h))}else a.hh(JSON.parse(c.responseText))},
c.onerror=function(a){ha("Error requesting "+h+":");ha(a)});c.send()}};g.prototype.pv=function(){var a=this,c,h,e,b,f,d,p,t,l;this.pf=(!this.Qa||this.Sc||this.uc)&&this.Hw&&!this.Do;0===this.Jb&&this.Yi&&(this.pf=!1);this.devicePixelRatio=this.pf?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.jb();0<this.Jb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();
a.Nv();A("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.j.yo();a.j.Zd(a.j.width,a.j.height,!0);a.Ra=null;a.Ha=null;a.dl[0]=null;a.dl[1]=null;a.Ov();a.da=!0;A("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.Mt&&(this.tc||this.Sc||!this.Qa)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.Cl||(this.q=this.canvas.getContext("webgl2",
c)),this.q||(this.q=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(w){}if(this.q){if(c=this.q.getExtension("WEBGL_debug_renderer_info"))this.ql=this.q.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.q.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.na&&(this.ql+=" [front-to-back enabled]");this.Qa||(this.gb=document.createElement("canvas"),jQuery(this.gb).appendTo(this.canvas.parentNode),this.gb.oncontextmenu=function(){return!1},this.gb.onselectstart=function(){return!1},
this.gb.width=Math.round(this.qi*this.devicePixelRatio),this.gb.height=Math.round(this.Cg*this.devicePixelRatio),jQuery(this.gb).css({width:this.qi+"px",height:this.Cg+"px"}),this.Lp(),this.im=this.gb.getContext("2d"));this.j=new nb(this.q,this.Qd,this.na);this.j.Zd(this.canvas.width,this.canvas.height);this.j.Zn=0!==this.Et;this.pa=null;c=0;for(h=this.p.length;c<h;c++)for(f=this.p[c],e=0,b=f.M.length;e<b;e++)p=f.M[e],p.Ka=this.j.ol(p.id),p.Yc=this.j.lm(p.Ka),this.qg=this.qg||this.j.Bh(p.Ka);c=0;
for(h=this.Uc.length;c<h;c++){t=this.Uc[c];e=0;for(b=t.M.length;e<b;e++)p=t.M[e],p.Ka=this.j.ol(p.id),p.Yc=this.j.lm(p.Ka);t.ed();e=0;for(b=t.O.length;e<b;e++){l=t.O[e];f=0;for(d=l.M.length;f<d;f++)p=l.M[f],p.Ka=this.j.ol(p.id),p.Yc=this.j.lm(p.Ka),this.qg=this.qg||this.j.Bh(p.Ka);l.ed()}}}else{if(0<this.Jb&&this.Od){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.pa=AppMobi.canvas.getContext("2d");try{this.pa.samplingMode=this.qa?"smooth":
"sharp",this.pa.globalScale=1,this.pa.HTML5CompatibilityMode=!0,this.pa.imageSmoothingEnabled=this.qa}catch(g){}0!==this.width&&0!==this.height&&(this.pa.width=this.width,this.pa.height=this.height)}this.pa||(this.tc?(c={antialias:!!this.qa,alpha:!0},this.pa=this.canvas.getContext("2d",c)):(c={alpha:!0},this.pa=this.canvas.getContext("2d",c)),this.Hj(this.pa,this.qa));this.im=this.gb=null}this.pq=function(c){a.Fc(!1,c)};window==window.top||this.Qa||this.Jo||this.Zg||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.tc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(A("Reloading for continuous preview"),this.cj="__c2_continuouspreview",this.Kh=!0),this.Xv&&!this.Qd&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));
window.addEventListener("blur",function(){});this.Qa||(c=function(a){if(mb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Jb&&this.pf&&
1<this.devicePixelRatio&&this.setSize(this.Aa,this.za,!0);this.yq();this.hv();this.go();this.A={}};g.prototype.setSize=function(a,c,h){var e=0,b=0,f=0,d=0,d=0;if(this.Zf!==a||this.Yf!==c||h){this.Zf=a;this.Yf=c;var p=this.Jb;if((f=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Rd)&&!this.uc)||0!==this.Jb||h)f&&(p=this.ue),h=this.devicePixelRatio,4<=p?(5===p&&1!==h&&(a+=1,c+=1),f=this.Aa/this.za,a/c>f?(f*=c,5===p?(d=f*h/this.Aa,1<d?d=
Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),f=this.Aa*d/h,d=this.za*d/h,e=(a-f)/2,b=(c-d)/2,a=f,c=d):(e=(a-f)/2,a=f)):(d=a/f,5===p?(d=d*h/this.za,1<d?d=Math.floor(d):1>d&&(d=1/Math.ceil(1/d)),f=this.Aa*d/h,d=this.za*d/h,e=(a-f)/2,b=(c-d)/2,a=f):b=(c-d)/2,c=d)):f&&0===p&&(e=Math.floor((a-this.Aa)/2),b=Math.floor((c-this.za)/2),a=this.Aa,c=this.za),2>p&&(this.xg=h),this.qi=Math.round(a),this.Cg=Math.round(c),this.width=Math.round(a*h),this.height=Math.round(c*h),this.da=!0,this.Iq?(this.I=this.width,this.H=
this.height,this.hc=!0):this.width<this.Aa&&this.height<this.za||1===p?(this.I=this.width,this.H=this.height,this.hc=!0):(this.I=this.Aa,this.H=this.za,this.hc=!1,2===p?(f=this.Aa/this.za,p=this.Zf/this.Yf,p<f?this.I=this.H*p:p>f&&(this.H=this.I/p)):3===p&&(f=this.Aa/this.za,p=this.Zf/this.Yf,p>f?this.I=this.H*p:p<f&&(this.H=this.I/p))),this.Bk&&!this.Qa&&(jQuery(this.Bk).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(e)+"px","margin-top":Math.floor(b)+"px"}),"undefined"!==
typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*h),this.canvas.height=Math.round(c*h),this.Sc?(this.canvas.style.left=Math.floor(e)+"px",this.canvas.style.top=Math.floor(b)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.pf&&!this.Qa&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.gb&&(this.gb.width=Math.round(a*
h),this.gb.height=Math.round(c*h),this.gb.style.width=this.qi+"px",this.gb.style.height=this.Cg+"px"),this.j&&this.j.Zd(Math.round(a*h),Math.round(c*h)),this.Od&&this.pa&&(this.pa.width=Math.round(a),this.pa.height=Math.round(c)),this.pa&&this.Hj(this.pa,this.qa),this.yq(),this.Mo&&!this.uc&&window.scrollTo(0,0)}};g.prototype.yq=function(){if(this.Rs&&0!==this.hm){var a="portrait";2===this.hm&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):
screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};g.prototype.Nv=function(){this.j.bt();this.Ll=!0;var a,c,h;a=0;for(c=this.p.length;a<c;a++)h=this.p[a],h.hg&&h.hg()};g.prototype.Ov=function(){this.Ll=!1;var a,c,h;a=0;for(c=this.p.length;a<c;a++)h=this.p[a],
h.xh&&h.xh()};g.prototype.Lp=function(){if(!this.Qa){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Rd)&&!this.uc?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.gb).css(a)}};var d=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;g.prototype.setSuspended=function(a){var c;if(a&&
!this.Yg)for(A("[Construct 2] Suspending"),this.Yg=!0,-1!==this.pm&&d&&d(this.pm),-1!==this.Pm&&clearTimeout(this.Pm),a=0,c=this.Lh.length;a<c;a++)this.Lh[a](!0);else if(!a&&this.Yg){A("[Construct 2] Resuming");this.Yg=!1;this.$i=Xa();this.sf=Xa();a=this.oh=this.Ki=0;for(c=this.Lh.length;a<c;a++)this.Lh[a](!1);this.Fc(!1)}};g.prototype.Ks=function(a){this.Lh.push(a)};g.prototype.fe=function(a){return this.nj[a]};g.prototype.hh=function(a){a&&a.project||ha("Project model unavailable");a=a.project;
this.name=a[0];this.fo=a[1];this.Jb=a[12];this.Aa=a[10];this.za=a[11];this.Gp=this.Aa/2;this.Hp=this.za/2;this.Qa&&!this.Sc&&(4<=a[12]||0===a[12])&&(A("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Jb=3);this.Ym=a[18];this.Ie=a[19];if(0===this.Ie){var c=new Image;c.crossOrigin="anonymous";this.Xp(c,"loading-logo.png");this.He={jj:c}}else if(4===this.Ie){c=new Image;c.src="";var h=new Image;h.src="";var e=new Image;e.src="";
var b=new Image;b.src="";var f=new Image;f.src="";var d=new Image;d.src="";var p=new Image;p.src="";var t=new Image;t.src="";var l=new Image;l.src="";var w=new Image;w.src="";var g=new Image;g.src="";var C=new Image;C.src="";this.He={jj:[c,h,e,b],bw:[f,d,p,t],Lw:[l,w,g,C]}}this.uh=a[21];this.nj=mc();this.xd=new W(this);c=0;for(h=a[2].length;c<h;c++)p=a[2][c],e=this.fe(p[0]),ob(p,e.prototype),t=new e(this),t.Mj=p[1],t.Ce=p[2],t.Nx=p[5],t.tp=p[9],t.J&&t.J(),this.plugins.push(t);this.nj=mc();c=0;for(h=
a[3].length;c<h;c++){p=a[3][c];f=this.fe(p[1]);t=null;e=0;for(b=this.plugins.length;e<b;e++)if(this.plugins[e]instanceof f){t=this.plugins[e];break}l=new t.ga(t);l.name=p[0];l.C=p[2];l.zl=p[3].slice(0);l.Jw=p[3].length;l.Ss=p[4];l.xu=p[5];l.X=p[11];l.C?(l.wf=[],l.Ld=this.Gg++,l.ta=null):(l.wf=null,l.Ld=-1,l.ta=[]);l.Di=null;l.Qf=null;l.$n=null;l.Mb=!1;l.Wb=null;p[6]?(l.Sj=p[6][0],l.Tj=p[6][1],l.Km=p[6][2]):(l.Sj=null,l.Tj=0,l.Km=0);p[7]?l.Vb=p[7]:l.Vb=null;l.index=c;l.e=[];l.wi=[];l.be=[new pb(l)];
l.nd=0;l.qc=null;l.ht=0;l.ng=!0;l.bk=qb;l.Cu=rb;l.Iu=sb;l.ca=tb;l.Dh=ub;l.Me=vb;l.Xc=yb;l.Li=zb;l.el=Ab;l.jl=Bb;l.Kc=Cb;l.ll=Db;l.ni=new eb(this.Aa,this.za);l.ci=!0;l.di=!1;l.A={};l.toString=Eb;l.wa=[];e=0;for(b=p[8].length;e<b;e++){w=p[8][e];g=this.fe(w[1]);C=null;f=0;for(d=this.wa.length;f<d;f++)if(this.wa[f]instanceof g){C=this.wa[f];break}C||(C=new g(this),C.dm=[],C.rh=new ea,C.J&&C.J(),this.wa.push(C),nc&&C instanceof nc&&(this.Nj=C),oc&&C instanceof oc&&(this.Dm=C));-1===C.dm.indexOf(l)&&C.dm.push(l);
f=new C.ga(C,l);f.name=w[0];f.X=w[2];f.J();l.wa.push(f)}l.global=p[9];l.Hl=p[10];l.M=[];e=0;for(b=p[12].length;e<b;e++)l.M.push({id:p[12][e][0],name:p[12][e][1],Ka:-1,Yc:!1,ec:!0,index:e});l.Vj=p[13];this.Ym&&!l.C&&!l.Hl&&t.Ce||l.J();l.name&&(this.types[l.name]=l);this.p.push(l);t.Mj&&(e=new t.R(l),e.uid=this.uh++,e.Op=this.vp++,e.of=0,e.Ng=Fb,e.toString=Gb,e.B=p[14],e.J(),l.e.push(e),this.Xd[e.uid.toString()]=e)}c=0;for(h=a[4].length;c<h;c++)for(f=a[4][c],d=this.p[f[0]],e=1,b=f.length;e<b;e++)p=
this.p[f[e]],p.ta.push(d),d.wf.push(p);c=0;for(h=a[28].length;c<h;c++){f=a[28][c];d=[];e=0;for(b=f.length;e<b;e++)d.push(this.p[f[e]]);e=0;for(b=d.length;e<b;e++)d[e].Mb=!0,d[e].Wb=d}if(0<this.Gg)for(c=0,h=this.p.length;c<h;c++)if(p=this.p[c],!p.C&&p.ta.length){p.Di=Array(this.Gg);p.Qf=Array(this.Gg);p.$n=Array(this.Gg);l=[];e=C=g=w=0;for(b=p.ta.length;e<b;e++)for(t=p.ta[e],p.Di[t.Ld]=w,w+=t.Jw,p.Qf[t.Ld]=g,g+=t.Ss,p.$n[t.Ld]=C,C+=t.xu,f=0,d=t.M.length;f<d;f++)l.push(Ba({},t.M[f]));p.M=l.concat(p.M);
e=0;for(b=p.M.length;e<b;e++)p.M[e].index=e}c=0;for(h=a[5].length;c<h;c++)p=a[5][c],e=new Hb(this,p),this.Sl[e.name]=e,this.Uc.push(e);c=0;for(h=a[6].length;c<h;c++)p=a[6][c],e=new Ib(this,p),this.Xk[e.name]=e,this.Kd.push(e);c=0;for(h=this.Kd.length;c<h;c++)this.Kd[c].Fa();c=0;for(h=this.Kd.length;c<h;c++)this.Kd[c].Vm();c=0;for(h=this.$j.length;c<h;c++)this.$j[c].Fa();T(this.$j);this.Qs=a[7];this.nc=a[9];this.xg=1;this.Mt=a[13];this.qa=a[14];this.Sn=a[15];this.Hw=a[17];this.hm=a[20];this.Rs=0<this.hm;
this.Xv=a[22];this.hc=this.Iq=a[23];this.Et=a[24];this.cw=a[25];this.na=a[27]&&!this.Ae;this.Oj=Date.now();T(this.nj);this.pv()};var c=!1,e=0,v=[];g.prototype.iw=function(a,c){function h(){e--;b.op()}var b=this;a.addEventListener("load",h);a.addEventListener("error",h);v.push([a,c]);this.op()};g.prototype.op=function(){for(var a;v.length&&100>e;)e++,a=v.shift(),this.Xp(a[0],a[1])};g.prototype.gk=function(a,h){a.cocoonLazyLoad=!0;a.onerror=function(h){c=a.Nn=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",h)};this.Sc?a.src=h:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(h,function(c){a.src=c},function(e){c=a.Nn=!0;console&&console.error&&console.error("Error extracting image '"+h+"' from expansion file: ",e)}):(a.crossOrigin="anonymous",this.iw(a,h)));this.tg.push(a)};g.prototype.vu=function(a){var c,h;c=0;for(h=this.tg.length;c<h;c++)if(this.tg[c].ct===a)return this.tg[c];return null};var l=0,y=!1;g.prototype.hv=function(){this.yg&&(l=this.yg.ay(this.Qs))};g.prototype.In=function(){var a=
l,c=0,h=0,e=!0,b,f,h=0;for(b=this.tg.length;h<b;h++){f=this.tg[h];var d=f.pi;if(!d||0>=d)d=5E4;a+=d;f.src&&(f.complete||f.loaded)&&!f.Nn?c+=d:e=!1}e&&this.cw&&this.yg&&(y||(this.yg.by(),y=!0),h=this.yg.Kx(),c+=h,h<l&&(e=!1));this.Zc=0==a?1:c/a;return e};var x=!1;g.prototype.go=function(){if(this.pa||this.j){var a=this.pa||this.im;this.gb&&this.Lp();var h=window.innerWidth,e=window.innerHeight;this.Zf===h&&this.Yf===e||this.setSize(h,e);this.Zc=0;this.So=-1;var f=this;if(this.In()&&(4!==this.Ie||x))this.iv();
else{e=Date.now()-this.Oj;if(a){var d=this.width,p=this.height,h=this.devicePixelRatio;if(3>this.Ie&&(this.tc||500<=e&&this.So!=this.Zc)){a.clearRect(0,0,d,p);var e=d/2,p=p/2,d=0===this.Ie&&this.He.jj.complete,l=40*h,t=0,w=80*h,g;if(d){var C=this.He.jj,w=C.width*h;g=C.height*h;l=w/2;t=g/2;a.drawImage(C,Q(e-l),Q(p-t),w,g)}1>=this.Ie?(e=Q(e-l)+.5,p=Q(p+(t+(d?12*h:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(e,p,Math.floor(w*this.Zc),6*h),a.strokeStyle="black",a.strokeRect(e,p,w,6*h),a.strokeStyle=
"white",a.strokeRect(e-1*h,p-1*h,w+2*h,8*h)):2===this.Ie&&(a.font=this.Sc?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.cy="middle",h=Math.round(100*this.Zc)+"%",d=a.measureText?a.measureText(h):null,a.fillText(h,e-(d?d.width:0)/2,p));this.So=this.Zc}else if(4===this.Ie){this.Jt(a);b?b(function(){f.go()}):setTimeout(function(){f.go()},16);return}}setTimeout(function(){f.go()},this.tc?10:100)}}};var n=-1,t="undefined"===typeof cr_is_preview?200:0,h=!0,p=!1,w=0,C=0,qa="undefined"===typeof cr_is_preview?
3E3:0,E=null,X=null,U=0;g.prototype.Jt=function(a){if(!x){for(var e=Math.ceil(this.width),b=Math.ceil(this.height),f=this.He.jj,d=this.He.bw,l=this.He.Lw,g=0;4>g;++g)if(!f[g].complete||!d[g].complete||!l[g].complete)return;0===U&&(n=Date.now());var g=Date.now(),y=!1,v=a,k,u;h||p?(a.clearRect(0,0,e,b),E&&E.width===e&&E.height===b||(E=document.createElement("canvas"),E.width=e,E.height=b,X=E.getContext("2d")),v=X,y=!0,h&&1===U&&(n=Date.now())):a.globalAlpha=1;v.fillStyle="#333333";v.fillRect(0,0,e,
b);256<this.Cg?(k=Ia(.22*b,105,.6*e),u=.25*k,v.drawImage(m(d,k),.5*e-k/2,.2*b-u/2,k,u),u=k=Math.min(.395*b,.95*e),v.drawImage(m(f,k),.5*e-k/2,.485*b-u/2,k,u),k=Ia(.22*b,105,.6*e),u=.25*k,v.drawImage(m(l,k),.5*e-k/2,.868*b-u/2,k,u),v.fillStyle="#3C3C3C",k=e,u=Math.max(.005*b,2),v.fillRect(0,.8*b-u/2,k,u),v.fillStyle=c?"red":"#E0FF65",k=e*this.Zc,v.fillRect(.5*e-k/2,.8*b-u/2,k,u)):(u=k=.55*b,v.drawImage(m(f,k),.5*e-k/2,.45*b-u/2,k,u),v.fillStyle="#3C3C3C",k=e,u=Math.max(.005*b,2),v.fillRect(0,.85*b-
u/2,k,u),v.fillStyle=c?"red":"#E0FF65",k=e*this.Zc,v.fillRect(.5*e-k/2,.85*b-u/2,k,u));y&&(h?a.globalAlpha=0===U?0:Math.min((g-n)/300,1):p&&(a.globalAlpha=Math.max(1-(g-C)/300,0)),a.drawImage(E,0,0,e,b));h&&300<=g-n&&2<=U&&(h=!1,w=g);!h&&g-w>=qa&&!p&&1<=this.Zc&&(p=!0,C=g);if(p&&g-C>=300+t||"undefined"!==typeof cr_is_preview&&1<=this.Zc&&500>Date.now()-n)x=!0,p=h=!1,this.He=X=E=null;++U}};g.prototype.iv=function(){this.gb&&(this.canvas.parentNode.removeChild(this.gb),this.gb=this.im=null);this.Oj=
Date.now();this.sf=Xa();var a,c,h;if(this.Ym)for(a=0,c=this.p.length;a<c;a++)h=this.p[a],h.C||h.Hl||!h.ma.Ce||h.J();else this.Zi=!1;a=0;for(c=this.Uc.length;a<c;a++)this.Uc[a].et();2<=this.Jb&&(a=this.Aa/this.za,c=this.width/this.height,this.xg=2!==this.Jb&&c>a||2===this.Jb&&c<a?this.height/this.za:this.width/this.Aa);this.fo?this.Sl[this.fo].Hm():this.Uc[0].Hm();this.Ym||(this.gj=1,this.trigger(W.prototype.g.mn,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(c=this.p.length;a<c;a++)h=this.p[a],h.Ap&&h.Ap();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Fc(!1);this.Od&&AppMobi.webview.execute("onGameReady();")};g.prototype.Fc=function(a,c,h){if(this.W){var e=Xa();if(h||!this.Yg||a){a||(b?this.pm=b(this.pq):this.Pm=setTimeout(this.pq,this.Qd?1:16));c=c||e;var f=this.Jb;((h=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.uc)||this.Rd)&&0<this.ue&&(f=this.ue);if(0<f){var f=window.innerWidth,d=window.innerHeight;this.Zf===f&&this.Yf===d||this.setSize(f,d)}this.Qa||(h?this.Fi||(this.Fi=!0):this.Fi?(this.Fi=!1,0===this.Jb&&this.setSize(Math.round(this.zp/this.devicePixelRatio),Math.round(this.yp/this.devicePixelRatio),!0)):(this.zp=this.width,this.yp=this.height));this.Zi&&(h=this.In(),this.gj=this.Zc,h&&(this.Zi=!1,this.Zc=1,this.trigger(W.prototype.g.mn,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.Gv(c);
!this.da&&!this.tc||this.Ll||this.Kh||a||(this.da=!1,this.j?this.qb():this.rc(),this.Ih&&(this.canvas&&this.canvas.toDataURL&&(this.gq=this.canvas.toDataURL(this.Ih[0],this.Ih[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.gq),this.trigger(W.prototype.g.Or,null)),this.Ih=null));this.Lx||(this.yd++,this.Fg++,this.Ki++);this.oh+=Xa()-e}}};g.prototype.Gv=function(a){var c,h,e,b,f,d,p,l;1E3<=a-this.sf&&(this.sf+=1E3,1E3<=a-this.sf&&(this.sf=a),this.Ji=this.Ki,this.Ki=0,this.Lk=this.oh,this.oh=0);
c=0;0!==this.$i&&(c=a-this.$i,0>c&&(c=0),this.hf=c/=1E3,.5<this.hf?this.hf=0:this.hf>1/this.sp&&(this.hf=1/this.sp));this.$i=a;this.gf=this.hf*this.Ph;this.$b.add(this.gf);this.hk.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Rd)&&!this.uc;2<=this.Jb||a&&0<this.ue?(c=this.Aa/this.za,h=this.width/this.height,e=this.Jb,a&&0<this.ue&&(e=this.ue),this.xg=2!==e&&h>c||2===e&&h<c?this.height/this.za:this.width/this.Aa,this.W&&(this.W.Bm(this.W.scrollX),
this.W.Cm(this.W.scrollY))):this.xg=this.pf?this.devicePixelRatio:1;this.jb();this.Tc++;this.xd.pw();this.Tc--;this.jb();this.Tc++;h=this.xp.fd();a=0;for(c=h.length;a<c;a++)h[a].Xx();a=0;for(c=this.p.length;a<c;a++)if(d=this.p[a],!d.C&&(d.wa.length||d.ta.length))for(h=0,e=d.e.length;h<e;h++)for(p=d.e[h],b=0,f=p.N.length;b<f;b++)p.N[b].Fc();a=0;for(c=this.p.length;a<c;a++)if(d=this.p[a],!d.C&&(d.wa.length||d.ta.length))for(h=0,e=d.e.length;h<e;h++)for(p=d.e[h],b=0,f=p.N.length;b<f;b++)l=p.N[b],l.aw&&
l.aw();h=this.em.fd();a=0;for(c=h.length;a<c;a++)h[a].Fc();this.Tc--;this.kv();for(a=0;this.Hk&&10>a++;)this.Yn(this.Hk);a=0;for(c=this.Kd.length;a<c;a++)this.Kd[a].tl=!1;this.W.kf&&this.W.kf.Ia();T(this.ig);this.Tc++;a=0;for(c=this.p.length;a<c;a++)if(d=this.p[a],!d.C&&(d.wa.length||d.ta.length))for(h=0,e=d.e.length;h<e;h++)for(p=d.e[h],b=0,f=p.N.length;b<f;b++)l=p.N[b],l.Oh&&l.Oh();h=this.fm.fd();a=0;for(c=h.length;a<c;a++)h[a].Oh();this.Tc--};g.prototype.Yn=function(a){var c=this.W;this.W.Cw();
var h,e,b;if(this.j)for(h=0,e=this.p.length;h<e;h++)b=this.p[h],b.C||!b.ak||b.global&&0!==b.e.length||-1!==a.Tg.indexOf(b)||b.ak();c==a&&T(this.xd.Tb);T(this.ig);this.Rp(!0);a.Hm();this.Rp(!1);this.da=!0;this.jb()};g.prototype.Rp=function(a){var c,h,e,b,f,d,p,l,t;c=0;for(h=this.wa.length;c<h;c++)e=this.wa[c],a?e.vh&&e.vh():e.wh&&e.wh();c=0;for(h=this.p.length;c<h;c++)if(e=this.p[c],e.global||e.ma.Mj)for(b=0,f=e.e.length;b<f;b++)if(d=e.e[b],a?d.vh&&d.vh():d.wh&&d.wh(),d.N)for(p=0,l=d.N.length;p<l;p++)t=
d.N[p],a?t.vh&&t.vh():t.wh&&t.wh()};g.prototype.qq=function(a){this.em.add(a)};g.prototype.oq=function(a){this.fm.add(a)};g.prototype.hl=function(a){return a&&-1!==a.sh?this.hf*a.sh:this.gf};g.prototype.rc=function(){this.W.rc(this.pa);this.Od&&this.pa.present()};g.prototype.qb=function(){this.na&&(this.jf=1,this.W.pe(this.j));this.W.qb(this.j);this.j.ew()};g.prototype.Hs=function(a){a&&this.Sk.push(a)};g.prototype.po=function(a){a=a.toString();return this.Xd.hasOwnProperty(a)?this.Xd[a]:null};var aa=
[];g.prototype.Ff=function(a){var c,h;c=a.type.name;var e=null;if(this.ff.hasOwnProperty(c)){if(e=this.ff[c],e.contains(a))return}else e=aa.length?aa.pop():new ea,this.ff[c]=e;e.add(a);this.we=!0;if(a.Mb)for(c=0,h=a.siblings.length;c<h;c++)this.Ff(a.siblings[c]);this.Fl&&e.rg.push(a);this.El||(this.Tc++,this.trigger(Object.getPrototypeOf(a.type.ma).g.Qr,a),this.Tc--)};g.prototype.jb=function(){if(this.we){var a,c,h,e,b,f;this.Fl=!0;h=0;for(b=this.Pc.length;h<b;++h)for(a=this.Pc[h],c=a.type,c.e.push(a),
e=0,f=c.ta.length;e<f;++e)c.ta[e].e.push(a),c.ta[e].ng=!0;T(this.Pc);this.Ir();Wa(this.ff);this.we=this.Fl=!1}};g.prototype.Ir=function(){for(var a in this.ff)this.ff.hasOwnProperty(a)&&this.Zq(this.ff[a])};g.prototype.Zq=function(a){var c=a.fd(),h=c[0].type,e,b,f,d,p,l;Za(h.e,a);h.ng=!0;0===h.e.length&&(h.di=!1);e=0;for(b=h.ta.length;e<b;++e)l=h.ta[e],Za(l.e,a),l.ng=!0;e=0;for(b=this.xd.Tb.length;e<b;++e)if(p=this.xd.Tb[e],p.Db.hasOwnProperty(h.index)&&Za(p.Db[h.index].Nd,a),!h.C)for(f=0,d=h.ta.length;f<
d;++f)l=h.ta[f],p.Db.hasOwnProperty(l.index)&&Za(p.Db[l.index].Nd,a);if(p=c[0].i){if(p.pc)for(f=p.e,e=0,b=f.length;e<b;++e)d=f[e],a.contains(d)&&(d.Q(),p.ib.update(d,d.Qb,null),d.Qb.set(0,0,-1,-1));Za(p.e,a);p.Fh(0)}for(e=0;e<c.length;++e)this.Yq(c[e],h);a.clear();aa.push(a);this.da=!0};g.prototype.Yq=function(a,c){var h,e,b;h=0;for(e=this.Sk.length;h<e;++h)this.Sk[h](a);a.me&&c.ni.update(a,a.me,null);(h=a.i)&&h.jg(a,!0);if(a.N)for(h=0,e=a.N.length;h<e;++h)b=a.N[h],b.xc&&b.xc(),b.behavior.rh.remove(a);
this.xp.remove(a);this.em.remove(a);this.fm.remove(a);a.xc&&a.xc();this.Xd.hasOwnProperty(a.uid.toString())&&delete this.Xd[a.uid.toString()];this.oj--;100>c.wi.length&&c.wi.push(a)};g.prototype.Vn=function(a,c,h,e){if(a.C){var b=Q(Math.random()*a.wf.length);return this.Vn(a.wf[b],c,h,e)}return a.qc?this.ne(a.qc,c,!1,h,e,!1):null};var N=[];g.prototype.ne=function(a,c,h,e,b,f){var d,p,l,t;if(!a)return null;var w=this.p[a[1]],g=w.ma.Ce;if(this.Zi&&g&&!w.Hl||g&&!this.j&&11===a[0][11])return null;var C=
c;g||(c=null);var n;w.wi.length?(n=w.wi.pop(),n.Pb=!0,w.ma.R.call(n,w)):(n=new w.ma.R(w),n.Pb=!1);!h||f||this.Xd.hasOwnProperty(a[2].toString())?n.uid=this.uh++:n.uid=a[2];this.Xd[n.uid.toString()]=n;n.Op=this.vp++;n.of=w.e.length;d=0;for(p=this.Pc.length;d<p;++d)this.Pc[d].type===w&&n.of++;n.Ng=Fb;n.toString=Gb;l=a[3];if(n.Pb)Wa(n.A);else{n.A={};if("undefined"!==typeof cr_is_preview)for(n.Bo=[],n.Bo.length=l.length,d=0,p=l.length;d<p;d++)n.Bo[d]=l[d][1];n.Pa=[];n.Pa.length=l.length}d=0;for(p=l.length;d<
p;d++)n.Pa[d]=l[d][0];if(g){var v=a[0];n.x=ia(e)?v[0]:e;n.y=ia(b)?v[1]:b;n.z=v[2];n.width=v[3];n.height=v[4];n.depth=v[5];n.k=v[6];n.opacity=v[7];n.Kb=v[8];n.Lb=v[9];n.kb=v[10];d=v[11];!this.j&&w.M.length&&(n.kb=d);n.zg=ib(n.kb);this.q&&jb(n,n.kb,this.q);if(n.Pb){d=0;for(p=v[12].length;d<p;d++)for(l=0,t=v[12][d].length;l<t;l++)n.xa[d][l]=v[12][d][l];n.U.set(0,0,0,0);n.me.set(0,0,-1,-1);n.Qb.set(0,0,-1,-1);n.Ma.Se(n.U);T(n.wk)}else{n.xa=v[12].slice(0);d=0;for(p=n.xa.length;d<p;d++)n.xa[d]=v[12][d].slice(0);
n.ia=[];n.ge=[];n.ge.length=w.M.length;n.U=new S(0,0,0,0);n.me=new S(0,0,-1,-1);n.Qb=new S(0,0,-1,-1);n.Ma=new va;n.wk=[];n.oa=Jb;n.Gx=Kb;n.Da=Lb;n.Q=Mb;n.Gw=Nb;n.Fq=Ob;n.qd=Pb}n.zd=!1;n.uq=0;n.tq=0;n.sq=null;14===v.length&&(n.zd=!0,n.uq=v[13][0],n.tq=v[13][1],n.sq=v[13][2]);d=0;for(p=w.M.length;d<p;d++)n.ge[d]=!0;n.$d=!0;n.ed=Qb;n.ed();n.Gq=!!n.ia.length;n.vk=!0;n.Ek=!0;w.ci=!0;n.visible=!0;n.sh=-1;n.i=c;n.jd=c.e.length;n.jf=0;"undefined"===typeof n.F&&(n.F=null);this.da=n.Ed=!0}var y;T(N);d=0;for(p=
w.ta.length;d<p;d++)N.push.apply(N,w.ta[d].wa);N.push.apply(N,w.wa);if(n.Pb)for(d=0,p=N.length;d<p;d++){var k=N[d];y=n.N[d];y.Pb=!0;k.behavior.R.call(y,k,n);v=a[4][d];l=0;for(t=v.length;l<t;l++)y.B[l]=v[l];y.J();k.behavior.rh.add(n)}else for(n.N=[],d=0,p=N.length;d<p;d++)k=N[d],y=new k.behavior.R(k,n),y.Pb=!1,y.B=a[4][d].slice(0),y.J(),n.N.push(y),k.behavior.rh.add(n);v=a[5];if(n.Pb)for(d=0,p=v.length;d<p;d++)n.B[d]=v[d];else n.B=v.slice(0);this.Pc.push(n);this.we=!0;c&&(c.wg(n,!0),1!==c.zc||1!==
c.Ac)&&(w.di=!0);this.oj++;if(w.Mb){if(n.Mb=!0,n.Pb?T(n.siblings):n.siblings=[],!h&&!f){d=0;for(p=w.Wb.length;d<p;d++)if(w.Wb[d]!==w){if(!w.Wb[d].qc)return null;n.siblings.push(this.ne(w.Wb[d].qc,C,!1,g?n.x:e,g?n.y:b,!0))}d=0;for(p=n.siblings.length;d<p;d++)for(n.siblings[d].siblings.push(n),l=0;l<p;l++)d!==l&&n.siblings[d].siblings.push(n.siblings[l])}}else n.Mb=!1,n.siblings=null;n.J();d=0;for(p=n.N.length;d<p;d++)n.N[d].$v&&n.N[d].$v();return n};g.prototype.ml=function(a){var c,h;c=0;for(h=this.W.O.length;c<
h;c++){var e=this.W.O[c];if(lb(e.name,a))return e}return null};g.prototype.Jg=function(a){a=Q(a);0>a&&(a=0);a>=this.W.O.length&&(a=this.W.O.length-1);return this.W.O[a]};g.prototype.Ik=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].ca().la=!0};g.prototype.Dh=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].Dh()};g.prototype.Me=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].Me()};g.prototype.Xc=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].Xc()};g.prototype.Dq=function(a){if(a.ci){var c,
h,e=a.e;c=0;for(h=e.length;c<h;++c)e[c].Fq();e=this.Pc;c=0;for(h=e.length;c<h;++c)e[c].type===a&&e[c].Fq();a.ci=!1}};g.prototype.fl=function(a,c,h,e){var b,d,f=a?1!==a.zc||1!==a.Ac:!1;if(c.C)for(a=0,b=c.wf.length;a<b;++a)d=c.wf[a],f||d.di?Fa(e,d.e):(this.Dq(d),d.ni.zj(h,e));else f||c.di?Fa(e,c.e):(this.Dq(c),c.ni.zj(h,e))};g.prototype.Oi=function(a,c,h,e){var b,d;b=0;for(d=c.length;b<d;++b)this.fl(a,c[b],h,e)};g.prototype.ro=function(a,c,h){var e=this.Nj;e&&this.Oi(a,e.dm,c,h)};g.prototype.Rj=function(a,
c,h){var e=a.ca(),b,d,f,p,l=this.ya().Ea.mc,t,w,g;if(e.la)for(e.la=!1,T(e.e),b=0,p=a.e.length;b<p;b++)f=a.e[b],f.Q(),t=f.i.zb(c,h,!0),w=f.i.zb(c,h,!1),f.Da(t,w)?e.e.push(f):l&&e.V.push(f);else{d=0;g=l?e.V:e.e;b=0;for(p=g.length;b<p;b++)f=g[b],f.Q(),t=f.i.zb(c,h,!0),w=f.i.zb(c,h,!1),f.Da(t,w)&&(l?e.e.push(f):(e.e[d]=e.e[b],d++));g.length=d}a.Kc();return e.sl()};g.prototype.jq=function(a,c){if(!(a&&c&&a!==c&&a.Ed&&c.Ed))return!1;a.Q();c.Q();var h=a.i,e=c.i,b,d,f,p,l,t,w,g;if(h===e||h.zc===e.zc&&e.Ac===
e.Ac&&h.scale===e.scale&&h.k===e.k&&h.kd===e.kd){if(!a.U.Al(c.U)||!a.Ma.Co(c.Ma)||a.zd&&c.zd)return!1;if(a.zd)return this.lq(a,c);if(c.zd)return this.lq(c,a);w=a.F&&!a.F.sd();b=c.F&&!c.F.sd();if(!w&&!b)return!0;w?(a.F.Oc(a.width,a.height,a.k),w=a.F):(this.bd.Re(a.Ma,a.x,a.y,a.width,a.height),w=this.bd);b?(c.F.Oc(c.width,c.height,c.k),g=c.F):(this.bd.Re(c.Ma,c.x,c.y,c.width,c.height),g=this.bd);return w.Ug(g,c.x-a.x,c.y-a.y)}w=a.F&&!a.F.sd();b=c.F&&!c.F.sd();w?(a.F.Oc(a.width,a.height,a.k),this.bd.$p(a.F)):
this.bd.Re(a.Ma,a.x,a.y,a.width,a.height);w=this.bd;b?(c.F.Oc(c.width,c.height,c.k),this.Jm.$p(c.F)):this.Jm.Re(c.Ma,c.x,c.y,c.width,c.height);g=this.Jm;b=0;for(d=w.tb;b<d;b++)f=2*b,p=f+1,l=w.ka[f],t=w.ka[p],w.ka[f]=h.ua(l+a.x,t+a.y,!0),w.ka[p]=h.ua(l+a.x,t+a.y,!1);w.Q();b=0;for(d=g.tb;b<d;b++)f=2*b,p=f+1,l=g.ka[f],t=g.ka[p],g.ka[f]=e.ua(l+c.x,t+c.y,!0),g.ka[p]=e.ua(l+c.x,t+c.y,!1);g.Q();return w.Ug(g,0,0)};var R=new va,D=new S(0,0,0,0),I=[];g.prototype.lq=function(a,c){var h,e,b,d,f=c.U,p=a.x,l=
a.y;a.Ig(f,I);var t=c.F&&!c.F.sd();h=0;for(e=I.length;h<e;++h)if(b=I[h],d=b.Z,f.Bl(d,p,l)&&(R.Se(d),R.offset(p,l),R.Co(c.Ma)))if(t)if(c.F.Oc(c.width,c.height,c.k),b.sb){if(b.sb.Ug(c.F,c.x-(p+d.left),c.y-(l+d.top)))return T(I),!0}else{if(this.bd.Re(R,0,0,d.right-d.left,d.bottom-d.top),this.bd.Ug(c.F,c.x,c.y))return T(I),!0}else if(b.sb){if(this.bd.Re(c.Ma,0,0,c.width,c.height),b.sb.Ug(this.bd,-(p+d.left),-(l+d.top)))return T(I),!0}else return T(I),!0;T(I);return!1};g.prototype.kq=function(a,c,h,e,
b){if(!b||!b.Ed)return!1;b.Q();D.set(pa(a,h),pa(c,e),oa(a,h),oa(c,e));if(!b.U.Al(D))return!1;if(b.zd){b.Ig(D,I);var d,f,p,l=b.x,t=b.y;b=0;for(d=I.length;b<d;++b)if(f=I[b],p=f.Z,D.Bl(p,l,t)&&(R.Se(p),R.offset(l,t),R.Vg(a,c,h,e)))if(f.sb){if(f.sb.Vg(l+p.left,t+p.top,a,c,h,e))return T(I),!0}else return T(I),!0;T(I);return!1}if(!b.Ma.Vg(a,c,h,e))return!1;if(!b.F||b.F.sd())return!0;b.F.Oc(b.width,b.height,b.k);return b.F.Vg(b.x,b.y,a,c,h,e)};g.prototype.zq=function(a,c){if(!c)return!1;var h,e,b,d,f;h=
0;for(e=a.wa.length;h<e;h++)if(a.wa[h].behavior instanceof c)return!0;if(!a.C)for(h=0,e=a.ta.length;h<e;h++)for(f=a.ta[h],b=0,d=f.wa.length;b<d;b++)if(f.wa[b].behavior instanceof c)return!0;return!1};g.prototype.Tm=function(a){return this.zq(a,ec.hx)};g.prototype.Um=function(a){return this.zq(a,ec.ix)};g.prototype.Js=function(a,c,h){var e,b,d;e=0;for(b=this.ig.length;e<b;++e){d=this.ig[e];if(d[0]===a)d=d[1];else if(d[1]===a)d=d[0];else continue;if(c.C){if(-1===c.wf.indexOf(c))continue}else if(d.type!==
c)continue;-1===h.indexOf(d)&&h.push(d)}};g.prototype.Ys=function(a,c){var h,e,b;h=0;for(e=this.ig.length;h<e;h++)if(b=this.ig[h],b[0]===a&&b[1]===c||b[0]===c&&b[1]===a)return!0;return!1};var J=-1;g.prototype.trigger=function(a,c,h){if(!this.W)return!1;var e=this.W.kf;if(!e)return!1;var b=!1,d,f,p;J++;var l=e.Qk;f=0;for(p=l.length;f<p;++f)d=this.wq(a,c,l[f],h),b=b||d;d=this.wq(a,c,e,h);J--;return b||d};g.prototype.wq=function(a,c,h,e){var b=!1,d,f,p,l;if(c)for(p=this.Rm(a,c,c.type.name,h,e),b=b||
p,l=c.type.ta,d=0,f=l.length;d<f;++d)p=this.Rm(a,c,l[d].name,h,e),b=b||p;else p=this.Rm(a,c,"system",h,e),b=b||p;return b};g.prototype.Rm=function(a,c,h,e,b){var d,f=!1,p=!1,p="undefined"!==typeof b,l=(p?e.bo:e.xq)[h];if(!l)return f;var t=null;e=0;for(d=l.length;e<d;++e)if(l[e].method==a){t=l[e].Eg;break}if(!t)return f;var w;p?w=t[b]:w=t;if(!w)return null;e=0;for(d=w.length;e<d;e++)a=w[e][0],b=w[e][1],p=this.ru(c,h,a,b),f=f||p;return f};g.prototype.ru=function(a,c,h,e){var b,d,f=!1;this.Sm++;var p=
this.ya().Ea;p&&this.Dh(p.Te);var l=1<this.Sm;this.Dh(h.Te);l&&this.gw();var t=this.yj(h);t.Ea=h;a&&(b=this.types[c].ca(),b.la=!1,T(b.e),b.e[0]=a,this.types[c].Kc());a=!0;if(h.parent){c=t.iq;for(b=h.parent;b;)c.push(b),b=b.parent;c.reverse();b=0;for(d=c.length;b<d;b++)if(!c[b].rw()){a=!1;break}}a&&(this.Fg++,h.mc?h.qw(e):h.Ia(),f=f||t.rf);this.vj();l&&this.Yv();this.Xc(h.Te);p&&this.Xc(p.Te);this.we&&0===this.Tc&&0===J&&!this.Il&&this.jb();this.Sm--;return f};g.prototype.Mi=function(){var a=this.ya();
return a.Ea.Oa[a.Ga]};g.prototype.wv=function(){return 0===this.ya().Ga};g.prototype.gw=function(){this.ij++;this.ij>=this.Xl.length&&this.Xl.push([])};g.prototype.Yv=function(){this.ij--};g.prototype.jo=function(){return this.Xl[this.ij]};g.prototype.yj=function(a){this.Ai++;this.Ai>=this.Wk.length&&this.Wk.push(new Rb);var c=this.ya();c.reset(a);return c};g.prototype.vj=function(){this.Ai--};g.prototype.ya=function(){return this.Wk[this.Ai]};g.prototype.hw=function(a){this.dg++;this.dg>=this.ph.length&&
this.ph.push(ba({name:a,index:0,og:!1}));var c=this.gl();c.name=a;c.index=0;c.og=!1;return c};g.prototype.Zv=function(){this.dg--};g.prototype.gl=function(){return this.ph[this.dg]};g.prototype.ko=function(a,c){for(var h,e,b,d,f,p;c;){h=0;for(e=c.Dc.length;h<e;h++)if(p=c.Dc[h],p instanceof Sb&&lb(a,p.name))return p;c=c.parent}h=0;for(e=this.Kd.length;h<e;h++)for(f=this.Kd[h],b=0,d=f.se.length;b<d;b++)if(p=f.se[b],p instanceof Sb&&lb(a,p.name))return p;return null};g.prototype.no=function(a){var c,
h;c=0;for(h=this.Uc.length;c<h;c++)if(this.Uc[c].X===a)return this.Uc[c];return null};g.prototype.Kg=function(a){var c,h;c=0;for(h=this.p.length;c<h;c++)if(this.p[c].X===a)return this.p[c];return null};g.prototype.Eu=function(a){var c,h;c=0;for(h=this.Kf.length;c<h;c++)if(this.Kf[c].X===a)return this.Kf[c];return null};g.prototype.jt=function(a,c){this.Ih=[a,c];this.da=!0};g.prototype.kv=function(){var a=this,c=this.Am,h=this.Sd,e=this.cj,b=!1;this.dq&&(b=!0,c="__c2_continuouspreview",this.dq=!1);
if(c.length){this.jb();h=this.ww();if(k()&&!this.tc)q(c,h,function(){A("Saved state to IndexedDB storage ("+h.length+" bytes)");a.Sd=h;a.trigger(W.prototype.g.ok,null);a.Sd="";b&&f()},function(e){try{localStorage.setItem("__c2save_"+c,h),A("Saved state to WebStorage ("+h.length+" bytes)"),a.Sd=h,a.trigger(W.prototype.g.ok,null),a.Sd="",b&&f()}catch(d){A("Failed to save game state: "+e+"; "+d),a.trigger(W.prototype.g.rn,null)}});else try{localStorage.setItem("__c2save_"+c,h),A("Saved state to WebStorage ("+
h.length+" bytes)"),a.Sd=h,this.trigger(W.prototype.g.ok,null),a.Sd="",b&&f()}catch(d){A("Error saving to WebStorage: "+d),a.trigger(W.prototype.g.rn,null)}this.cj=this.Am="";this.Sa=null}if(e.length){if(k()&&!this.tc)u(e,function(c){c?(a.Sa=c,A("Loaded state from IndexedDB storage ("+a.Sa.length+" bytes)")):(a.Sa=localStorage.getItem("__c2save_"+e)||"",A("Loaded state from WebStorage ("+a.Sa.length+" bytes)"));a.Kh=!1;a.Sa||(a.Sa=null,a.trigger(W.prototype.g.bi,null))},function(){a.Sa=localStorage.getItem("__c2save_"+
e)||"";A("Loaded state from WebStorage ("+a.Sa.length+" bytes)");a.Kh=!1;a.Sa||(a.Sa=null,a.trigger(W.prototype.g.bi,null))});else{try{this.Sa=localStorage.getItem("__c2save_"+e)||"",A("Loaded state from WebStorage ("+this.Sa.length+" bytes)")}catch(p){this.Sa=null}this.Kh=!1;a.Sa||(a.Sa=null,a.trigger(W.prototype.g.bi,null))}this.Am=this.cj=""}null!==this.Sa&&(this.jb(),this.Fv(this.Sa)?(this.Sd=this.Sa,this.trigger(W.prototype.g.Wr,null),this.Sd=""):a.trigger(W.prototype.g.bi,null),this.Sa=null)};
g.prototype.ww=function(){var c,h,e,b,d,f,p,l={c2save:!0,version:1,rt:{time:this.$b.ja,walltime:this.hk.ja,timescale:this.Ph,tickcount:this.yd,execcount:this.Fg,next_uid:this.uh,running_layout:this.W.X,start_time_offset:Date.now()-this.Oj},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(h=this.p.length;c<h;c++)if(d=this.p[c],!d.C&&!this.Tm(d)){f={instances:[]};Va(d.A)&&(f.ex=a(d.A));e=0;for(b=d.e.length;e<b;e++)f.instances.push(this.zm(d.e[e]));l.types[d.X.toString()]=f}c=
0;for(h=this.Uc.length;c<h;c++)e=this.Uc[c],l.layouts[e.X.toString()]=e.bb();b=l.events.groups;c=0;for(h=this.Kf.length;c<h;c++)e=this.Kf[c],b[e.X.toString()]=this.Pg[e.Og].Tf;h=l.events.cnds;for(p in this.le)this.le.hasOwnProperty(p)&&(c=this.le[p],Va(c.A)&&(h[p]={ex:a(c.A)}));h=l.events.acts;for(p in this.he)this.he.hasOwnProperty(p)&&(c=this.he[p],Va(c.A)&&(h[p]={ex:a(c.A)}));h=l.events.vars;for(p in this.sg)this.sg.hasOwnProperty(p)&&(c=this.sg[p],c.Wi||c.parent&&!c.$g||(h[p]=c.data));l.system=
this.xd.bb();return JSON.stringify(l)};g.prototype.Pp=function(){var a,c,h,e,b,d;this.Xd={};a=0;for(c=this.p.length;a<c;a++)if(h=this.p[a],!h.C)for(e=0,b=h.e.length;e<b;e++)d=h.e[e],this.Xd[d.uid.toString()]=d};g.prototype.Fv=function(a){var c;try{c=JSON.parse(a)}catch(h){return!1}if(!c.c2save||1<c.version)return!1;this.Xg=!0;a=c.rt;this.$b.reset();this.$b.ja=a.time;this.hk.reset();this.hk.ja=a.walltime||0;this.Ph=a.timescale;this.yd=a.tickcount;this.Fg=a.execcount;this.Oj=Date.now()-a.start_time_offset;
var e=a.running_layout;if(e!==this.W.X)if(e=this.no(e))this.Yn(e);else return;var b,d,f,p,l,t,w;t=c.types;for(d in t)if(t.hasOwnProperty(d)&&(p=this.Kg(parseInt(d,10)))&&!p.C&&!this.Tm(p)){t[d].ex?p.A=t[d].ex:Wa(p.A);l=p.e;f=t[d].instances;e=0;for(b=pa(l.length,f.length);e<b;e++)this.dj(l[e],f[e]);e=f.length;for(b=l.length;e<b;e++)this.Ff(l[e]);e=l.length;for(b=f.length;e<b;e++){l=null;if(p.ma.Ce&&(l=this.W.Ni(f[e].w.l),!l))continue;l=this.ne(p.qc,l,!1,0,0,!0);this.dj(l,f[e])}p.ng=!0}this.jb();this.Pp();
b=c.layouts;for(d in b)b.hasOwnProperty(d)&&(e=this.no(parseInt(d,10)))&&e.rb(b[d]);b=c.events.groups;for(d in b)b.hasOwnProperty(d)&&(e=this.Eu(parseInt(d,10)))&&this.Pg[e.Og]&&this.Pg[e.Og].zw(b[d]);e=c.events.cnds;for(d in this.le)this.le.hasOwnProperty(d)&&(e.hasOwnProperty(d)?this.le[d].A=e[d].ex:this.le[d].A={});e=c.events.acts;for(d in this.he)this.he.hasOwnProperty(d)&&(e.hasOwnProperty(d)?this.he[d].A=e[d].ex:this.he[d].A={});e=c.events.vars;for(d in e)e.hasOwnProperty(d)&&this.sg.hasOwnProperty(d)&&
(this.sg[d].data=e[d]);this.uh=a.next_uid;this.Xg=!1;e=0;for(b=this.Ei.length;e<b;++e)l=this.Ei[e],this.trigger(Object.getPrototypeOf(l.type.ma).g.ai,l);T(this.Ei);this.xd.rb(c.system);e=0;for(b=this.p.length;e<b;e++)if(p=this.p[e],!p.C&&!this.Tm(p))for(c=0,d=p.e.length;c<d;c++){l=p.e[c];if(p.Mb)for(t=l.Ng(),T(l.siblings),a=0,f=p.Wb.length;a<f;a++)w=p.Wb[a],p!==w&&l.siblings.push(w.e[t]);l.ie&&l.ie();if(l.N)for(a=0,f=l.N.length;a<f;a++)t=l.N[a],t.ie&&t.ie()}return this.da=!0};g.prototype.zm=function(c,
h){var e,b,d,f,p;f=c.type;d=f.ma;var l={};h?l.c2=!0:l.uid=c.uid;Va(c.A)&&(l.ex=a(c.A));if(c.Pa&&c.Pa.length)for(l.ivs={},e=0,b=c.Pa.length;e<b;e++)l.ivs[c.type.zl[e].toString()]=c.Pa[e];if(d.Ce){d={x:c.x,y:c.y,w:c.width,h:c.height,l:c.i.X,zi:c.qd()};0!==c.k&&(d.a=c.k);1!==c.opacity&&(d.o=c.opacity);.5!==c.Kb&&(d.hX=c.Kb);.5!==c.Lb&&(d.hY=c.Lb);0!==c.kb&&(d.bm=c.kb);c.visible||(d.v=c.visible);c.Ed||(d.ce=c.Ed);-1!==c.sh&&(d.mts=c.sh);if(f.M.length)for(d.fx=[],e=0,b=f.M.length;e<b;e++)p=f.M[e],d.fx.push({name:p.name,
active:c.ge[p.index],params:c.xa[p.index]});l.w=d}if(c.N&&c.N.length)for(l.behs={},e=0,b=c.N.length;e<b;e++)f=c.N[e],f.bb&&(l.behs[f.type.X.toString()]=f.bb());c.bb&&(l.data=c.bb());return l};g.prototype.Gu=function(a,c){var h,e;h=0;for(e=a.zl.length;h<e;h++)if(a.zl[h]===c)return h;return-1};g.prototype.Bu=function(a,c){var h,e;h=0;for(e=a.N.length;h<e;h++)if(a.N[h].type.X===c)return h;return-1};g.prototype.dj=function(a,c,h){var e,b,d,f,p;p=a.type;var l=p.ma;if(h){if(!c.c2)return}else a.uid=c.uid;
c.ex?a.A=c.ex:Wa(a.A);if(b=c.ivs)for(e in b)b.hasOwnProperty(e)&&(d=this.Gu(p,parseInt(e,10)),0>d||d>=a.Pa.length||(f=b[e],null===f&&(f=NaN),a.Pa[d]=f));if(l.Ce){d=c.w;a.i.X!==d.l&&(b=a.i,a.i=this.W.Ni(d.l),a.i?(b.jg(a,!0),a.i.wg(a,!0),a.oa(),a.i.Fh(0)):(a.i=b,h||this.Ff(a)));a.x=d.x;a.y=d.y;a.width=d.w;a.height=d.h;a.jd=d.zi;a.k=d.hasOwnProperty("a")?d.a:0;a.opacity=d.hasOwnProperty("o")?d.o:1;a.Kb=d.hasOwnProperty("hX")?d.hX:.5;a.Lb=d.hasOwnProperty("hY")?d.hY:.5;a.visible=d.hasOwnProperty("v")?
d.v:!0;a.Ed=d.hasOwnProperty("ce")?d.ce:!0;a.sh=d.hasOwnProperty("mts")?d.mts:-1;a.kb=d.hasOwnProperty("bm")?d.bm:0;a.zg=ib(a.kb);this.q&&jb(a,a.kb,this.q);a.oa();if(d.hasOwnProperty("fx"))for(h=0,b=d.fx.length;h<b;h++)f=p.jl(d.fx[h].name),0>f||(a.ge[f]=d.fx[h].active,a.xa[f]=d.fx[h].params);a.ed()}if(p=c.behs)for(e in p)p.hasOwnProperty(e)&&(h=this.Bu(a,parseInt(e,10)),0>h||a.N[h].rb(p[e]));c.data&&a.rb(c.data)};g.prototype.co=function(a,c,h){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+
"www/"+a,function(a){a.file(c,h)},h)};g.prototype.tu=function(a,c){this.co("data.js",function(h){var e=new FileReader;e.onload=function(c){a(c.target.result)};e.onerror=c;e.readAsText(h)},c)};var na=[],ra=0;g.prototype.$l=function(){if(na.length&&!(8<=ra)){ra++;var a=na.shift();this.nt(a.filename,a.Dw,a.Pt)}};g.prototype.su=function(a,c,h){var e=this;na.push({filename:a,Dw:function(a){ra--;e.$l();c(a)},Pt:function(a){ra--;e.$l();h(a)}});this.$l()};g.prototype.nt=function(a,c,h){this.co(a,function(a){var h=
new FileReader;h.onload=function(a){c(a.target.result)};h.readAsArrayBuffer(a)},h)};g.prototype.uu=function(a,c,h){var e="",b=a.toLowerCase(),d=b.substr(b.length-4),b=b.substr(b.length-5);".mp4"===d?e="video/mp4":".webm"===b?e="video/webm":".m4a"===d?e="audio/mp4":".mp3"===d&&(e="audio/mpeg");this.su(a,function(a){a=URL.createObjectURL(new Blob([a],{type:e}));c(a)},h)};g.prototype.qv=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};g.prototype.Xp=function(a,
c){this.Ho&&!this.qv(c)?this.uu(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};g.prototype.Hj=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Tb=function(a){return new g(document.getElementById(a))};Ub=function(a,c){return new g({dc:!0,width:a,height:c})};window.cr_createRuntime=Tb;window.cr_createDCRuntime=Ub;window.createCocoonJSRuntime=
function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Ye=!0;document.body.appendChild(a);a=new g(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new g(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,
window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var g=document.getElementById("c2canvas");return g?g.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(g,m){var k=window.cr_getC2Runtime();k&&k.jt(g,m)};window.cr_sizeCanvas=function(g,m){if(0!==g&&0!==m){var k=window.cr_getC2Runtime();k&&k.setSize(g,m)}};window.cr_setSuspended=function(g){var m=window.cr_getC2Runtime();m&&m.setSuspended(g)};
(function(){function g(a,e){this.b=a;this.kf=null;this.scrollX=this.b.Aa/2;this.scrollY=this.b.za/2;this.scale=1;this.k=0;this.Rf=!0;this.name=e[0];this.Vv=e[1];this.Uv=e[2];this.width=e[1];this.height=e[2];this.Aq=e[3];this.cq=e[4];this.X=e[5];var b=e[6],d,f;this.O=[];this.Tg=[];d=0;for(f=b.length;d<f;d++){var g=new Vb(this,b[d]);g.wp=d;this.O.push(g)}b=e[7];this.ye=[];d=0;for(f=b.length;d<f;d++){var g=b[d],n=this.b.p[g[1]];n.qc||(n.qc=g);this.ye.push(g);-1===this.Tg.indexOf(n)&&this.Tg.push(n)}this.M=
[];this.ia=[];this.$d=!0;this.xa=[];d=0;for(f=e[8].length;d<f;d++)this.M.push({id:e[8][d][0],name:e[8][d][1],Ka:-1,Yc:!1,ec:!0,index:d}),this.xa.push(e[8][d][2].slice(0));this.ed();this.Ne=new S(0,0,1,1);this.rm=new S(0,0,1,1);this.Le={}}function m(a,e){return a.jd-e.jd}function k(a,e){this.$a=a;this.b=a.b;this.e=[];this.scale=1;this.k=0;this.Id=!1;this.de=new S(0,0,0,0);this.vq=new va;this.ea=this.ba=this.fa=this.aa=0;this.Ef=!1;this.ee=-1;this.Jk=0;this.name=e[0];this.index=e[1];this.X=e[2];this.visible=
e[3];this.Lc=e[4];this.dd=e[5];this.zc=e[6];this.Ac=e[7];this.opacity=e[8];this.Ii=e[9];this.pc=e[10];this.kd=e[11];this.kb=e[12];this.Lt=e[13];this.zg="source-over";this.pb=this.ub=0;this.ib=null;this.Td=r();this.ad=!0;this.$f=new S(0,0,-1,-1);this.eb=new S(0,0,-1,-1);this.pc&&(this.ib=new fb(this.b.Aa,this.b.za));this.vd=!1;var b=e[14],d,f;this.hq=[];this.kc=[];this.Bg=[];d=0;for(f=b.length;d<f;d++){var g=b[d],n=this.b.p[g[1]];n.qc||(n.qc=g,n.ht=this.index);this.kc.push(g);-1===this.$a.Tg.indexOf(n)&&
this.$a.Tg.push(n)}Ea(this.hq,this.kc);this.M=[];this.ia=[];this.$d=!0;this.xa=[];d=0;for(f=e[15].length;d<f;d++)this.M.push({id:e[15][d][0],name:e[15][d][1],Ka:-1,Yc:!1,ec:!0,index:d}),this.xa.push(e[15][d][2].slice(0));this.ed();this.Ne=new S(0,0,1,1);this.rm=new S(0,0,1,1)}function r(){return a.length?a.pop():[]}function q(c){T(c);a.push(c)}g.prototype.vw=function(a){var e=a.type.X.toString();this.Le.hasOwnProperty(e)||(this.Le[e]=[]);this.Le[e].push(this.b.zm(a))};g.prototype.uo=function(){var a=
this.O[0];return!a.dd&&1===a.opacity&&!a.Ii&&a.visible};g.prototype.ed=function(){T(this.ia);this.$d=!0;var a,e,b;a=0;for(e=this.M.length;a<e;a++)b=this.M[a],b.ec&&(this.ia.push(b),b.Yc||(this.$d=!1))};g.prototype.il=function(a){var e,b,d;e=0;for(b=this.M.length;e<b;e++)if(d=this.M[e],d.name===a)return d;return null};var u=[],f=!0;g.prototype.Hm=function(){this.cq&&(this.kf=this.b.Xk[this.cq],this.kf.Vm());this.b.W=this;this.width=this.Vv;this.height=this.Uv;this.scrollX=this.b.Aa/2;this.scrollY=
this.b.za/2;var a,e,b,d,g,k,n;a=0;for(b=this.b.p.length;a<b;a++)if(e=this.b.p[a],!e.C)for(g=e.e,e=0,d=g.length;e<d;e++)if(k=g[e],k.i){var t=k.i.wp;t>=this.O.length&&(t=this.O.length-1);k.i=this.O[t];-1===k.i.e.indexOf(k)&&k.i.e.push(k);k.i.Ef=!0}if(!f)for(a=0,b=this.O.length;a<b;++a)this.O[a].e.sort(m);T(u);this.Ln();a=0;for(b=this.O.length;a<b;a++)k=this.O[a],k.ft(),k.ck();g=!1;if(!this.Rf){for(n in this.Le)if(this.Le.hasOwnProperty(n)&&(e=this.b.Kg(parseInt(n,10)))&&!e.C&&this.b.Um(e)){d=this.Le[n];
a=0;for(b=d.length;a<b;a++){k=null;if(e.ma.Ce&&(k=this.Ni(d[a].w.l),!k))continue;k=this.b.ne(e.qc,k,!1,0,0,!0);this.b.dj(k,d[a]);g=!0;u.push(k)}T(d)}a=0;for(b=this.O.length;a<b;a++)this.O[a].e.sort(m),this.O[a].Ef=!0}g&&(this.b.jb(),this.b.Pp());for(a=0;a<u.length;a++)if(k=u[a],k.type.Mb)for(b=k.Ng(),e=0,d=k.type.Wb.length;e<d;e++)n=k.type.Wb[e],k.type!==n&&(n.e.length>b?k.siblings.push(n.e[b]):n.qc&&(g=this.b.ne(n.qc,k.i,!0,k.x,k.y,!0),this.b.jb(),n.bk(),k.siblings.push(g),u.push(g)));a=0;for(b=
this.ye.length;a<b;a++)k=this.ye[a],e=this.b.p[k[1]],e.Mb||this.b.ne(this.ye[a],null,!0);this.b.Hk=null;this.b.jb();if(this.b.pa&&!this.b.Qa)for(a=0,b=this.b.p.length;a<b;a++)n=this.b.p[a],!n.C&&n.e.length&&n.wj&&n.wj(this.b.pa);if(this.b.Xg)Ea(this.b.Ei,u);else for(a=0,b=u.length;a<b;a++)k=u[a],this.b.trigger(Object.getPrototypeOf(k.type.ma).g.ai,k);T(u);this.b.Xg||this.b.trigger(W.prototype.g.ln,null);this.Rf=!1};g.prototype.et=function(){var a,e,b,d,f;e=a=0;for(b=this.ye.length;a<b;a++)d=this.ye[a],
f=this.b.p[d[1]],f.global?f.Mb||this.b.ne(d,null,!0):(this.ye[e]=d,e++);Da(this.ye,e)};g.prototype.Cw=function(){this.b.Xg||this.b.trigger(W.prototype.g.Vr,null);this.b.El=!0;T(this.b.xd.Tb);var a,e,b,d,g,k;if(!this.Rf)for(a=0,e=this.O.length;a<e;a++)for(this.O[a].Xm(),g=this.O[a].e,b=0,d=g.length;b<d;b++)k=g[b],k.type.global||this.b.Um(k.type)&&this.vw(k);a=0;for(e=this.O.length;a<e;a++){g=this.O[a].e;b=0;for(d=g.length;b<d;b++)k=g[b],k.type.global||this.b.Ff(k);this.b.jb();T(g);this.O[a].Ef=!0}a=
0;for(e=this.b.p.length;a<e;a++)if(g=this.b.p[a],!(g.global||g.ma.Ce||g.ma.Mj||g.C)){b=0;for(d=g.e.length;b<d;b++)this.b.Ff(g.e[b]);this.b.jb()}f=!1;this.b.El=!1};new S(0,0,0,0);g.prototype.rc=function(a){var e,b=a,d=!1,f=!this.b.hc;f&&(this.b.bj||(this.b.bj=document.createElement("canvas"),e=this.b.bj,e.width=this.b.I,e.height=this.b.H,this.b.Uo=e.getContext("2d"),d=!0),e=this.b.bj,b=this.b.Uo,e.width!==this.b.I&&(e.width=this.b.I,d=!0),e.height!==this.b.H&&(e.height=this.b.H,d=!0),d&&this.b.Hj(b,
this.b.qa));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.b.Sn&&!this.uo()&&b.clearRect(0,0,this.b.I,this.b.H);var g,n,d=0;for(g=this.O.length;d<g;d++)n=this.O[d],n.visible&&0<n.opacity&&11!==n.kb&&(n.e.length||!n.dd)?n.rc(b):n.ck();f&&a.drawImage(e,0,0,this.b.width,this.b.height)};g.prototype.pe=function(a){a.Wp(!0);this.b.Ha||(this.b.Ha=a.Bb(this.b.I,this.b.H,this.b.qa));if(this.b.Ha.cf!==this.b.I||this.b.Ha.bf!==this.b.H)a.deleteTexture(this.b.Ha),this.b.Ha=a.Bb(this.b.I,this.b.H,
this.b.qa);a.Cc(this.b.Ha);this.b.hc||a.Zd(this.b.I,this.b.H);var e,b;for(e=this.O.length-1;0<=e;--e)b=this.O[e],b.visible&&1===b.opacity&&b.$d&&0===b.kb&&(b.e.length||!b.dd)?b.pe(a):b.ck();a.Wp(!1)};g.prototype.qb=function(a){var e=0<this.ia.length||this.b.qg||!this.b.hc||this.b.na;if(e){this.b.Ha||(this.b.Ha=a.Bb(this.b.I,this.b.H,this.b.qa));if(this.b.Ha.cf!==this.b.I||this.b.Ha.bf!==this.b.H)a.deleteTexture(this.b.Ha),this.b.Ha=a.Bb(this.b.I,this.b.H,this.b.qa);a.Cc(this.b.Ha);this.b.hc||a.Zd(this.b.I,
this.b.H)}else this.b.Ha&&(a.Cc(null),a.deleteTexture(this.b.Ha),this.b.Ha=null);this.b.Sn&&!this.uo()&&a.clear(0,0,0,0);var b,d,f;b=0;for(d=this.O.length;b<d;b++)f=this.O[b],f.visible&&0<f.opacity&&(f.e.length||!f.dd)?f.qb(a):f.ck();e&&(0===this.ia.length||1===this.ia.length&&this.b.hc?(1===this.ia.length?(e=this.ia[0].index,a.Rb(this.ia[0].Ka),a.lg(null,1/this.b.I,1/this.b.H,0,0,1,1,this.scale,this.k,0,0,this.b.I/2,this.b.H/2,this.b.$b.ja,this.xa[e]),a.xj(this.ia[0].Ka)&&(this.b.da=!0)):a.Rb(0),
this.b.hc||a.Zd(this.b.width,this.b.height),a.Cc(null),a.Vp(!1),a.Yd(1),a.Ja(this.b.Ha),a.Tp(),a.Bc(),a.oc(),e=this.b.width/2,b=this.b.height/2,a.zf(-e,b,e,b,e,-b,-e,-b),a.Ja(null),a.Vp(!0)):this.um(a,null,null,null))};g.prototype.Lg=function(){return 0<this.ia.length||this.b.qg||!this.b.hc||this.b.na?this.b.Ha:null};g.prototype.oo=function(){var a=this.O[0].Zb(),e,b,d;e=1;for(b=this.O.length;e<b;e++)d=this.O[e],(0!==d.zc||0!==d.Ac)&&d.Zb()<a&&(a=d.Zb());return a};g.prototype.Bm=function(a){if(!this.Aq){var e=
1/this.oo()*this.b.I/2;a>this.width-e&&(a=this.width-e);a<e&&(a=e)}this.scrollX!==a&&(this.scrollX=a,this.b.da=!0)};g.prototype.Cm=function(a){if(!this.Aq){var e=1/this.oo()*this.b.H/2;a>this.height-e&&(a=this.height-e);a<e&&(a=e)}this.scrollY!==a&&(this.scrollY=a,this.b.da=!0)};g.prototype.Ln=function(){this.Bm(this.scrollX);this.Cm(this.scrollY)};g.prototype.um=function(a,e,b,d){var f=b?b.ia:e?e.ia:this.ia,g=1,n=0,t=0,h=0,p=this.b.I,w=this.b.H;b?(g=b.i.Zb(),n=b.i.Yb(),t=b.i.aa,h=b.i.ba,p=b.i.fa,
w=b.i.ea):e&&(g=e.Zb(),n=e.Yb(),t=e.aa,h=e.ba,p=e.fa,w=e.ea);var C=this.b.dl,k,m,u,r,q=0,N=1,R,D,I=this.b.I,J=this.b.H,na=I/2,ra=J/2,z=e?e.Ne:this.Ne,B=e?e.rm:this.rm,P=0,O=0,H=0,F=0,K=I,ca=I,L=J,fa=J,M=u=0;r=b?b.i.Yb():0;if(b){k=0;for(m=f.length;k<m;k++)u+=a.Ku(f[k].Ka),M+=a.Lu(f[k].Ka);F=b.U;P=e.ua(F.left,F.top,!0,!0);H=e.ua(F.left,F.top,!1,!0);K=e.ua(F.right,F.bottom,!0,!0);L=e.ua(F.right,F.bottom,!1,!0);0!==r&&(k=e.ua(F.right,F.top,!0,!0),m=e.ua(F.right,F.top,!1,!0),O=e.ua(F.left,F.bottom,!0,
!0),F=e.ua(F.left,F.bottom,!1,!0),r=Math.min(P,K,k,O),K=Math.max(P,K,k,O),P=r,r=Math.min(H,L,m,F),L=Math.max(H,L,m,F),H=r);P-=u;H-=M;K+=u;L+=M;B.left=P/I;B.top=1-H/J;B.right=K/I;B.bottom=1-L/J;O=P=Q(P);F=H=Q(H);ca=K=ta(K);fa=L=ta(L);O-=u;F-=M;ca+=u;fa+=M;0>P&&(P=0);0>H&&(H=0);K>I&&(K=I);L>J&&(L=J);0>O&&(O=0);0>F&&(F=0);ca>I&&(ca=I);fa>J&&(fa=J);z.left=P/I;z.top=1-H/J;z.right=K/I;z.bottom=1-L/J}else z.left=B.left=0,z.top=B.top=0,z.right=B.right=1,z.bottom=B.bottom=1;M=b&&(a.Bh(f[0].Ka)||0!==u||0!==
M||1!==b.opacity||b.type.ma.tp)||e&&!b&&1!==e.opacity;a.Tp();if(M){C[q]||(C[q]=a.Bb(I,J,this.b.qa));if(C[q].cf!==I||C[q].bf!==J)a.deleteTexture(C[q]),C[q]=a.Bb(I,J,this.b.qa);a.Rb(0);a.Cc(C[q]);D=fa-F;a.clearRect(O,J-F-D,ca-O,D);b?b.qb(a):(a.Ja(this.b.Ra),a.Yd(e.opacity),a.Bc(),a.translate(-na,-ra),a.oc(),a.$c(P,L,K,L,K,H,P,H,z));B.left=B.top=0;B.right=B.bottom=1;b&&(r=z.top,z.top=z.bottom,z.bottom=r);q=1;N=0}a.Yd(1);u=f.length-1;var Aa=a.mm(f[u].Ka)||!e&&!b&&!this.b.hc;k=r=0;for(m=f.length;k<m;k++){C[q]||
(C[q]=a.Bb(I,J,this.b.qa));if(C[q].cf!==I||C[q].bf!==J)a.deleteTexture(C[q]),C[q]=a.Bb(I,J,this.b.qa);a.Rb(f[k].Ka);r=f[k].index;a.xj(f[k].Ka)&&(this.b.da=!0);0!=k||M?(a.lg(d,1/I,1/J,B.left,B.top,B.right,B.bottom,g,n,t,h,(t+p)/2,(h+w)/2,this.b.$b.ja,b?b.xa[r]:e?e.xa[r]:this.xa[r]),a.Ja(null),k!==u||Aa?(a.Cc(C[q]),D=fa-F,R=J-F-D,a.clearRect(O,R,ca-O,D)):(b?a.Qe(b.ub,b.pb):e&&a.Qe(e.ub,e.pb),a.Cc(d)),a.Ja(C[N]),a.Bc(),a.translate(-na,-ra),a.oc(),a.$c(P,L,K,L,K,H,P,H,z),k!==u||Aa||a.Ja(null)):(a.Cc(C[q]),
D=fa-F,R=J-F-D,a.clearRect(O,R,ca-O,D),b?(b.cb&&b.cb.L?(R=b.cb.L,N=1/R.width,R=1/R.height):(N=1/b.width,R=1/b.height),a.lg(d,N,R,B.left,B.top,B.right,B.bottom,g,n,t,h,(t+p)/2,(h+w)/2,this.b.$b.ja,b.xa[r]),b.qb(a)):(a.lg(d,1/I,1/J,0,0,1,1,g,n,t,h,(t+p)/2,(h+w)/2,this.b.$b.ja,e?e.xa[r]:this.xa[r]),a.Ja(e?this.b.Ra:this.b.Ha),a.Bc(),a.translate(-na,-ra),a.oc(),a.$c(P,L,K,L,K,H,P,H,z)),B.left=B.top=0,B.right=B.bottom=1,b&&!Aa&&(r=L,L=H,H=r));q=0===q?1:0;N=0===q?1:0}Aa&&(a.Rb(0),b?a.Qe(b.ub,b.pb):e?a.Qe(e.ub,
e.pb):this.b.hc||(a.Zd(this.b.width,this.b.height),na=this.b.width/2,ra=this.b.height/2,H=P=0,K=this.b.width,L=this.b.height),a.Cc(d),a.Ja(C[N]),a.Bc(),a.translate(-na,-ra),a.oc(),b&&1===f.length&&!M?a.$c(P,H,K,H,K,L,P,L,z):a.$c(P,L,K,L,K,H,P,H,z),a.Ja(null))};g.prototype.Ni=function(a){var e,b;e=0;for(b=this.O.length;e<b;e++)if(this.O[e].X===a)return this.O[e];return null};g.prototype.bb=function(){var a,e,b,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.k,w:this.width,h:this.height,fv:this.Rf,
persist:this.Le,fx:[],layers:{}};a=0;for(e=this.M.length;a<e;a++)b=this.M[a],d.fx.push({name:b.name,active:b.ec,params:this.xa[b.index]});a=0;for(e=this.O.length;a<e;a++)b=this.O[a],d.layers[b.X.toString()]=b.bb();return d};g.prototype.rb=function(a){var e,b,d,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.k=a.a;this.width=a.w;this.height=a.h;this.Le=a.persist;"undefined"!==typeof a.fv&&(this.Rf=a.fv);var g=a.fx;e=0;for(b=g.length;e<b;e++)if(d=this.il(g[e].name))d.ec=g[e].active,this.xa[d.index]=
g[e].params;this.ed();e=a.layers;for(f in e)e.hasOwnProperty(f)&&(a=this.Ni(parseInt(f,10)))&&a.rb(e[f])};Hb=g;k.prototype.ed=function(){T(this.ia);this.$d=!0;var a,e,b;a=0;for(e=this.M.length;a<e;a++)b=this.M[a],b.ec&&(this.ia.push(b),b.Yc||(this.$d=!1))};k.prototype.il=function(a){var e,b,d;e=0;for(b=this.M.length;e<b;e++)if(d=this.M[e],d.name===a)return d;return null};k.prototype.ft=function(){var a,e,b,d,f,g;e=a=0;for(b=this.kc.length;a<b;a++){d=this.kc[a];f=this.b.p[d[1]];g=this.b.Um(f);f=!0;
if(!g||this.$a.Rf){d=this.b.ne(d,this,!0);if(!d)continue;u.push(d);d.type.global&&(f=!1,this.Bg.push(d.uid))}f&&(this.kc[e]=this.kc[a],e++)}this.kc.length=e;this.b.jb();!this.b.j&&this.M.length&&(this.kb=this.Lt);this.zg=ib(this.kb);this.b.q&&jb(this,this.kb,this.b.q);this.ad=!0};k.prototype.jg=function(a,e){var b=Ga(this.e,a);0>b||(e&&this.pc&&a.Qb&&a.Qb.right>=a.Qb.left&&(a.Q(),this.ib.update(a,a.Qb,null),a.Qb.set(0,0,-1,-1)),b===this.e.length-1?this.e.pop():(Ca(this.e,b),this.Fh(b)),this.ad=!0)};
k.prototype.wg=function(a,e){a.jd=this.e.length;this.e.push(a);e&&this.pc&&a.Qb&&a.oa();this.ad=!0};k.prototype.dw=function(a){this.e.unshift(a);this.Fh(0)};k.prototype.Mv=function(a,e,b){var d=a.qd();e=e.qd();Ca(this.e,d);d<e&&e--;b&&e++;e===this.e.length?this.e.push(a):this.e.splice(e,0,a);this.Fh(d<e?d:e)};k.prototype.Fh=function(a){-1===this.ee?this.ee=a:a<this.ee&&(this.ee=a);this.ad=this.Ef=!0};k.prototype.Xm=function(){if(this.Ef){-1===this.ee&&(this.ee=0);var a,e,b;if(this.pc)for(a=this.ee,
e=this.e.length;a<e;++a)b=this.e[a],b.jd=a,this.ib.Iv(b.Qb);else for(a=this.ee,e=this.e.length;a<e;++a)this.e[a].jd=a;this.Ef=!1;this.ee=-1}};k.prototype.Zb=function(a){return this.Hu()*(this.b.hc||a?this.b.xg:1)};k.prototype.Hu=function(){return(this.scale*this.$a.scale-1)*this.kd+1};k.prototype.Yb=function(){return this.Id?0:La(this.$a.k+this.k)};var a=[],b=[],d=[];k.prototype.nl=function(){this.Xm();this.ib.zj(this.aa,this.ba,this.fa,this.ea,d);if(!d.length)return r();if(1===d.length){var a=r();
Ea(a,d[0]);T(d);return a}for(var e=!0;1<d.length;){for(var a=d,f=void 0,l=void 0,g=void 0,k=void 0,n=void 0,f=0,l=a.length;f<l-1;f+=2){var g=a[f],k=a[f+1],n=r(),t=g,h=k,p=n,w=0,C=0,m=0,u=t.length,X=h.length,U=void 0,aa=void 0;for(p.length=u+X;w<u&&C<X;++m)U=t[w],aa=h[C],U.jd<aa.jd?(p[m]=U,++w):(p[m]=aa,++C);for(;w<u;++w,++m)p[m]=t[w];for(;C<X;++C,++m)p[m]=h[C];e||(q(g),q(k));b.push(n)}1===l%2&&(e?(g=r(),Ea(g,a[l-1]),b.push(g)):b.push(a[l-1]));Ea(a,b);T(b);e=!1}a=d[0];T(d);return a};k.prototype.rc=
function(a){this.vd=this.Ii||1!==this.opacity||0!==this.kb;var e=this.b.canvas,b=a,d=!1;this.vd&&(this.b.aj||(this.b.aj=document.createElement("canvas"),e=this.b.aj,e.width=this.b.I,e.height=this.b.H,this.b.To=e.getContext("2d"),d=!0),e=this.b.aj,b=this.b.To,e.width!==this.b.I&&(e.width=this.b.I,d=!0),e.height!==this.b.H&&(e.height=this.b.H,d=!0),d&&this.b.Hj(b,this.b.qa),this.dd&&b.clearRect(0,0,this.b.I,this.b.H));b.globalAlpha=1;b.globalCompositeOperation="source-over";this.dd||(b.fillStyle="rgb("+
this.Lc[0]+","+this.Lc[1]+","+this.Lc[2]+")",b.fillRect(0,0,this.b.I,this.b.H));b.save();this.Id=!0;var d=this.zb(0,0,!0,!0),f=this.zb(0,0,!1,!0);this.Id=!1;this.b.nc&&(d=Math.round(d),f=Math.round(f));this.Cj(d,f,b);var g=this.Zb();b.scale(g,g);b.translate(-d,-f);this.pc?(this.eb.left=this.ib.Gb(this.aa),this.eb.top=this.ib.Hb(this.ba),this.eb.right=this.ib.Gb(this.fa),this.eb.bottom=this.ib.Hb(this.ea),this.ad||!this.eb.Dg(this.$f)?(q(this.Td),d=this.nl(),this.ad=!1,this.$f.df(this.eb)):d=this.Td):
d=this.e;for(var n,t=null,f=0,g=d.length;f<g;++f)n=d[f],n!==t&&(this.Ft(n,b),t=n);this.pc&&(this.Td=d);b.restore();this.vd&&(a.globalCompositeOperation=this.zg,a.globalAlpha=this.opacity,a.drawImage(e,0,0))};k.prototype.Ft=function(a,e){if(a.visible&&0!==a.width&&0!==a.height){a.Q();var b=a.U;b.right<this.aa||b.bottom<this.ba||b.left>this.fa||b.top>this.ea||(e.globalCompositeOperation=a.zg,a.rc(e))}};k.prototype.ck=function(){this.Id=!0;var a=this.zb(0,0,!0,!0),e=this.zb(0,0,!1,!0);this.Id=!1;this.b.nc&&
(a=Math.round(a),e=Math.round(e));this.Cj(a,e,null)};k.prototype.Cj=function(a,e,b){var d=this.Zb();this.aa=a;this.ba=e;this.fa=a+1/d*this.b.I;this.ea=e+1/d*this.b.H;this.aa>this.fa&&(a=this.aa,this.aa=this.fa,this.fa=a);this.ba>this.ea&&(a=this.ba,this.ba=this.ea,this.ea=a);a=this.Yb();0!==a&&(b&&(b.translate(this.b.I/2,this.b.H/2),b.rotate(-a),b.translate(this.b.I/-2,this.b.H/-2)),this.de.set(this.aa,this.ba,this.fa,this.ea),this.de.offset((this.aa+this.fa)/-2,(this.ba+this.ea)/-2),this.vq.aq(this.de,
a),this.vq.Mn(this.de),this.de.offset((this.aa+this.fa)/2,(this.ba+this.ea)/2),this.aa=this.de.left,this.ba=this.de.top,this.fa=this.de.right,this.ea=this.de.bottom)};k.prototype.pe=function(a){if(this.vd=this.Ii){this.b.Ra||(this.b.Ra=a.Bb(this.b.I,this.b.H,this.b.qa));if(this.b.Ra.cf!==this.b.I||this.b.Ra.bf!==this.b.H)a.deleteTexture(this.b.Ra),this.b.Ra=a.Bb(this.b.I,this.b.H,this.b.qa);a.Cc(this.b.Ra)}this.Id=!0;var e=this.zb(0,0,!0,!0),b=this.zb(0,0,!1,!0);this.Id=!1;this.b.nc&&(e=Math.round(e),
b=Math.round(b));this.Cj(e,b,null);e=this.Zb();a.Bc();a.scale(e,e);a.Dj(-this.Yb());a.translate((this.aa+this.fa)/-2,(this.ba+this.ea)/-2);a.oc();this.pc?(this.eb.left=this.ib.Gb(this.aa),this.eb.top=this.ib.Hb(this.ba),this.eb.right=this.ib.Gb(this.fa),this.eb.bottom=this.ib.Hb(this.ea),this.ad||!this.eb.Dg(this.$f)?(q(this.Td),e=this.nl(),this.ad=!1,this.$f.df(this.eb)):e=this.Td):e=this.e;for(var d,f=null,b=e.length-1;0<=b;--b)d=e[b],d!==f&&(this.Ht(e[b],a),f=d);this.pc&&(this.Td=e);this.dd||(this.Jk=
this.b.jf++,a.Ij(this.Jk),a.Up(1,1,1),a.ho(),a.lw())};k.prototype.qb=function(a){var e=0,b=0;if(this.vd=this.Ii||1!==this.opacity||0<this.ia.length||0!==this.kb){this.b.Ra||(this.b.Ra=a.Bb(this.b.I,this.b.H,this.b.qa));if(this.b.Ra.cf!==this.b.I||this.b.Ra.bf!==this.b.H)a.deleteTexture(this.b.Ra),this.b.Ra=a.Bb(this.b.I,this.b.H,this.b.qa);a.Cc(this.b.Ra);this.dd&&a.clear(0,0,0,0)}this.dd||(this.b.na?(a.Ij(this.Jk),a.Up(this.Lc[0]/255,this.Lc[1]/255,this.Lc[2]/255),a.ho(),a.Aw()):a.clear(this.Lc[0]/
255,this.Lc[1]/255,this.Lc[2]/255,1));this.Id=!0;var d=this.zb(0,0,!0,!0),e=this.zb(0,0,!1,!0);this.Id=!1;this.b.nc&&(d=Math.round(d),e=Math.round(e));this.Cj(d,e,null);d=this.Zb();a.Bc();a.scale(d,d);a.Dj(-this.Yb());a.translate((this.aa+this.fa)/-2,(this.ba+this.ea)/-2);a.oc();this.pc?(this.eb.left=this.ib.Gb(this.aa),this.eb.top=this.ib.Hb(this.ba),this.eb.right=this.ib.Gb(this.fa),this.eb.bottom=this.ib.Hb(this.ea),this.ad||!this.eb.Dg(this.$f)?(q(this.Td),e=this.nl(),this.ad=!1,this.$f.df(this.eb)):
e=this.Td):e=this.e;var f,g,n=null,b=0;for(f=e.length;b<f;++b)g=e[b],g!==n&&(this.Gt(e[b],a),n=g);this.pc&&(this.Td=e);this.vd&&(e=this.ia.length?this.ia[0].Ka:0,b=this.ia.length?this.ia[0].index:0,0===this.ia.length||1===this.ia.length&&!a.mm(e)&&1===this.opacity?(1===this.ia.length?(a.Rb(e),a.lg(this.$a.Lg(),1/this.b.I,1/this.b.H,0,0,1,1,d,this.Yb(),this.aa,this.ba,(this.aa+this.fa)/2,(this.ba+this.ea)/2,this.b.$b.ja,this.xa[b]),a.xj(e)&&(this.b.da=!0)):a.Rb(0),a.Cc(this.$a.Lg()),a.Yd(this.opacity),
a.Ja(this.b.Ra),a.Qe(this.ub,this.pb),a.Bc(),a.oc(),d=this.b.I/2,e=this.b.H/2,a.zf(-d,e,d,e,d,-e,-d,-e),a.Ja(null)):this.$a.um(a,this,null,this.$a.Lg()))};k.prototype.Gt=function(a,e){if(a.visible&&0!==a.width&&0!==a.height){a.Q();var b=a.U;b.right<this.aa||b.bottom<this.ba||b.left>this.fa||b.top>this.ea||(e.Ij(a.jf),a.Gq?this.It(a,e):(e.Rb(0),e.Qe(a.ub,a.pb),a.qb(e)))}};k.prototype.Ht=function(a,e){if(a.visible&&0!==a.width&&0!==a.height){a.Q();var b=a.U;b.right<this.aa||b.bottom<this.ba||b.left>
this.fa||b.top>this.ea||(a.jf=this.b.jf++,0===a.kb&&1===a.opacity&&a.$d&&a.pe&&(e.Ij(a.jf),a.pe(e)))}};k.prototype.It=function(a,e){var b=a.ia[0].Ka,d=a.ia[0].index,f=this.Zb();if(1!==a.ia.length||e.mm(b)||e.fw(b)||(a.k||a.i.Yb())&&e.Bh(b)||1!==a.opacity||a.type.ma.tp)this.$a.um(e,this,a,this.vd?this.b.Ra:this.$a.Lg()),e.Bc(),e.scale(f,f),e.Dj(-this.Yb()),e.translate((this.aa+this.fa)/-2,(this.ba+this.ea)/-2),e.oc();else{e.Rb(b);e.Qe(a.ub,a.pb);e.xj(b)&&(this.b.da=!0);var g=0,n=0,t=0,h=0;e.Bh(b)&&
(h=a.U,g=this.ua(h.left,h.top,!0,!0),n=this.ua(h.left,h.top,!1,!0),t=this.ua(h.right,h.bottom,!0,!0),h=this.ua(h.right,h.bottom,!1,!0),g=g/windowWidth,n=1-n/windowHeight,t=t/windowWidth,h=1-h/windowHeight);var p;a.cb&&a.cb.L?(p=a.cb.L,b=1/p.width,p=1/p.height):(b=1/a.width,p=1/a.height);e.lg(this.vd?this.b.Ra:this.$a.Lg(),b,p,g,n,t,h,f,this.Yb(),this.aa,this.ba,(this.aa+this.fa)/2,(this.ba+this.ea)/2,this.b.$b.ja,a.xa[d]);a.qb(e)}};k.prototype.zb=function(a,e,b,d){var f=this.b.devicePixelRatio;this.b.pf&&
(a*=f,e*=f);var f=this.b.Gp,g=this.b.Hp,f=(this.$a.scrollX-f)*this.zc+f,g=(this.$a.scrollY-g)*this.Ac+g,n=f,t=g,h=1/this.Zb(!d);d?(n-=this.b.I*h/2,t-=this.b.H*h/2):(n-=this.b.width*h/2,t-=this.b.height*h/2);n+=a*h;t+=e*h;e=this.Yb();0!==e&&(n-=f,t-=g,a=Math.cos(e),e=Math.sin(e),d=n*a-t*e,t=t*a+n*e,n=d+f,t+=g);return b?n:t};k.prototype.ua=function(a,b,d,f){var g=this.b.Gp,k=this.b.Hp,n=(this.$a.scrollX-g)*this.zc+g,t=(this.$a.scrollY-k)*this.Ac+k,k=n,g=t,h=this.Yb();if(0!==h){a-=n;b-=t;var p=Math.cos(-h),
h=Math.sin(-h),w=a*p-b*h;b=b*p+a*h;a=w+n;b+=t}n=1/this.Zb(!f);f?(k-=this.b.I*n/2,g-=this.b.H*n/2):(k-=this.b.width*n/2,g-=this.b.height*n/2);k=(a-k)/n;g=(b-g)/n;a=this.b.devicePixelRatio;this.b.pf&&!f&&(k/=a,g/=a);return d?k:g};k.prototype.bb=function(){var a,b,d,f={s:this.scale,a:this.k,vl:this.aa,vt:this.ba,vr:this.fa,vb:this.ea,v:this.visible,bc:this.Lc,t:this.dd,px:this.zc,py:this.Ac,o:this.opacity,zr:this.kd,fx:[],cg:this.Bg,instances:[]};a=0;for(b=this.M.length;a<b;a++)d=this.M[a],f.fx.push({name:d.name,
active:d.ec,params:this.xa[d.index]});return f};k.prototype.rb=function(a){var b,d,f;this.scale=a.s;this.k=a.a;this.aa=a.vl;this.ba=a.vt;this.fa=a.vr;this.ea=a.vb;this.visible=a.v;this.Lc=a.bc;this.dd=a.t;this.zc=a.px;this.Ac=a.py;this.opacity=a.o;this.kd=a.zr;this.Bg=a.cg||[];Ea(this.kc,this.hq);var g=new ea;b=0;for(f=this.Bg.length;b<f;++b)g.add(this.Bg[b]);d=b=0;for(f=this.kc.length;b<f;++b)g.contains(this.kc[b][2])||(this.kc[d]=this.kc[b],++d);Da(this.kc,d);d=a.fx;b=0;for(f=d.length;b<f;b++)if(a=
this.il(d[b].name))a.ec=d[b].active,this.xa[a.index]=d[b].params;this.ed();this.e.sort(m);this.Ef=!0};Vb=k})();
(function(){function g(a,h){var b,c=a.length;switch(c){case 0:return!0;case 1:return a[0]===h[0];case 2:return a[0]===h[0]&&a[1]===h[1];default:for(b=0;b<c;b++)if(a[b]!==h[b])return!1;return!0}}function m(a,h){return a.index-h.index}function k(a){var h,b,c,e;2===a.length?a[0].index>a[1].index&&(h=a[0],a[0]=a[1],a[1]=h):2<a.length&&a.sort(m);a.length>=y.length&&(y.length=a.length+1);y[a.length]||(y[a.length]=[]);e=y[a.length];h=0;for(b=e.length;h<b;h++)if(c=e[h],g(a,c))return c;e.push(a);return a}
function r(a,h){this.b=a;this.xq={};this.bo={};this.tl=!1;this.xo=new ea;this.Qk=[];this.tk=[];this.name=h[0];var b=h[1];this.se=[];var c,e;c=0;for(e=b.length;c<e;c++)this.zo(b[c],null,this.se)}function q(a){this.type=a;this.e=[];this.V=[];this.la=!0}function u(a,h,b){this.sheet=a;this.parent=h;this.b=a.b;this.Y=[];this.Te=[];this.vo=this.Xj=this.Qm=this.xl=this.group=this.Gm=!1;this.Oa=[];this.Ic=[];this.Dc=[];this.Og="";this.Tf=this.xl=this.group=!1;this.oi=null;b[1]&&(this.Og=b[1][1].toLowerCase(),
this.group=!0,this.xl=!!b[1][0],this.oi=[],this.Tf=this.xl,this.b.Kf.push(this),this.b.Pg[this.Og]=this);this.mc=b[2];this.X=b[4];this.group||(this.b.Kn[this.X.toString()]=this);var c=b[5];a=0;for(h=c.length;a<h;a++){var e=new Wb(this,c[a]);e.index=a;this.Oa.push(e);this.Cn(e.type)}c=b[6];a=0;for(h=c.length;a<h;a++)e=new Xb(this,c[a]),e.index=a,this.Ic.push(e);if(8===b.length)for(b=b[7],a=0,h=b.length;a<h;a++)this.sheet.zo(b[a],this,this.Dc);this.Xi=!1;this.Oa.length&&(this.Xi=null==this.Oa[0].type&&
this.Oa[0].fb==W.prototype.g.gn)}function f(a,b){var c,e,d;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Mb))for(c=0,e=a.Wb.length;c<e;c++)d=a.Wb[c],a!==d&&-1===b.indexOf(d)&&b.push(d)}function a(a,b){this.fc=a;this.sheet=a.sheet;this.b=a.b;this.T=[];this.Ba=[];this.A={};this.index=-1;this.ug=!1;this.fb=this.b.fe(b[1]);this.trigger=0<b[3];this.ao=2===b[3];this.Si=b[5];this.Dv=b[6];this.X=b[7];this.b.le[this.X.toString()]=this;-1===b[0]?(this.type=null,this.Ia=this.ym,this.Ze=null,this.Nc=-1):(this.type=this.b.p[b[0]],
this.Ia=this.Dv?this.sw:this.xm,b[2]?(this.Ze=this.type.Li(b[2]),this.Nc=this.type.el(b[2])):(this.Ze=null,this.Nc=-1),this.fc.parent&&this.fc.parent.Jj());this.ao&&(this.Ia=this.uw);if(10===b.length){var c,e,d=b[9];c=0;for(e=d.length;c<e;c++){var f=new Yb(this,d[c]);this.T.push(f)}this.Ba.length=d.length}}function b(a,b){this.fc=a;this.sheet=a.sheet;this.b=a.b;this.T=[];this.Ba=[];this.A={};this.index=-1;this.ug=!1;this.fb=this.b.fe(b[1]);-1===b[0]?(this.type=null,this.Ia=this.ym,this.Ze=null,this.Nc=
-1):(this.type=this.b.p[b[0]],this.Ia=this.xm,b[2]?(this.Ze=this.type.Li(b[2]),this.Nc=this.type.el(b[2])):(this.Ze=null,this.Nc=-1));this.X=b[3];this.b.he[this.X.toString()]=this;if(6===b.length){var c,e,d=b[5];c=0;for(e=d.length;c<e;c++){var f=new Yb(this,d[c]);this.T.push(f)}this.Ba.length=d.length}}function d(){n++;x.length===n&&x.push(new Zb);return x[n]}function c(a,b){this.yc=a;this.fc=a.fc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.od=null;this.ae=0;this.get=null;this.Tn=0;this.$a=
null;this.key=0;this.object=null;this.index=0;this.Sh=this.Cf=this.Sh=this.Cf=this.eo=this.lf=this.Th=null;this.Gc=!1;var c,e,d;switch(b[0]){case 0:case 7:this.od=new $b(this,b[1]);this.ae=0;this.get=this.Xu;break;case 1:this.od=new $b(this,b[1]);this.ae=0;this.get=this.Yu;break;case 5:this.od=new $b(this,b[1]);this.ae=0;this.get=this.bv;break;case 3:case 8:this.Tn=b[1];this.get=this.Vu;break;case 6:this.$a=this.b.Sl[b[1]];this.get=this.cv;break;case 9:this.key=b[1];this.get=this.av;break;case 4:this.object=
this.b.p[b[1]];this.get=this.dv;this.fc.Cn(this.object);this.yc instanceof Xb?this.fc.Jj():this.fc.parent&&this.fc.parent.Jj();break;case 10:this.index=b[1];a.type&&a.type.C?(this.get=this.Zu,this.Gc=!0):this.get=this.$u;break;case 11:this.Th=b[1];this.lf=null;this.get=this.Wu;break;case 2:case 12:this.eo=b[1];this.get=this.Uu;break;case 13:for(this.get=this.gv,this.Cf=[],this.Sh=[],c=1,e=b.length;c<e;c++)d=new Yb(this.yc,b[c]),this.Cf.push(d),this.Sh.push(0)}}function e(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.Y=[];this.name=c[1];this.ek=c[2];this.wl=c[3];this.$g=!!c[4];this.Wi=!!c[5];this.X=c[6];this.b.sg[this.X.toString()]=this;this.data=this.wl;this.parent?(this.vf=this.$g||this.Wi?-1:this.b.Bw++,this.b.Ms.push(this)):(this.vf=-1,this.b.Ls.push(this))}function v(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.Y=[];this.Sg=null;this.nv=c[1];this.ec=!0}function l(){this.iq=[];this.reset(null)}var y=[];r.prototype.toString=function(){return this.name};r.prototype.zo=function(a,b,c){switch(a[0]){case 0:a=
new ac(this,b,a);if(a.mc)for(c.push(a),c=0,b=a.Oa.length;c<b;c++)a.Oa[c].trigger&&this.Ao(a,c);else a.Lo()?this.Ao(a,0):c.push(a);break;case 1:a=new Sb(this,b,a);c.push(a);break;case 2:a=new bc(this,b,a),c.push(a)}};r.prototype.Fa=function(){var a,b;a=0;for(b=this.se.length;a<b;a++)this.se[a].Fa(a<b-1&&this.se[a+1].Xi)};r.prototype.Vm=function(){T(this.Qk);T(this.tk);this.Bn(this);T(this.tk)};r.prototype.Bn=function(a){var b,c,e,d,f=a.Qk,g=a.tk,l=this.xo.fd();b=0;for(c=l.length;b<c;++b)e=l[b],d=e.Sg,
!e.ec||a===d||-1<g.indexOf(d)||(g.push(d),d.Bn(a),f.push(d))};r.prototype.Ia=function(a){this.b.$x||(this.tl=!0,a||(this.b.Il=!0));var b,c;b=0;for(c=this.se.length;b<c;b++){var e=this.se[b];e.Ia();this.b.Ik(e.Y);this.b.we&&this.b.jb()}a||(this.b.Il=!1)};r.prototype.Ao=function(a,b){a.mc||this.b.$j.push(a);var c,e,d=a.Oa[b],f;d.type?f=d.type.name:f="system";var g=(c=d.ao)?this.bo:this.xq;g[f]||(g[f]=[]);f=g[f];g=d.fb;if(c){if(d.T.length&&(d=d.T[0],1===d.type&&2===d.od.type)){d=d.od.value.toLowerCase();
c=0;for(e=f.length;c<e;c++)if(f[c].method==g){c=f[c].Eg;c[d]?c[d].push([a,b]):c[d]=[[a,b]];return}c={};c[d]=[[a,b]];f.push({method:g,Eg:c})}}else{c=0;for(e=f.length;c<e;c++)if(f[c].method==g){f[c].Eg.push([a,b]);return}pc&&g===pc.prototype.g.If?f.unshift({method:g,Eg:[[a,b]]}):f.push({method:g,Eg:[[a,b]]})}};Ib=r;q.prototype.sl=function(){return this.la?this.type.e.length:this.e.length};q.prototype.ic=function(){return this.la?this.type.e:this.e};q.prototype.Ah=function(a){a&&(a.b.ya().Ea.mc?(this.la&&
(T(this.e),Ea(this.V,a.type.e),this.la=!1),a=this.V.indexOf(a),-1!==a&&(this.e.push(this.V[a]),this.V.splice(a,1))):(this.la=!1,T(this.e),this.e[0]=a))};pb=q;window._c2hh_="01C5C0EE1A9BF0A1A0FFE8B1B00CBCF7767AE4E3";u.prototype.Fa=function(a){var b,c=this.parent;if(this.group)for(this.Xj=!0;c;){if(!c.group){this.Xj=!1;break}c=c.parent}this.Qm=!this.Lo()&&(!this.parent||this.parent.group&&this.parent.Xj);this.vo=!!a;this.Te=this.Y.slice(0);for(c=this.parent;c;){a=0;for(b=c.Y.length;a<b;a++)this.Is(c.Y[a]);
c=c.parent}this.Y=k(this.Y);this.Te=k(this.Te);a=0;for(b=this.Oa.length;a<b;a++)this.Oa[a].Fa();a=0;for(b=this.Ic.length;a<b;a++)this.Ic[a].Fa();a=0;for(b=this.Dc.length;a<b;a++)this.Dc[a].Fa(a<b-1&&this.Dc[a+1].Xi)};u.prototype.zw=function(a){if(this.Tf!==!!a){this.Tf=!!a;var b;a=0;for(b=this.oi.length;a<b;++a)this.oi[a].Cq();0<b&&this.b.W.kf&&this.b.W.kf.Vm()}};u.prototype.Cn=function(a){f(a,this.Y)};u.prototype.Is=function(a){f(a,this.Te)};u.prototype.Jj=function(){this.Gm=!0;this.parent&&this.parent.Jj()};
u.prototype.Lo=function(){return this.Oa.length?this.Oa[0].trigger:!1};u.prototype.Ia=function(){var a,b,c=!1,e=this.b,d=this.b.ya();d.Ea=this;var f=this.Oa;this.Xi||(d.Vk=!1);if(this.mc){0===f.length&&(c=!0);d.Ga=0;for(a=f.length;d.Ga<a;d.Ga++)b=f[d.Ga],b.trigger||(b=b.Ia())&&(c=!0);(d.rf=c)&&this.Ej()}else{d.Ga=0;for(a=f.length;d.Ga<a;d.Ga++)if(b=f[d.Ga].Ia(),!b){d.rf=!1;this.Qm&&e.we&&e.jb();return}d.rf=!0;this.Ej()}this.Nt(d)};u.prototype.Nt=function(a){a.rf&&this.vo&&(a.Vk=!0);this.Qm&&this.b.we&&
this.b.jb()};u.prototype.qw=function(a){this.b.ya().Ea=this;this.Oa[a].Ia()&&(this.Ej(),this.b.ya().rf=!0)};u.prototype.Ej=function(){var a=this.b.ya(),b;a.Ub=0;for(b=this.Ic.length;a.Ub<b;a.Ub++)if(this.Ic[a.Ub].Ia())return;this.Sp()};u.prototype.mw=function(){var a=this.b.ya(),b;for(b=this.Ic.length;a.Ub<b;a.Ub++)if(this.Ic[a.Ub].Ia())return;this.Sp()};u.prototype.Sp=function(){if(this.Dc.length){var a,b,c,e,d=this.Dc.length-1;this.b.yj(this);if(this.Gm)for(a=0,b=this.Dc.length;a<b;a++)c=this.Dc[a],
(e=!this.Xj||!this.group&&a<d)&&this.b.Me(c.Y),c.Ia(),e?this.b.Xc(c.Y):this.b.Ik(c.Y);else for(a=0,b=this.Dc.length;a<b;a++)this.Dc[a].Ia();this.b.vj()}};u.prototype.rw=function(){var a=this.b.ya();a.Ea=this;var b=!1,c;a.Ga=0;for(c=this.Oa.length;a.Ga<c;a.Ga++)if(this.Oa[a.Ga].Ia())b=!0;else if(!this.mc)return!1;return this.mc?b:!0};u.prototype.Af=function(){this.b.Fg++;var a=this.b.ya().Ga,b=this.b.yj(this);if(!this.mc)for(b.Ga=a+1,a=this.Oa.length;b.Ga<a;b.Ga++)if(!this.Oa[b.Ga].Ia()){this.b.vj();
return}this.Ej();this.b.vj()};u.prototype.yv=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Oa[b].type===a.type)return!1;return!0};ac=u;a.prototype.Fa=function(){var a,b,c;a=0;for(b=this.T.length;a<b;a++)c=this.T[a],c.Fa(),c.Gc&&(this.ug=!0)};a.prototype.uw=function(){return!0};a.prototype.ym=function(){var a,b;a=0;for(b=this.T.length;a<b;a++)this.Ba[a]=this.T[a].get();return Ta(this.fb.apply(this.b.xd,this.Ba),this.Si)};a.prototype.sw=function(){var a,b;a=0;for(b=this.T.length;a<
b;a++)this.Ba[a]=this.T[a].get();a=this.fb.apply(this.Ze?this.Ze:this.type,this.Ba);this.type.Kc();return a};a.prototype.xm=function(){var a,b,c,e,d,f,g,l,n=this.type,k=n.ca(),m=this.fc.mc&&!this.trigger;b=0;var u=n.Mb,y=n.C,r=n.Ld,q=this.Nc,x=-1<q,v=this.ug,z=this.T,B=this.Ba,P=this.Si,O=this.fb,H;if(v)for(b=0,d=z.length;b<d;++b)f=z[b],f.Gc||(B[b]=f.get(0));else for(b=0,d=z.length;b<d;++b)B[b]=z[b].get(0);if(k.la){T(k.e);T(k.V);H=n.e;a=0;for(e=H.length;a<e;++a){l=H[a];if(v)for(b=0,d=z.length;b<d;++b)f=
z[b],f.Gc&&(B[b]=f.get(a));x?(b=0,y&&(b=l.type.Qf[r]),b=O.apply(l.N[q+b],B)):b=O.apply(l,B);(g=Ta(b,P))?k.e.push(l):m&&k.V.push(l)}n.finish&&n.finish(!0);k.la=!1;n.Kc();return k.sl()}c=0;H=(g=m&&!this.fc.yv(this))?k.V:k.e;var F=!1;a=0;for(e=H.length;a<e;++a){l=H[a];if(v)for(b=0,d=z.length;b<d;++b)f=z[b],f.Gc&&(B[b]=f.get(a));x?(b=0,y&&(b=l.type.Qf[r]),b=O.apply(l.N[q+b],B)):b=O.apply(l,B);if(Ta(b,P))if(F=!0,g){if(k.e.push(l),u)for(b=0,d=l.siblings.length;b<d;b++)f=l.siblings[b],f.type.ca().e.push(f)}else{H[c]=
l;if(u)for(b=0,d=l.siblings.length;b<d;b++)f=l.siblings[b],f.type.ca().e[c]=f;c++}else if(g){H[c]=l;if(u)for(b=0,d=l.siblings.length;b<d;b++)f=l.siblings[b],f.type.ca().V[c]=f;c++}else if(m&&(k.V.push(l),u))for(b=0,d=l.siblings.length;b<d;b++)f=l.siblings[b],f.type.ca().V.push(f)}Da(H,c);if(u)for(y=n.Wb,a=0,e=y.length;a<e;a++)l=y[a].ca(),g?Da(l.V,c):Da(l.e,c);c=F;if(g&&!F)for(a=0,e=k.e.length;a<e;a++){l=k.e[a];if(v)for(b=0,d=z.length;b<d;b++)f=z[b],f.Gc&&(B[b]=f.get(a));b=x?O.apply(l.N[q],B):O.apply(l,
B);if(Ta(b,P)){F=!0;break}}n.finish&&n.finish(c||m);return m?F:k.sl()};Wb=a;b.prototype.Fa=function(){var a,b,c;a=0;for(b=this.T.length;a<b;a++)c=this.T[a],c.Fa(),c.Gc&&(this.ug=!0)};b.prototype.ym=function(){var a=this.b,b,c,e=this.T,d=this.Ba;b=0;for(c=e.length;b<c;++b)d[b]=e[b].get();return this.fb.apply(a.xd,d)};b.prototype.xm=function(){var a=this.type,b=this.Nc,c=a.Ld,e=this.ug,d=this.T,f=this.Ba,g=this.fb,l=a.ca().ic(),a=a.C,n=-1<b,k,m,u,y,r,q;if(e)for(m=0,y=d.length;m<y;++m)r=d[m],r.Gc||(f[m]=
r.get(0));else for(m=0,y=d.length;m<y;++m)f[m]=d[m].get(0);k=0;for(u=l.length;k<u;++k){q=l[k];if(e)for(m=0,y=d.length;m<y;++m)r=d[m],r.Gc&&(f[m]=r.get(k));n?(m=0,a&&(m=q.type.Qf[c]),g.apply(q.N[b+m],f)):g.apply(q,f)}return!1};Xb=b;var x=[],n=-1;c.prototype.Fa=function(){var a,b;if(11===this.type)this.lf=this.b.ko(this.Th,this.fc.parent);else if(13===this.type)for(a=0,b=this.Cf.length;a<b;a++)this.Cf[a].Fa();this.od&&this.od.Fa()};c.prototype.Kv=function(a){this.Gc||!a||a.ma.Mj||(this.Gc=!0)};c.prototype.Zp=
function(){this.Gc=!0};c.prototype.Xu=function(a){this.ae=a||0;a=d();this.od.get(a);n--;return a.data};c.prototype.Yu=function(a){this.ae=a||0;a=d();this.od.get(a);n--;return G(a.data)?a.data:""};c.prototype.dv=function(){return this.object};c.prototype.Vu=function(){return this.Tn};c.prototype.bv=function(a){this.ae=a||0;a=d();this.od.get(a);n--;return a.Za()?this.b.Jg(a.data):this.b.ml(a.data)};c.prototype.cv=function(){return this.$a};c.prototype.av=function(){return this.key};c.prototype.$u=function(){return this.index};
c.prototype.Zu=function(a){a=a||0;var b=this.yc.type,c=null,c=b.ca(),e=c.ic();if(e.length)c=e[a%e.length].type;else if(c.V.length)c=c.V[a%c.V.length].type;else if(b.e.length)c=b.e[a%b.e.length].type;else return 0;return this.index+c.Di[b.Ld]};c.prototype.Wu=function(){return this.lf};c.prototype.Uu=function(){return this.eo};c.prototype.gv=function(){var a,b;a=0;for(b=this.Cf.length;a<b;a++)this.Sh[a]=this.Cf[a].get();return this.Sh};Yb=c;e.prototype.Fa=function(){this.Y=k(this.Y)};e.prototype.Bf=
function(a){var b=this.b.jo();this.parent&&!this.$g&&b?(this.vf>=b.length&&(b.length=this.vf+1),b[this.vf]=a):this.data=a};e.prototype.Mg=function(){var a=this.b.jo();return!this.parent||this.$g||!a||this.Wi?this.data:this.vf>=a.length||"undefined"===typeof a[this.vf]?this.wl:a[this.vf]};e.prototype.Ia=function(){!this.parent||this.$g||this.Wi||this.Bf(this.wl)};Sb=e;v.prototype.toString=function(){return"include:"+this.Sg.toString()};v.prototype.Fa=function(){this.Sg=this.b.Xk[this.nv];this.sheet.xo.add(this);
this.Y=k(this.Y);for(var a=this.parent;a;)a.group&&a.oi.push(this),a=a.parent;this.Cq()};v.prototype.Ia=function(){this.parent&&this.b.Dh(this.b.p);this.Sg.tl||this.Sg.Ia(!0);this.parent&&this.b.Xc(this.b.p)};v.prototype.Cq=function(){for(var a=this.parent;a;){if(a.group&&!a.Tf){this.ec=!1;return}a=a.parent}this.ec=!0};bc=v;l.prototype.reset=function(a){this.Ea=a;this.Ub=this.Ga=0;T(this.iq);this.Vk=this.rf=!1};l.prototype.Fo=function(){return this.Ea.Gm?!0:this.Ga<this.Ea.Oa.length-1?!!this.Ea.Y.length:
!1};Rb=l})();
(function(){function g(f,a){this.yc=f;this.b=f.b;this.type=a[0];this.get=[this.eu,this.au,this.nu,this.qu,this.Qt,this.ou,this.iu,this.Yt,this.hu,this.mu,this.Rt,this.lu,this.Zt,this.ju,this.fu,this.gu,this.bu,this.cu,this.Xt,this.pu,this.ku,this.du,this.Wt,this.$t][this.type];var b=null;this.Wd=this.T=this.Ba=this.fb=this.Uj=this.second=this.first=this.value=null;this.Nc=-1;this.Rc=null;this.Hq=-1;this.lf=this.Th=null;this.kg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new $b(f,a[1]);break;case 18:this.first=new $b(f,a[1]);this.second=new $b(f,a[2]);this.Uj=new $b(f,a[3]);break;case 19:this.fb=this.b.fe(a[1]);this.fb!==W.prototype.n.random&&this.fb!==W.prototype.n.Zs||this.yc.Zp();this.Ba=[];this.T=[];3===a.length?(b=a[2],this.Ba.length=b.length+1):this.Ba.length=1;break;case 20:this.Wd=this.b.p[a[1]];this.Nc=-1;this.fb=this.b.fe(a[2]);this.kg=a[3];qc&&this.fb===qc.prototype.n.Wq&&this.yc.Zp();a[4]?this.Rc=new $b(f,a[4]):this.Rc=null;this.Ba=[];this.T=[];6===a.length?
(b=a[5],this.Ba.length=b.length+1):this.Ba.length=1;break;case 21:this.Wd=this.b.p[a[1]];this.kg=a[2];a[3]?this.Rc=new $b(f,a[3]):this.Rc=null;this.Hq=a[4];break;case 22:this.Wd=this.b.p[a[1]];this.Wd.Li(a[2]);this.Nc=this.Wd.el(a[2]);this.fb=this.b.fe(a[3]);this.kg=a[4];a[5]?this.Rc=new $b(f,a[5]):this.Rc=null;this.Ba=[];this.T=[];7===a.length?(b=a[6],this.Ba.length=b.length+1):this.Ba.length=1;break;case 23:this.Th=a[1],this.lf=null}this.yc.Kv(this.Wd);4<=this.type&&17>=this.type&&(this.first=new $b(f,
a[1]),this.second=new $b(f,a[2]));if(b){var d,c;d=0;for(c=b.length;d<c;d++)this.T.push(new $b(f,b[d]))}}function m(){++u;q.length===u&&q.push(new Zb);return q[u]}function k(f,a,b){var d,c;d=0;for(c=f.length;d<c;++d)f[d].get(b),a[d+1]=b.data}function r(f,a){this.type=f||cc.Hf;this.data=a||0;this.yf=null;this.type==cc.Hf&&(this.data=Math.floor(this.data))}g.prototype.Fa=function(){23===this.type&&(this.lf=this.yc.b.ko(this.Th,this.yc.fc.parent));this.first&&this.first.Fa();this.second&&this.second.Fa();
this.Uj&&this.Uj.Fa();this.Rc&&this.Rc.Fa();if(this.T){var f,a;f=0;for(a=this.T.length;f<a;f++)this.T[f].Fa()}};var q=[],u=-1;g.prototype.pu=function(f){var a=this.T,b=this.Ba;b[0]=f;f=m();k(a,b,f);--u;this.fb.apply(this.b.xd,b)};g.prototype.ku=function(f){var a=this.Wd,b=this.Ba,d=this.T,c=this.Rc,e=this.fb,g=this.yc.ae,l=a.ca(),y=l.ic();if(!y.length)if(l.V.length)y=l.V;else{this.kg?f.Cb(""):f.K(0);return}b[0]=f;f.yf=a;f=m();k(d,b,f);c&&(c.get(f),f.Za()&&(g=f.data,y=a.e));--u;a=y.length;if(g>=a||
g<=-a)g%=a;0>g&&(g+=a);e.apply(y[g],b)};g.prototype.Wt=function(f){var a=this.Wd,b=this.Ba,d=this.T,c=this.Rc,e=this.Nc,g=this.fb,l=this.yc.ae,y=a.ca(),r=y.ic();if(!r.length)if(y.V.length)r=y.V;else{this.kg?f.Cb(""):f.K(0);return}b[0]=f;f.yf=a;f=m();k(d,b,f);c&&(c.get(f),f.Za()&&(l=f.data,r=a.e));--u;d=r.length;if(l>=d||l<=-d)l%=d;0>l&&(l+=d);l=r[l];r=0;a.C&&(r=l.type.Qf[a.Ld]);g.apply(l.N[e+r],b)};g.prototype.du=function(f){var a=this.Rc,b=this.Wd,d=this.Hq,c=this.yc.ae,e=b.ca(),g=e.ic();if(!g.length)if(e.V.length)g=
e.V;else{this.kg?f.Cb(""):f.K(0);return}if(a){e=m();a.get(e);if(e.Za()){c=e.data;g=b.e;0!==g.length&&(c%=g.length,0>c&&(c+=g.length));c=b.ll(c);b=c.Pa[d];G(b)?f.Cb(b):f.u(b);--u;return}--u}a=g.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=g[c];g=0;b.C&&(g=c.type.Di[b.Ld]);b=c.Pa[d+g];G(b)?f.Cb(b):f.u(b)};g.prototype.eu=function(f){f.type=cc.Hf;f.data=this.value};g.prototype.au=function(f){f.type=cc.Gf;f.data=this.value};g.prototype.nu=function(f){f.type=cc.String;f.data=this.value};g.prototype.qu=function(f){this.first.get(f);
f.Za()&&(f.data=-f.data)};g.prototype.Qt=function(f){this.first.get(f);var a=m();this.second.get(a);f.Za()&&a.Za()&&(f.data+=a.data,a.Vf()&&f.eg());--u};g.prototype.ou=function(f){this.first.get(f);var a=m();this.second.get(a);f.Za()&&a.Za()&&(f.data-=a.data,a.Vf()&&f.eg());--u};g.prototype.iu=function(f){this.first.get(f);var a=m();this.second.get(a);f.Za()&&a.Za()&&(f.data*=a.data,a.Vf()&&f.eg());--u};g.prototype.Yt=function(f){this.first.get(f);var a=m();this.second.get(a);f.Za()&&a.Za()&&(f.data/=
a.data,f.eg());--u};g.prototype.hu=function(f){this.first.get(f);var a=m();this.second.get(a);f.Za()&&a.Za()&&(f.data%=a.data,a.Vf()&&f.eg());--u};g.prototype.mu=function(f){this.first.get(f);var a=m();this.second.get(a);f.Za()&&a.Za()&&(f.data=Math.pow(f.data,a.data),a.Vf()&&f.eg());--u};g.prototype.Rt=function(f){this.first.get(f);var a=m();this.second.get(a);a.Xf()||f.Xf()?this.Tt(f,a):this.St(f,a);--u};g.prototype.Tt=function(f,a){f.Xf()&&a.Xf()?this.Vt(f,a):this.Ut(f,a)};g.prototype.Vt=function(f,
a){f.data+=a.data};g.prototype.Ut=function(f,a){f.Xf()?f.data+=(Math.round(1E10*a.data)/1E10).toString():f.Cb(f.data.toString()+a.data)};g.prototype.St=function(f,a){f.K(f.data&&a.data?1:0)};g.prototype.lu=function(f){this.first.get(f);var a=m();this.second.get(a);f.Za()&&a.Za()&&(f.data||a.data?f.K(1):f.K(0));--u};g.prototype.Xt=function(f){this.first.get(f);f.data?this.second.get(f):this.Uj.get(f)};g.prototype.Zt=function(f){this.first.get(f);var a=m();this.second.get(a);f.K(f.data===a.data?1:0);
--u};g.prototype.ju=function(f){this.first.get(f);var a=m();this.second.get(a);f.K(f.data!==a.data?1:0);--u};g.prototype.fu=function(f){this.first.get(f);var a=m();this.second.get(a);f.K(f.data<a.data?1:0);--u};g.prototype.gu=function(f){this.first.get(f);var a=m();this.second.get(a);f.K(f.data<=a.data?1:0);--u};g.prototype.bu=function(f){this.first.get(f);var a=m();this.second.get(a);f.K(f.data>a.data?1:0);--u};g.prototype.cu=function(f){this.first.get(f);var a=m();this.second.get(a);f.K(f.data>=
a.data?1:0);--u};g.prototype.$t=function(f){var a=this.lf.Mg();ja(a)?f.u(a):f.Cb(a)};$b=g;r.prototype.Vf=function(){return this.type===cc.Gf};r.prototype.Za=function(){return this.type===cc.Hf||this.type===cc.Gf};r.prototype.Xf=function(){return this.type===cc.String};r.prototype.eg=function(){this.Vf()||(this.Xf()&&(this.data=parseFloat(this.data)),this.type=cc.Gf)};r.prototype.K=function(f){this.type=cc.Hf;this.data=Math.floor(f)};r.prototype.u=function(f){this.type=cc.Gf;this.data=f};r.prototype.Cb=
function(f){this.type=cc.String;this.data=f};r.prototype.Lj=function(f){ja(f)?(this.type=cc.Gf,this.data=f):G(f)?(this.type=cc.String,this.data=f.toString()):(this.type=cc.Hf,this.data=0)};Zb=r;cc={Hf:0,Gf:1,String:2}})();function W(g){this.b=g;this.Tb=[]}
W.prototype.bb=function(){var g={},m,k,r,q,u,f,a,b;g.waits=[];var d=g.waits,c;m=0;for(k=this.Tb.length;m<k;m++){f=this.Tb[m];c={t:f.time,st:f.fq,s:f.Fm,ev:f.Of.X,sm:[],sols:{}};f.Of.Ic[f.Ub]&&(c.act=f.Of.Ic[f.Ub].X);r=0;for(q=f.Y.length;r<q;r++)c.sm.push(f.Y[r].X);for(u in f.Db)if(f.Db.hasOwnProperty(u)){a=this.b.p[parseInt(u,10)];b={sa:f.Db[u].Fj,insts:[]};r=0;for(q=f.Db[u].Nd.length;r<q;r++)b.insts.push(f.Db[u].Nd[r].uid);c.sols[a.X.toString()]=b}d.push(c)}return g};
W.prototype.rb=function(g){g=g.waits;var m,k,r,q,u,f,a,b,d,c,e;T(this.Tb);m=0;for(k=g.length;m<k;m++)if(f=g[m],b=this.b.Kn[f.ev.toString()]){d=-1;r=0;for(q=b.Ic.length;r<q;r++)if(b.Ic[r].X===f.act){d=r;break}if(-1!==d){a={Db:{},Y:[],Rk:!1};a.time=f.t;a.fq=f.st||"";a.Fm=!!f.s;a.Of=b;a.Ub=d;r=0;for(q=f.sm.length;r<q;r++)(b=this.b.Kg(f.sm[r]))&&a.Y.push(b);for(u in f.sols)if(f.sols.hasOwnProperty(u)&&(b=this.b.Kg(parseInt(u,10)))){d=f.sols[u];c={Fj:d.sa,Nd:[]};r=0;for(q=d.insts.length;r<q;r++)(e=this.b.po(d.insts[r]))&&
c.Nd.push(e);a.Db[b.index.toString()]=c}this.Tb.push(a)}}};
(function(){function g(){}function m(){}function k(){}var r=W.prototype;g.prototype.sr=function(){return!0};g.prototype.ln=function(){return!0};g.prototype.Vr=function(){return!0};g.prototype.$q=function(f,a,b){return dc(f,a,b)};g.prototype.tr=function(f,a,b){var d=this.b.ya(),c=d.Ea,d=d.Fo();f=this.b.hw(f);if(b<a)if(d)for(;a>=b&&!f.og;--a)this.b.Me(c.Y),f.index=a,c.Af(),this.b.Xc(c.Y);else for(;a>=b&&!f.og;--a)f.index=a,c.Af();else if(d)for(;a<=b&&!f.og;++a)this.b.Me(c.Y),f.index=a,c.Af(),this.b.Xc(c.Y);
else for(;a<=b&&!f.og;++a)f.index=a,c.Af();this.b.Zv();return!1};g.prototype.rr=function(f){var a=this.b.Mi(),b=a.A.Every_lastTime||0,d=this.b.$b.ja;"undefined"===typeof a.A.Every_seconds&&(a.A.Every_seconds=f);var c=a.A.Every_seconds;if(d>=b+c)return a.A.Every_lastTime=b+c,d>=a.A.Every_lastTime+.04&&(a.A.Every_lastTime=d),a.A.Every_seconds=f,!0;d<b-.1&&(a.A.Every_lastTime=d);return!1};g.prototype.er=function(f,a,b){return dc(f.Mg(),a,b)};g.prototype.Fr=function(f){return(f=this.b.Pg[f.toLowerCase()])&&
f.Tf};g.prototype.Gr=function(){return this.b.Qd};g.prototype.gn=function(){var f=this.b.ya();return f.Vk?!1:!f.rf};g.prototype.mn=function(){return!0};g.prototype.Or=function(){return!0};g.prototype.ok=function(){return!0};g.prototype.rn=function(){return!0};g.prototype.Wr=function(){return!0};g.prototype.bi=function(){return!0};g.prototype.Oq=function(f,a,b){return Pa(V(f),V(b))<=V(a)};g.prototype.Dr=function(f,a){return Ra(V(f),V(a))};g.prototype.Cr=function(f,a,b){f=Na(f);a=Na(a);b=Na(b);return Ra(b,
a)?Ra(f,a)&&!Ra(f,b):!(!Ra(f,a)&&Ra(f,b))};r.g=new g;m.prototype.gr=function(f,a,b,d){if(a&&f&&(a=this.b.Vn(f,a,b,d))){this.b.Tc++;var c;this.b.trigger(Object.getPrototypeOf(f.ma).g.ai,a);if(a.Mb)for(b=0,d=a.siblings.length;b<d;b++)c=a.siblings[b],this.b.trigger(Object.getPrototypeOf(c.type.ma).g.ai,c);this.b.Tc--;f=f.ca();f.la=!1;T(f.e);f.e[0]=a;if(a.Mb)for(b=0,d=a.siblings.length;b<d;b++)c=a.siblings[b],f=c.type.ca(),f.la=!1,T(f.e),f.e[0]=c}};m.prototype.ns=function(f){this.b.W&&this.b.W.scale!==
f&&(this.b.W.scale=f,this.b.W.Ln(),this.b.da=!0)};m.prototype.js=function(f,a){this.b.W.Bm(f);this.b.W.Cm(a)};m.prototype.ss=function(f,a){0===f.ek?ja(a)?f.Bf(a):f.Bf(parseFloat(a)):1===f.ek&&f.Bf(a.toString())};m.prototype.Lq=function(f,a){0===f.ek?ja(a)?f.Bf(f.Mg()+a):f.Bf(f.Mg()+parseFloat(a)):1===f.ek&&f.Bf(f.Mg()+a.toString())};var q=[],u=[];m.prototype.As=function(f){if(!(0>f)){var a,b,d,c=this.b.ya(),e;q.length?e=q.pop():e={Db:{},Y:[]};e.Rk=!1;e.time=this.b.$b.ja+f;e.fq="";e.Fm=!1;e.Of=c.Ea;
e.Ub=c.Ub+1;f=0;for(a=this.b.p.length;f<a;f++)d=this.b.p[f],b=d.ca(),b.la&&-1===c.Ea.Y.indexOf(d)||(e.Y.push(d),d=void 0,u.length?d=u.pop():d={Nd:[]},d.Fj=!1,d.Fj=b.la,Ea(d.Nd,b.e),e.Db[f.toString()]=d);this.Tb.push(e);return!0}};m.prototype.ws=function(){0>this.b.dg||(this.b.gl().og=!0)};r.G=new m;k.prototype["int"]=function(f,a){G(a)?(f.K(parseInt(a,10)),isNaN(f.data)&&(f.data=0)):f.K(a)};k.prototype["float"]=function(f,a){G(a)?(f.u(parseFloat(a)),isNaN(f.data)&&(f.data=0)):f.u(a)};k.prototype.random=
function(f,a,b){void 0===b?f.u(Math.random()*a):f.u(Math.random()*(b-a)+a)};k.prototype.sqrt=function(f,a){f.u(Math.sqrt(a))};k.prototype.abs=function(f,a){f.u(Math.abs(a))};k.prototype.round=function(f,a){f.K(Math.round(a))};k.prototype.floor=function(f,a){f.K(Math.floor(a))};k.prototype.ceil=function(f,a){f.K(Math.ceil(a))};k.prototype.sin=function(f,a){f.u(Math.sin(V(a)))};k.prototype.cos=function(f,a){f.u(Math.cos(V(a)))};k.prototype.tan=function(f,a){f.u(Math.tan(V(a)))};k.prototype.asin=function(f,
a){f.u(Ja(Math.asin(a)))};k.prototype.acos=function(f,a){f.u(Ja(Math.acos(a)))};k.prototype.atan=function(f,a){f.u(Ja(Math.atan(a)))};k.prototype.exp=function(f,a){f.u(Math.exp(a))};k.prototype.log10=function(f,a){f.u(Math.log(a)/Math.LN10)};k.prototype.max=function(f){var a=arguments[1];"number"!==typeof a&&(a=0);var b,d,c;b=2;for(d=arguments.length;b<d;b++)c=arguments[b],"number"===typeof c&&a<c&&(a=c);f.u(a)};k.prototype.min=function(f){var a=arguments[1];"number"!==typeof a&&(a=0);var b,d,c;b=
2;for(d=arguments.length;b<d;b++)c=arguments[b],"number"===typeof c&&a>c&&(a=c);f.u(a)};k.prototype.gf=function(f){f.u(this.b.gf)};k.prototype.Ph=function(f){f.u(this.b.Ph)};k.prototype.time=function(f){f.u(this.b.$b.ja)};k.prototype.yd=function(f){f.K(this.b.yd)};k.prototype.oj=function(f){f.K(this.b.oj)};k.prototype.Ji=function(f){f.K(this.b.Ji)};k.prototype.Hv=function(f,a){var b,d;if(this.b.ph.length)if(a){for(d=this.b.dg;0<=d;--d)if(b=this.b.ph[d],b.name===a){f.K(b.index);return}f.K(0)}else b=
this.b.gl(),f.K(b?b.index:-1);else f.K(0)};k.prototype.k=function(f,a,b,d,c){f.u(Ja(Oa(a,b,d,c)))};k.prototype.xw=function(f){f.u(this.b.W.scrollX)};k.prototype.yw=function(f){f.u(this.b.W.scrollY)};k.prototype.Ev=function(f,a,b,d){f.u(Ua(a,b,d))};k.prototype.$s=function(f,a,b,d){a<b?f.u(b):a>d?f.u(d):f.u(a)};k.prototype.left=function(f,a,b){f.Cb(G(a)?a.substr(0,b):"")};k.prototype.right=function(f,a,b){f.Cb(G(a)?a.substr(a.length-b):"")};k.prototype.replace=function(f,a,b,d){G(a)&&G(b)&&G(d)?f.Cb(a.replace(new RegExp(cb(b),
"gi"),d)):f.Cb(G(a)?a:"")};k.prototype.trim=function(f,a){f.Cb(G(a)?a.trim():"")};k.prototype.jw=function(f){f.Cb(this.b.q?"webgl":"canvas2d")};k.prototype.Zs=function(f){var a=Q(Math.random()*(arguments.length-1));f.Lj(arguments[a+1])};k.prototype.ow=function(f,a,b,d){f.K(wa(a,b,d))};k.prototype.Ps=function(f,a,b,d){a=V(a);b=V(b);var c=Pa(a,b);Ra(b,a)?f.u(Ma(a+c*d)):f.u(Ma(a-c*d))};k.prototype.Lk=function(f){f.u(this.b.Lk/1E3)};k.prototype.gj=function(f){f.u(this.b.gj)};r.n=new k;r.pw=function(){var f,
a,b,d,c,e,g=this.b.ya();f=0;for(b=this.Tb.length;f<b;f++){d=this.Tb[f];if(-1===d.time){if(!d.Fm)continue}else if(d.time>this.b.$b.ja)continue;g.Ea=d.Of;g.Ub=d.Ub;g.Ga=0;for(a in d.Db)d.Db.hasOwnProperty(a)&&(c=this.b.p[parseInt(a,10)].ca(),e=d.Db[a],c.la=e.Fj,Ea(c.e,e.Nd),c=e,T(c.Nd),u.push(c));d.Of.mw();this.b.Ik(d.Y);d.Rk=!0}a=f=0;for(b=this.Tb.length;f<b;f++)d=this.Tb[f],this.Tb[a]=d,d.Rk?(Wa(d.Db),T(d.Y),q.push(d)):a++;Da(this.Tb,a)}})();
(function(){ob=function(g,k){var r=g[1],q=g[3],u=g[4],f=g[5],a=g[6],b=g[7],d=g[8];k.g||(k.g={});k.G||(k.G={});k.n||(k.n={});var c=k.g,e=k.G,v=k.n;q&&(c.fr=function(a,b){return dc(this.x,a,b)},c.Sw=function(a,b){return dc(this.y,a,b)},c.Xw=function(){var a=this.i;this.Q();var b=this.U;return!(b.right<a.aa||b.bottom<a.ba||b.left>a.fa||b.top>a.ea)},c.Yw=function(){this.Q();var a=this.U,b=this.b.W;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.kx=function(a,b,c){var e=this.ca(),d=e.ic();
if(!d.length)return!1;var h=d[0],f=h,g=Sa(h.x,h.y,b,c),k,m,u;k=1;for(m=d.length;k<m;k++)if(h=d[k],u=Sa(h.x,h.y,b,c),0===a&&u<g||1===a&&u>g)g=u,f=h;e.Ah(f);return!0},e.us=function(a){this.x!==a&&(this.x=a,this.oa())},e.Bx=function(a){this.y!==a&&(this.y=a,this.oa())},e.un=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.oa()},e.yx=function(a,b){var c=a.Iu(this);if(c){var e;c.kl?(e=c.kl(b,!0),c=c.kl(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.oa()}},e.cx=function(a){0!==
a&&(this.x+=Math.cos(this.k)*a,this.y+=Math.sin(this.k)*a,this.oa())},e.bx=function(a,b){0!==b&&(this.x+=Math.cos(V(a))*b,this.y+=Math.sin(V(a))*b,this.oa())},v.rk=function(a){a.u(this.x)},v.sk=function(a){a.u(this.y)},v.gf=function(a){a.u(this.b.hl(this))});u&&(c.Rw=function(a,b){return dc(this.width,a,b)},c.cr=function(a,b){return dc(this.height,a,b)},e.ts=function(a){this.width!==a&&(this.width=a,this.oa())},e.ls=function(a){this.height!==a&&(this.height=a,this.oa())},e.vn=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.oa()},v.xn=function(a){a.u(this.width)},v.mk=function(a){a.u(this.height)},v.Sq=function(a){this.Q();a.u(this.U.left)},v.Uq=function(a){this.Q();a.u(this.U.top)},v.Tq=function(a){this.Q();a.u(this.U.right)},v.Rq=function(a){this.Q();a.u(this.U.bottom)});f&&(c.Oq=function(a,b){return Pa(this.k,V(b))<=V(a)},c.Dr=function(a){return Ra(this.k,V(a))},c.Cr=function(a,b){var c=Na(a),e=Na(b),d=La(this.k);return Ra(e,c)?Ra(d,c)&&!Ra(d,e):!(!Ra(d,c)&&Ra(d,
e))},e.ks=function(a){a=V(Ka(a));isNaN(a)||this.k===a||(this.k=a,this.oa())},e.ox=function(a){0===a||isNaN(a)||(this.k+=V(a),this.k=La(this.k),this.oa())},e.qx=function(a){0===a||isNaN(a)||(this.k-=V(a),this.k=La(this.k),this.oa())},e.rx=function(a,b){var c=Qa(this.k,V(b),V(a));isNaN(c)||this.k===c||(this.k=c,this.oa())},e.tx=function(a,b,c){a=Qa(this.k,Math.atan2(c-this.y,b-this.x),V(a));isNaN(a)||this.k===a||(this.k=a,this.oa())},e.zx=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||
this.k===c||(this.k=c,this.oa())},v.Mq=function(a){a.u(Ma(this.k))});r||(c.dr=function(a,b,c){return dc(this.Pa[a],b,c)},c.Vw=function(a){return this.Pa[a]},c.lx=function(a,b){var c=this.ca(),e=c.ic();if(!e.length)return!1;var d=e[0],h=d,f=d.Pa[b],g,k,m;g=1;for(k=e.length;g<k;g++)if(d=e[g],m=d.Pa[b],0===a&&m<f||1===a&&m>f)f=m,h=d;c.Ah(h);return!0},c.jx=function(a){var b,c,e,d,h;if(this.b.Mi().Si){h=this.ca();if(h.la)for(h.la=!1,T(h.e),T(h.V),e=this.e,b=0,c=e.length;b<c;b++)d=e[b],d.uid===a?h.V.push(d):
h.e.push(d);else{e=b=0;for(c=h.e.length;b<c;b++)d=h.e[b],h.e[e]=d,d.uid===a?h.V.push(d):e++;Da(h.e,e)}this.Kc();return!!h.e.length}d=this.b.po(a);if(!d)return!1;h=this.ca();if(!h.la&&-1===h.e.indexOf(d))return!1;if(this.C)for(a=d.type.ta,b=0,c=a.length;b<c;b++){if(a[b]===this)return h.Ah(d),this.Kc(),!0}else if(d.type===this)return h.Ah(d),this.Kc(),!0;return!1},c.ai=function(){return!0},c.Qr=function(){return!0},e.ms=function(a,b){var c=this.Pa;ja(c[a])?c[a]=ja(b)?b:parseFloat(b):G(c[a])&&(c[a]=
G(b)?b:b.toString())},e.Pw=function(a,b){var c=this.Pa;ja(c[a])?c[a]=ja(b)?c[a]+b:c[a]+parseFloat(b):G(c[a])&&(c[a]=G(b)?c[a]+b:c[a]+b.toString())},e.Cx=function(a,b){var c=this.Pa;ja(c[a])&&(c[a]=ja(b)?c[a]-b:c[a]-parseFloat(b))},e.ux=function(a,b){this.Pa[a]=b?1:0},e.Dx=function(a){this.Pa[a]=1-this.Pa[a]},e.kk=function(){this.b.Ff(this)},e.Jr||(e.Jr=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.dj(this,b,!0);this.ie&&this.ie();if(this.N)for(a=0,b=this.N.length;a<b;++a)c=this.N[a],
c.ie&&c.ie()}),v.Tw=function(a){var b=a.yf.e.length,c,e,d;c=0;for(e=this.b.Pc.length;c<e;c++)d=this.b.Pc[c],a.yf.C?0<=d.type.ta.indexOf(a.yf)&&b++:d.type===a.yf&&b++;a.K(b)},v.nx=function(a){a.K(a.yf.ca().ic().length)},v.Ex=function(a){a.K(this.uid)},v.Uw=function(a){a.K(this.Ng())},v.en||(v.en=function(a){a.Cb(JSON.stringify(this.b.zm(this,!0)))}));a&&(c.Zw=function(){return this.visible},e.Ax=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.da=!0)},c.Qw=function(a,b){return dc(kb(100*this.opacity),
a,b)},e.xx=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.da=!0)},v.Opacity=function(a){a.u(kb(100*this.opacity))});b&&(c.Ww=function(a){return a?this.i===a:!1},c.mx=function(a){var b=this.ca(),c=b.ic();if(!c.length)return!1;var e=c[0],d=e,h,f;h=1;for(f=c.length;h<f;h++)if(e=c[h],0===a){if(e.i.index>d.i.index||e.i.index===d.i.index&&e.qd()>d.qd())d=e}else if(e.i.index<d.i.index||e.i.index===d.i.index&&e.qd()<d.qd())d=e;b.Ah(d);return!0},e.Kr=function(){var a=this.i,
b=a.e;b.length&&b[b.length-1]===this||(a.jg(this,!1),a.wg(this,!1),this.b.da=!0)},e.dx=function(){var a=this.i,b=a.e;b.length&&b[0]===this||(a.jg(this,!1),a.dw(this),this.b.da=!0)},e.gx=function(a){a&&a!=this.i&&(this.i.jg(this,!0),this.i=a,a.wg(this,!0),this.b.da=!0)},e.Ds=function(a,b){var c=0===a;if(b){var e=b.Cu(this);e&&e.uid!==this.uid&&(this.i.index!==e.i.index&&(this.i.jg(this,!0),this.i=e.i,e.i.wg(this,!0)),this.i.Mv(this,e,c),this.b.da=!0)}},v.ax=function(a){a.K(this.i.wp)},v.$w=function(a){a.Cb(this.i.name)},
v.Fx=function(a){a.K(this.qd())});d&&(e.vx=function(a,b){if(this.b.j){var c=this.type.jl(b);if(!(0>c)){var e=1===a;this.ge[c]!==e&&(this.ge[c]=e,this.ed(),this.b.da=!0)}}},e.wx=function(a,b,c){if(this.b.j){var e=this.type.jl(a);0>e||(a=this.type.M[e],e=this.xa[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.j.Mu(a.Ka,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.ec&&(this.b.da=!0))))}})};Jb=function(){this.Ek=this.vk=!0;this.type.ci=!0;this.b.da=!0;var g,k,r=this.wk;g=0;for(k=r.length;g<k;++g)r[g](this);this.i.pc&&
this.Q()};Kb=function(g){g&&this.wk.push(g)};Mb=function(){if(this.vk){var g=this.U,k=this.Ma;g.set(this.x,this.y,this.x+this.width,this.y+this.height);g.offset(-this.Kb*this.width,-this.Lb*this.height);this.k?(g.offset(-this.x,-this.y),k.aq(g,this.k),k.offset(this.x,this.y),k.Mn(g)):k.Se(g);g.normalize();this.vk=!1;this.Gw()}};var g=new S(0,0,0,0);Nb=function(){if(this.i.pc){var m=this.i.ib,k=this.U;g.set(m.Gb(k.left),m.Hb(k.top),m.Gb(k.right),m.Hb(k.bottom));this.Qb.Dg(g)||(this.Qb.right<this.Qb.left?
m.update(this,null,g):m.update(this,this.Qb,g),this.Qb.df(g),this.i.ad=!0)}};Ob=function(){if(this.Ek&&this.Ed){this.Q();var m=this.type.ni,k=this.U;g.set(m.Gb(k.left),m.Hb(k.top),m.Gb(k.right),m.Hb(k.bottom));this.me.Dg(g)||(this.me.right<this.me.left?m.update(this,null,g):m.update(this,this.me,g),this.me.df(g),this.Ek=!1)}};Lb=function(g,k){return this.U.Da(g,k)&&this.Ma.Da(g,k)?this.zd?this.Ew(g,k):this.F&&!this.F.sd()?(this.F.Oc(this.width,this.height,this.k),this.F.Da(g-this.x,k-this.y)):!0:
!1};Fb=function(){this.type.bk();return this.of};Pb=function(){this.i.Xm();return this.jd};Qb=function(){T(this.ia);var g,k,r,q=!0;g=0;for(k=this.ge.length;g<k;g++)this.ge[g]&&(r=this.type.M[g],this.ia.push(r),r.Yc||(q=!1));this.Gq=!!this.ia.length;this.$d=q};Gb=function(){return"Inst"+this.Op};rb=function(g){if(g&&g.Mb&&g.type!=this){var k,r,q;k=0;for(r=g.siblings.length;k<r;k++)if(q=g.siblings[k],q.type==this)return q}g=this.ca().ic();return g.length?g[0]:null};sb=function(g){var k=this.ca().ic();
return k.length?k[g.Ng()%k.length]:null};qb=function(){if(this.ng&&!this.C){var g,k;g=0;for(k=this.e.length;g<k;g++)this.e[g].of=g;var r=g,q=this.b.Pc;g=0;for(k=q.length;g<k;++g)q[g].type===this&&(q[g].of=r++);this.ng=!1}};Db=function(g){if(g<this.e.length)return this.e[g];g-=this.e.length;var k=this.b.Pc,r,q;r=0;for(q=k.length;r<q;++r)if(k[r].type===this){if(0===g)return k[r];--g}return null};tb=function(){return this.be[this.nd]};ub=function(){this.nd++;this.nd===this.be.length?this.be.push(new pb(this)):
(this.be[this.nd].la=!0,T(this.be[this.nd].V))};vb=function(){this.nd++;this.nd===this.be.length&&this.be.push(new pb(this));var g=this.be[this.nd],k=this.be[this.nd-1];k.la?g.la=!0:(g.la=!1,Ea(g.e,k.e));T(g.V)};yb=function(){this.nd--};zb=function(g){var k,r,q,u,f,a=0;if(!this.C)for(k=0,r=this.ta.length;k<r;k++)for(f=this.ta[k],q=0,u=f.wa.length;q<u;q++){if(g===f.wa[q].name)return this.A.lastBehIndex=a,f.wa[q];a++}k=0;for(r=this.wa.length;k<r;k++){if(g===this.wa[k].name)return this.A.lastBehIndex=
a,this.wa[k];a++}return null};Ab=function(g){return this.Li(g)?this.A.lastBehIndex:-1};Bb=function(g){var k,r;k=0;for(r=this.M.length;k<r;k++)if(this.M[k].name===g)return k;return-1};Cb=function(){if(this.Mb&&!this.C){var g,k,r,q,u,f,a;this.bk();f=this.ca();var b=f.la,d=(g=this.b.ya())&&g.Ea&&g.Ea.mc;g=0;for(k=this.Wb.length;g<k;g++)if(u=this.Wb[g],u!==this&&(u.bk(),a=u.ca(),a.la=b,!b)){T(a.e);r=0;for(q=f.e.length;r<q;++r)a.e[r]=u.ll(f.e[r].of);if(d)for(T(a.V),r=0,q=f.V.length;r<q;++r)a.V[r]=u.ll(f.V[r].of)}}};
Eb=function(){return"Type"+this.X};dc=function(g,k,r){if("undefined"===typeof g||"undefined"===typeof r)return!1;switch(k){case 0:return g===r;case 1:return g!==r;case 2:return g<r;case 3:return g<=r;case 4:return g>r;case 5:return g>=r;default:return!1}}})();var lc={};function rc(g){this.b=g}
(function(){function g(){return a.length?a.pop():[]}function m(b){var d,c;d=0;for(c=b.length;d<c;d++)Array.isArray(b[d])&&m(b[d]);T(b);a.push(b)}function k(){}function r(){}function q(){}var u=rc.prototype;u.ga=function(a){this.ma=a;this.b=a.b};u.ga.prototype.J=function(){};u.R=function(a){this.type=a;this.b=a.b};var f=u.R.prototype,a=[];Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});f.J=function(){this.Ib=this.B[0];this.gc=this.B[1];this.Qc=
this.B[2];this.Pb||(this.Dd=g());var a=this.Dd;a.length=this.Ib;var d,c,e;for(d=0;d<this.Ib;d++)for(a[d]||(a[d]=g()),a[d].length=this.gc,c=0;c<this.gc;c++)for(a[d][c]||(a[d][c]=g()),a[d][c].length=this.Qc,e=0;e<this.Qc;e++)a[d][c][e]=0;this.Xb=[];this.pd=[];this.mf=[];this.sc=-1};f.xc=function(){var a;for(a=0;a<this.Ib;a++)m(this.Dd[a]);T(this.Dd)};f.La=function(a,d,c){a=Math.floor(a);d=Math.floor(d);c=Math.floor(c);return isNaN(a)||0>a||a>this.Ib-1||isNaN(d)||0>d||d>this.gc-1||isNaN(c)||0>c||c>this.Qc-
1?0:this.Dd[a][d][c]};f.set=function(a,d,c,e){a=Math.floor(a);d=Math.floor(d);c=Math.floor(c);isNaN(a)||0>a||a>this.Ib-1||isNaN(d)||0>d||d>this.gc-1||isNaN(c)||0>c||c>this.Qc-1||(this.Dd[a][d][c]=e)};f.Au=function(){return JSON.stringify({c2array:!0,size:[this.Ib,this.gc,this.Qc],data:this.Dd})};f.bb=function(){return{size:[this.Ib,this.gc,this.Qc],data:this.Dd}};f.rb=function(a){var d=a.size;this.Ib=d[0];this.gc=d[1];this.Qc=d[2];this.Dd=a.data};f.Zd=function(a,d,c){0>a&&(a=0);0>d&&(d=0);0>c&&(c=
0);if(this.Ib!==a||this.gc!==d||this.Qc!==c){this.Ib=a;this.gc=d;this.Qc=c;var e,f,k=this.Dd;k.length=a;for(a=0;a<this.Ib;a++)for(ia(k[a])&&(k[a]=g()),k[a].length=d,e=0;e<this.gc;e++)for(ia(k[a][e])&&(k[a][e]=g()),k[a][e].length=c,f=0;f<this.Qc;f++)ia(k[a][e][f])&&(k[a][e][f]=0)}};f.lo=function(){return 0<=this.sc&&this.sc<this.Xb.length?this.Xb[this.sc]:0};f.mo=function(){return 0<=this.sc&&this.sc<this.pd.length?this.pd[this.sc]:0};f.Du=function(){return 0<=this.sc&&this.sc<this.mf.length?this.mf[this.sc]:
0};k.prototype.fr=function(a,d,c){return dc(this.La(a,0,0),d,c)};f.Tk=function(a){this.b.Me(a.Y);a.Af();this.b.Xc(a.Y)};k.prototype.Pq=function(a){var d=this.b.ya().Ea;this.sc++;var c=this.sc;c===this.Xb.length?(this.Xb.push(0),this.pd.push(0),this.mf.push(0)):(this.Xb[c]=0,this.pd[c]=0,this.mf[c]=0);switch(a){case 0:for(this.Xb[c]=0;this.Xb[c]<this.Ib;this.Xb[c]++)for(this.pd[c]=0;this.pd[c]<this.gc;this.pd[c]++)for(this.mf[c]=0;this.mf[c]<this.Qc;this.mf[c]++)this.Tk(d);break;case 1:for(this.Xb[c]=
0;this.Xb[c]<this.Ib;this.Xb[c]++)for(this.pd[c]=0;this.pd[c]<this.gc;this.pd[c]++)this.Tk(d);break;case 2:for(this.Xb[c]=0;this.Xb[c]<this.Ib;this.Xb[c]++)this.Tk(d)}this.sc--;return!1};k.prototype.br=function(a,d){return dc(this.La(this.lo(),this.mo(),this.Du()),a,d)};u.g=new k;r.prototype.vn=function(a,d,c){this.Zd(a,d,c)};r.prototype.us=function(a,d){this.set(a,0,0,d)};r.prototype.vs=function(a,d,c){this.set(a,d,0,c)};u.G=new r;q.prototype.Qq=function(a,d,c,e){a.Lj(this.La(d,c||0,e||0))};q.prototype.xn=
function(a){a.K(this.Ib)};q.prototype.mk=function(a){a.K(this.gc)};q.prototype.or=function(a){a.K(this.lo())};q.prototype.pr=function(a){a.K(this.mo())};q.prototype.en=function(a){a.Cb(this.Au())};u.n=new q})();function Y(g){this.b=g}
(function(){function g(){f&&a&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(a){b.Sv(a)})}function m(){}function k(){}function r(a){console&&console.warn&&console.warn("Fullscreen request failed: ",a);c.setSize(window.innerWidth,window.innerHeight)}var q=Y.prototype;q.ga=function(a){this.ma=a;this.b=a.b};var u=q.ga.prototype;u.J=function(){};var f=!1,a=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var a=
document.createElement("script");a.onload=function(){f=!0;g()};a.src="offlineClient.js";document.head.appendChild(a)}});var b=null;u.Ap=function(){a=!0;g()};q.R=function(a){this.type=a;this.b=a.b};u=q.R.prototype;u.J=function(){var a=this;window.addEventListener("resize",function(){a.b.trigger(Y.prototype.g.bs,a)});b=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.b.trigger(Y.prototype.g.Zr,a)}),window.addEventListener("offline",function(){a.b.trigger(Y.prototype.g.Xr,
a)}));this.b.Od||(document.addEventListener("appMobi.device.update.available",function(){a.b.trigger(Y.prototype.g.qk,a)}),document.addEventListener("backbutton",function(){a.b.trigger(Y.prototype.g.$h,a)}),document.addEventListener("menubutton",function(){a.b.trigger(Y.prototype.g.nn,a)}),document.addEventListener("searchbutton",function(){a.b.trigger(Y.prototype.g.cs,a)}),document.addEventListener("tizenhwkey",function(b){var c;switch(b.keyName){case "back":c=a.b.trigger(Y.prototype.g.$h,a);!c&&
window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=a.b.trigger(Y.prototype.g.nn,a))||b.preventDefault()}}));this.b.Jl&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(b){a.b.trigger(Y.prototype.g.$h,a)&&(b.handled=!0)}):this.b.Jo&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.b.trigger(Y.prototype.g.$h,a)});this.b.Ks(function(b){b?a.b.trigger(Y.prototype.g.$r,
a):a.b.trigger(Y.prototype.g.as,a)})};u.Sv=function(a){a=a.data.type;"downloading-update"===a?this.b.trigger(Y.prototype.g.gs,this):"update-ready"===a||"update-pending"===a?this.b.trigger(Y.prototype.g.qk,this):"offline-ready"===a&&this.b.trigger(Y.prototype.g.Yr,this)};m.prototype.Zr=function(){return!0};m.prototype.Xr=function(){return!0};m.prototype.qk=function(){return!0};m.prototype.as=function(){return!0};m.prototype.$r=function(){return!0};m.prototype.bs=function(){return!0};m.prototype.Er=
function(){return!!(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.b.Rd)};m.prototype.$h=function(){return!0};m.prototype.nn=function(){return!0};m.prototype.cs=function(){return!0};m.prototype.xs=function(){if(this.b.Gl)return!0;var a=this.b.Bk||this.b.canvas;return!!(a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullScreen)};m.prototype.gs=function(){return!0};m.prototype.qk=function(){return!0};m.prototype.Yr=function(){return!0};
q.g=new m;var d=!0,c=null;k.prototype.hs=function(a){this.b.Qa?A("[Construct 2] Requesting fullscreen is not supported on this platform - the request has been ignored"):(2<=a&&(a+=1),6===a&&(a=2),this.b.Gl?this.b.Eo?debuggerFullscreen(!0):!this.b.Rd&&window.nwgui&&(window.nwgui.Window.get().enterFullscreen(),this.b.Rd=!0,this.b.ue=2<=a?a:0):document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreen||document.fullScreenElement||(this.b.ue=2<=a?a:0,a=document.documentElement,
d&&(d=!1,c=this.b,a.addEventListener("mozfullscreenerror",r),a.addEventListener("webkitfullscreenerror",r),a.addEventListener("MSFullscreenError",r),a.addEventListener("fullscreenerror",r)),a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.webkitRequestFullScreen&&("undefined"!==typeof Element&&"undefined"!==typeof Element.ALLOW_KEYBOARD_INPUT?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.webkitRequestFullScreen())))};
k.prototype.Xq=function(){this.b.Qa?A("[Construct 2] Exiting fullscreen is not supported on this platform - the request has been ignored"):this.b.Gl?this.b.Eo?debuggerFullscreen(!1):this.b.Rd&&window.nwgui&&(window.nwgui.Window.get().leaveFullscreen(),this.b.Rd=!1):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()};q.G=
new k;q.n=new function(){}})();function qc(g){this.b=g}
(function(){function g(){this.name="";this.Bj=0;this.yh=[]}function m(){f++;f===u.length&&u.push(new g);return u[f]}function k(){}function r(){}var q=qc.prototype;q.ga=function(a){this.ma=a;this.b=a.b};q.ga.prototype.J=function(){};q.R=function(a){this.type=a;this.b=a.b};var u=[],f=-1;q.R.prototype.J=function(){var a=this;window.c2_callFunction=function(b,d){var c,e,g,k=m();k.name=b.toLowerCase();k.Bj=0;if(d)for(k.yh.length=d.length,c=0,e=d.length;c<e;++c)g=d[c],k.yh[c]="number"===typeof g||"string"===
typeof g?g:"boolean"===typeof g?g?1:0:0;else T(k.yh);a.b.trigger(qc.prototype.g.kn,a,k.name);f--;return k.Bj}};k.prototype.kn=function(a){var b=0>f?null:u[f];return b?lb(a,b.name):!1};q.g=new k;q.G=new function(){};r.prototype.Wq=function(a,b){var d=m();d.name=b.toLowerCase();d.Bj=0;T(d.yh);var c,e;c=2;for(e=arguments.length;c<e;c++)d.yh.push(arguments[c]);this.b.trigger(qc.prototype.g.kn,this,d.name);f--;a.Lj(d.Bj)};q.n=new r})();function sc(g){this.b=g}
(function(){function g(){}function m(){}function k(){}var r=sc.prototype;r.ga=function(g){this.ma=g;this.b=g.b};r.ga.prototype.J=function(){};r.R=function(g){this.type=g;this.b=g.b};var q=r.R.prototype;q.J=function(){this.Pb||(this.Uk=new window.DungeonGen);this.Oe=this.map=null;this.Bi=this.Ci=0;this.te=null;this.Yk=-1;this.vi=null};q.xc=function(){this.jk()};q.wn=function(g,f,a,b,d){this.Uk.Stop();var c=this;this.vi=[g,f,a,b,d];this.Uk.Start(g,f,a,b,d,function(b){c.Ci=f;c.Bi=a;b=b[0];c.map=b[0];
c.Oe=b[1];c.vi=null;c.b.trigger(sc.prototype.g.jn,c)})};q.jk=function(){this.vi=null;this.Uk.Stop()};q.Jf=function(g,f){var a;this.map&&this.map[g]&&(a=this.map[g][f]);null==a&&(a=-1);return a};q.zv=function(g,f){return 0<=g&&g<this.Ci&&0<=f&&f<this.Bi};q.nk=function(g,f){if(!this.zv(g,f))return-1;var a,b=this.Oe.length,d;for(a=0;a<b;a++)if(d=this.Oe[a],g>=d[0]&&g<=d[2]&&f>=d[1]&&f<=d[3])return a;return-1};q.Qx=function(g,f){return-1===this.Jf(g,f)};q.Io=function(g,f){return 1===this.Jf(g,f)};q.rd=
function(g,f){return 0===this.Jf(g,f)};q.uv=function(g,f){if(this.Io(g,f)){var a=this.rd(g,f-1);a||(a=this.rd(g+1,f));a||(a=this.rd(g,f+1));a||(a=this.rd(g-1,f));a||(a=this.rd(g+1,f-1));a||(a=this.rd(g+1,f+1));a||(a=this.rd(g-1,f+1));a||(a=this.rd(g-1,f-1));return a}return!1};q.Px=function(g,f){return this.Io(g,f)&&!this.uv(g,f)};q.Uf=function(g,f){return-1!==this.nk(g,f)};q.ze=function(g,f){return this.rd(g,f)&&!this.Uf(g,f)?!0:!1};q.Ox=function(g,f){if(this.rd(g,f)&&!this.Uf(g,f)){var a=this.Uf(g,
f-1);a||(a=this.Uf(g+1,f));a||(a=this.Uf(g,f+1));a||(a=this.Uf(g-1,f));return a}return!1};q.Kt=function(g,f){var a=0;this.ze(g,f-1)&&(a+=1);this.ze(g+1,f)&&(a+=1);this.ze(g,f+1)&&(a+=1);this.ze(g-1,f)&&(a+=1);return a};q.Ye=function(g,f){var a=0;this.ze(g+1,f)&&(a|=1);this.ze(g,f+1)&&(a|=2);this.ze(g-1,f)&&(a|=4);this.ze(g,f-1)&&(a|=8);return a};q.Qu=function(g){return null===g?-1:g[0]};q.Mx=function(g){return null===g?-1:g[2]};q.Ru=function(g){return null===g?-1:g[1]};q.yu=function(g){return null===
g?-1:g[3]};q.Nu=function(g){return null===g?-1:Math.floor((g[0]+g[2])/2)};q.Ou=function(g){return null===g?-1:Math.floor((g[1]+g[3])/2)};q.Su=function(g){return null===g?-1:g[2]-g[0]+1};q.Pu=function(g){return null===g?-1:g[3]-g[1]+1};q.bb=function(){return{map:this.map,rooms:this.Oe,w:this.Ci,h:this.Bi,curTsk:this.vi}};q.rb=function(g){this.map=g.map;this.Oe=g.rooms;this.Ci=g.w;this.Bi=g.h;g=g.curTsk;null!==g&&this.wn.apply(this,g)};r.g=new g;g.prototype.jn=function(){return!0};g.prototype.ur=function(){if(null==
this.Oe)return!1;var g=this.b,f=g.ya(),a=f.Ea,f=f.Fo(),b,d=this.Oe.length;for(b=0;b<d;b++)f&&g.Me(a.Y),this.te=this.Oe[b],this.Yk=b,a.Af(),f&&g.Xc(a.Y);this.te=null;this.Yk=-1;return!1};r.G=new m;m.prototype.xr=function(g,f,a,b,d,c,e,k,l,m,r){this.wn("Digger",g,f,a,{roomWidth:[b,d],roomHeight:[c,e],corridorLength:[k,l],dugPercentage:m,timeLimit:1E3*r})};m.prototype.jk=function(){this.jk()};r.n=new k;k.prototype.Jf=function(g,f,a){g.Lj(this.Jf(f,a))};k.prototype.lr=function(g){g.K(this.Qu(this.te))};
k.prototype.mr=function(g){g.K(this.Ru(this.te))};k.prototype.hr=function(g){g.K(this.Nu(this.te))};k.prototype.ir=function(g){g.K(this.Ou(this.te))};k.prototype.nr=function(g){g.K(this.Su(this.te))};k.prototype.jr=function(g){g.K(this.Pu(this.te))};k.prototype.kr=function(g){g.K(this.Yk)};k.prototype.nk=function(g,f,a){g.K(this.nk(f,a))}})();function pc(g){this.b=g}
(function(){function g(){if(0===this.Pk.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.mg?b.drawImage(this.L,this.fg,this.gg,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.L,0,0,this.width,this.height);this.Pk=a.toDataURL("image/png")}return this.Pk}function m(){}function k(a){a[0]=0;a[1]=0;a[2]=0;e.push(a)}function r(a,b){return a<b?""+a+","+b:""+b+","+a}function q(a,b,c,d){b=b.uid;c=c.uid;var h=r(b,c);if(a.hasOwnProperty(h))a[h][2]=
d;else{var f=e.length?e.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=d;a[h]=f}}function u(a,b,c){b=r(b.uid,c.uid);a.hasOwnProperty(b)&&(k(a[b]),delete a[b])}function f(a,b,c){b=r(b.uid,c.uid);if(a.hasOwnProperty(b))return v=a[b][2],!0;v=-2;return!1}var a=pc.prototype;a.ga=function(a){this.ma=a;this.b=a.b};var b=a.ga.prototype;b.J=function(){if(!this.C){var a,b,c,d,e,h,f,n,k;this.Jc=[];this.Qg=!1;a=0;for(b=this.Vb.length;a<b;a++){e=this.Vb[a];f={};f.name=e[0];f.speed=e[1];f.loop=e[2];f.vm=e[3];f.wm=e[4];f.Ip=
e[5];f.X=e[6];f.frames=[];c=0;for(d=e[7].length;c<d;c++)h=e[7][c],n={},n.Sj=h[0],n.Tj=h[1],n.fg=h[2],n.gg=h[3],n.width=h[4],n.height=h[5],n.duration=h[6],n.Kb=h[7],n.Lb=h[8],n.ul=h[9],n.uj=h[10],n.Jp=h[11],n.mg=0!==n.width,n.Pk="",n.Jx=g,k={left:0,top:0,right:1,bottom:1},n.Em=k,n.P=null,(k=this.b.vu(h[0]))?n.L=k:(n.L=new Image,n.L.ct=h[0],n.L.pi=h[1],n.L.Ts=null,this.b.gk(n.L,h[0])),f.frames.push(n),this.Jc.push(n);this.Vb[a]=f}}};b.Eq=function(){var a,b,c;a=0;for(b=this.e.length;a<b;a++)c=this.e[a],
c.ri=c.cb.P};b.hg=function(){if(!this.C){var a,b,c;a=0;for(b=this.Jc.length;a<b;++a)c=this.Jc[a],c.L.Ts=null,c.P=null;this.Qg=!1;this.Eq()}};b.xh=function(){if(!this.C&&this.e.length){var a,b,c;a=0;for(b=this.Jc.length;a<b;++a)c=this.Jc[a],c.P=this.b.j.ej(c.L,!1,this.b.qa,c.Jp);this.Eq()}};b.fj=function(){if(!this.C&&!this.Qg&&this.b.j){var a,b,c;a=0;for(b=this.Jc.length;a<b;++a)c=this.Jc[a],c.P=this.b.j.ej(c.L,!1,this.b.qa,c.Jp);this.Qg=!0}};b.ak=function(){if(!this.C&&!this.e.length&&this.Qg){var a,
b,c;a=0;for(b=this.Jc.length;a<b;++a)c=this.Jc[a],this.b.j.deleteTexture(c.P),c.P=null;this.Qg=!1}};var d=[];b.wj=function(a){var b,c,e;T(d);b=0;for(c=this.Jc.length;b<c;++b)e=this.Jc[b].L,-1===d.indexOf(e)&&(a.drawImage(e,0,0),d.push(e))};a.R=function(a){this.type=a;this.b=a.b;a=this.type.Vb[0].frames[0].uj;this.Pb?this.F.Gh(a):this.F=new db(a)};var c=a.R.prototype;c.J=function(){this.visible=0===this.B[0];this.Ed=0!==this.B[3];this.ra=this.io(this.B[1])||this.type.Vb[0];this.D=this.B[2];0>this.D&&
(this.D=0);this.D>=this.ra.frames.length&&(this.D=this.ra.frames.length-1);var a=this.ra.frames[this.D];this.F.Gh(a.uj);this.Kb=a.Kb;this.Lb=a.Lb;this.Lf=this.ra.speed;this.oe=this.ra.wm;1===this.type.Vb.length&&1===this.type.Vb[0].frames.length||0===this.Lf||this.b.qq(this);this.Pb?this.ld.reset():this.ld=new bb;this.Md=this.ld.ja;this.Xe=!0;this.Cd=0;this.We=!0;this.Gk=this.Fn="";this.Xs=0;this.Fk=-1;this.type.fj();var b,c,d,e,h,f,g,a=0;for(b=this.type.Vb.length;a<b;a++)for(e=this.type.Vb[a],c=
0,d=e.frames.length;c<d;c++)h=e.frames[c],0===h.width&&(h.width=h.L.width,h.height=h.L.height),h.mg&&(g=h.L,f=h.Em,f.left=h.fg/g.width,f.top=h.gg/g.height,f.right=(h.fg+h.width)/g.width,f.bottom=(h.gg+h.height)/g.height,0===h.fg&&0===h.gg&&h.width===g.width&&h.height===g.height&&(h.mg=!1));this.cb=this.ra.frames[this.D];this.ri=this.cb.P};c.bb=function(){var a={a:this.ra.X,f:this.D,cas:this.Lf,fs:this.Md,ar:this.Cd,at:this.ld.ja,rt:this.oe};this.Xe||(a.ap=this.Xe);this.We||(a.af=this.We);return a};
c.rb=function(a){var b=this.zu(a.a);b&&(this.ra=b);this.D=a.f;0>this.D&&(this.D=0);this.D>=this.ra.frames.length&&(this.D=this.ra.frames.length-1);this.Lf=a.cas;this.Md=a.fs;this.Cd=a.ar;this.ld.reset();this.ld.ja=a.at;this.Xe=a.hasOwnProperty("ap")?a.ap:!0;this.We=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.oe=a.rt:this.oe=this.ra.wm;this.cb=this.ra.frames[this.D];this.ri=this.cb.P;this.F.Gh(this.cb.uj);this.Kb=this.cb.Kb;this.Lb=this.cb.Lb};c.uk=function(a){this.D=a?0:this.ra.frames.length-
1;this.Xe=!1;this.Fn=this.ra.name;this.b.trigger(pc.prototype.g.Nr,this);this.b.trigger(pc.prototype.g.Mr,this);this.Cd=0};c.Ye=function(){return this.ld.ja};c.Fc=function(){this.ld.add(this.b.hl(this));this.Gk.length&&this.kt();0<=this.Fk&&this.lt();var a=this.ld.ja,b=this.ra,c=b.frames[this.D],d=c.duration/this.Lf;this.Xe&&a>=this.Md+d&&(this.We?this.D++:this.D--,this.Md+=d,this.D>=b.frames.length&&(b.Ip?(this.We=!1,this.D=b.frames.length-2):b.loop?this.D=this.oe:(this.Cd++,this.Cd>=b.vm?this.uk(!1):
this.D=this.oe)),0>this.D&&(b.Ip?(this.D=1,this.We=!0,b.loop||(this.Cd++,this.Cd>=b.vm&&this.uk(!0))):b.loop?this.D=this.oe:(this.Cd++,this.Cd>=b.vm?this.uk(!0):this.D=this.oe)),0>this.D?this.D=0:this.D>=b.frames.length&&(this.D=b.frames.length-1),a>this.Md+b.frames[this.D].duration/this.Lf&&(this.Md=a),a=b.frames[this.D],this.If(c,a),this.b.da=!0)};c.io=function(a){var b,c,d;b=0;for(c=this.type.Vb.length;b<c;b++)if(d=this.type.Vb[b],lb(d.name,a))return d;return null};c.zu=function(a){var b,c,d;b=
0;for(c=this.type.Vb.length;b<c;b++)if(d=this.type.Vb[b],d.X===a)return d;return null};c.kt=function(){var a=this.ra.frames[this.D],b=this.io(this.Gk);this.Gk="";!b||lb(b.name,this.ra.name)&&this.Xe||(this.ra=b,this.Lf=b.speed,this.oe=b.wm,0>this.D&&(this.D=0),this.D>=this.ra.frames.length&&(this.D=this.ra.frames.length-1),1===this.Xs&&(this.D=0),this.Xe=!0,this.Md=this.ld.ja,this.We=!0,this.If(a,this.ra.frames[this.D]),this.b.da=!0)};c.lt=function(){var a=this.ra.frames[this.D],b=this.D;this.D=Q(this.Fk);
0>this.D&&(this.D=0);this.D>=this.ra.frames.length&&(this.D=this.ra.frames.length-1);b!==this.D&&(this.If(a,this.ra.frames[this.D]),this.Md=this.ld.ja,this.b.da=!0);this.Fk=-1};c.If=function(a,b){var c=a.width,d=a.height,e=b.width,h=b.height;c!=e&&(this.width*=e/c);d!=h&&(this.height*=h/d);this.Kb=b.Kb;this.Lb=b.Lb;this.F.Gh(b.uj);this.oa();this.cb=b;this.ri=b.P;c=0;for(d=this.N.length;c<d;c++)e=this.N[c],e.Tv&&e.Tv(a,b);this.b.trigger(pc.prototype.g.If,this)};c.rc=function(a){a.globalAlpha=this.opacity;
var b=this.cb,c=b.mg,d=b.L,e=this.x,h=this.y,f=this.width,g=this.height;if(0===this.k&&0<=f&&0<=g)e-=this.Kb*f,h-=this.Lb*g,this.b.nc&&(e=Math.round(e),h=Math.round(h)),c?a.drawImage(d,b.fg,b.gg,b.width,b.height,e,h,f,g):a.drawImage(d,e,h,f,g);else{this.b.nc&&(e=Math.round(e),h=Math.round(h));a.save();var n=0<f?1:-1,k=0<g?1:-1;a.translate(e,h);1===n&&1===k||a.scale(n,k);a.rotate(this.k*n*k);e=0-this.Kb*ma(f);h=0-this.Lb*ma(g);c?a.drawImage(d,b.fg,b.gg,b.width,b.height,e,h,ma(f),ma(g)):a.drawImage(d,
e,h,ma(f),ma(g));a.restore()}};c.pe=function(a){this.qb(a)};c.qb=function(a){a.Ja(this.ri);a.Yd(this.opacity);var b=this.cb,c=this.Ma;if(this.b.nc){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.mg?a.$c(c.Va+d,c.Wa+e,c.xb+d,c.yb+e,c.nb+d,c.ob+e,c.lb+d,c.mb+e,b.Em):a.zf(c.Va+d,c.Wa+e,c.xb+d,c.yb+e,c.nb+d,c.ob+e,c.lb+d,c.mb+e)}else b.mg?a.$c(c.Va,c.Wa,c.xb,c.yb,c.nb,c.ob,c.lb,c.mb,b.Em):a.zf(c.Va,c.Wa,c.xb,c.yb,c.nb,c.ob,c.lb,c.mb)};c.Fu=function(a){var b=this.cb,c,d;c=0;for(d=b.ul.length;c<
d;c++)if(lb(a,b.ul[c][0]))return c;return-1};c.kl=function(a,b){var c=this.cb,d=c.ul,e;G(a)?e=this.Fu(a):e=a-1;e=Q(e);if(0>e||e>=d.length)return b?this.x:this.y;var h=(d[e][1]-c.Kb)*this.width,d=d[e][2],d=(d-c.Lb)*this.height,c=Math.cos(this.k);e=Math.sin(this.k);var f=h*c-d*e,d=d*c+h*e,h=f+this.x,d=d+this.y;return b?h:d};var e=[],v=-2,l=[];m.prototype.Pr=function(a){if(!a)return!1;var b=this.b,c=b.Mi(),d=c.type,e=null;c.A.collmemory?e=c.A.collmemory:(e={},c.A.collmemory=e);c.A.spriteCreatedDestroyCallback||
(c.A.spriteCreatedDestroyCallback=!0,b.Hs(function(a){var b=c.A.collmemory;a=a.uid;var d,e;for(d in b)b.hasOwnProperty(d)&&(e=b[d],e[0]===a||e[1]===a)&&(k(b[d]),delete b[d])}));var h=d.ca(),g=a.ca(),h=h.ic(),n,t,m,r,y,x,na,ra=this.b.yd,z=ra-1,B=b.ya().Ea;for(t=0;t<h.length;t++){m=h[t];g.la?(m.Q(),this.b.fl(m.i,a,m.U,l),n=l,this.b.Js(m,a,n)):n=g.ic();for(r=0;r<n.length;r++)y=n[r],b.jq(m,y)||b.Ys(m,y)?(x=f(e,m,y),x=!x||v<z,q(e,m,y,ra),x&&(b.Me(B.Y),x=d.ca(),na=a.ca(),x.la=!1,na.la=!1,d===a?(x.e.length=
2,x.e[0]=m,x.e[1]=y,d.Kc()):(x.e.length=1,na.e.length=1,x.e[0]=m,na.e[0]=y,d.Kc(),a.Kc()),B.Af(),b.Xc(B.Y))):u(e,m,y);T(l)}return!1};var y=null,x=new ea,n=!1,t=[],h=new S(0,0,0,0);b.finish=function(a){if(n){if(a){var b=this.b.ya().Ea.mc;a=y.ca();var c=x.fd(),d,e;if(a.la){a.la=!1;T(a.e);d=0;for(e=c.length;d<e;++d)a.e[d]=c[d];if(b)for(T(a.V),d=0,e=y.e.length;d<e;++d)c=y.e[d],x.contains(c)||a.V.push(c)}else if(b)for(b=a.e.length,d=0,e=c.length;d<e;++d)a.e[b+d]=c[d],Ha(a.V,c[d]);else Ea(a.e,c);y.Kc()}x.clear();
n=!1}};m.prototype.Hr=function(a){if(a){var b=!1,c,d,e,f=this.b.Mi(),g=f.type,f=f.Si;c=a.ca();d=this.b.ya().Ea.mc;var k;c.la?(this.Q(),h.df(this.U),h.offset(0,0),this.b.fl(this.i,a,h,t),k=t):k=d?this.b.wv()&&!c.V.length&&c.e.length?c.e:c.V:c.e;y=a;n=g!==a&&!f;c=0;for(d=k.length;c<d;c++)if(e=k[c],this.b.jq(this,e)){b=!0;if(f)break;g!==a&&x.add(e)}T(t);a=b}else a=!1;return a};m.prototype.Mr=function(a){return lb(this.Fn,a)};m.prototype.Nr=function(){return!0};m.prototype.If=function(){return!0};a.g=
new m;a.G=new function(){};a.n=new function(){}})();function tc(g){this.b=g}
(function(){function g(){return a.length?a.pop():{}}function m(b){var d,c;d=0;for(c=b.length;d<c;d++)a.push(b[d]);T(b)}function k(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function r(){}var q=tc.prototype;q.J=function(){q.G.ts=function(a){this.width!==a&&(this.width=a,this.Df=!0,this.oa())}};q.ga=function(a){this.ma=a;this.b=a.b};var u=q.ga.prototype;u.J=function(){};u.hg=function(){if(!this.C){var a,d,c;a=0;for(d=this.e.length;a<d;a++)c=this.e[a],c.td=null,c.xf=null,
c.ac=null}};q.R=function(a){this.type=a;this.b=a.b;this.Pb?T(this.Ge):this.Ge=[];this.Df=!0};u=q.R.prototype;u.J=function(){this.text=this.B[0];this.visible=0===this.B[1];this.font=this.B[2];this.color=this.B[3];this.Pi=this.B[4];this.dk=this.B[5];this.Zm=0===this.B[7];this.Pl=this.Vd=this.width;this.Ud=this.height;this.Tl=this.B[8];this.Hi=this.Pf="";this.mq=this.nq=this.Ch=0;this.Wv();this.ac=this.xf=this.td=null;this.up=!1;this.dh=this.b.yd;this.Pb?this.Ne.set(0,0,1,1):this.Ne=new S(0,0,1,1);this.b.j&&
this.b.qq(this)};u.Wv=function(){var a=this.font.split(" "),d;for(d=0;d<a.length;d++)if("pt"===a[d].substr(a[d].length-2,2)){this.Ch=parseInt(a[d].substr(0,a[d].length-2));this.nm=Math.ceil(this.Ch/72*96)+4;0<d&&(this.Hi=a[d-1]);this.Pf=a[d+1];for(d+=2;d<a.length;d++)this.Pf+=" "+a[d];break}};u.bb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Pi,va:this.dk,wr:this.Zm,lho:this.Tl,fn:this.Pf,fs:this.Hi,ps:this.Ch,pxh:this.nm,tw:this.nq,th:this.mq,lrt:this.dh}};u.rb=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.Pi=a.ha;this.dk=a.va;this.Zm=a.wr;this.Tl=a.lho;this.Pf=a.fn;this.Hi=a.fs;this.Ch=a.ps;this.nm=a.pxh;this.nq=a.tw;this.mq=a.th;this.dh=a.lrt;this.Df=!0;this.Pl=this.Vd=this.width;this.Ud=this.height};u.Fc=function(){if(this.b.j&&this.ac&&300<=this.b.yd-this.dh){var a=this.i;this.Q();var d=this.U;if(d.right<a.aa||d.bottom<a.ba||d.left>a.fa||d.top>a.ea)this.b.j.deleteTexture(this.ac),this.td=this.xf=this.ac=null}};u.xc=function(){this.td=this.xf=null;this.b.j&&
this.ac&&this.b.j.deleteTexture(this.ac);this.ac=null};u.Ye=function(){this.font=this.Hi+" "+this.Ch.toString()+"pt "+this.Pf;this.Df=!0;this.b.da=!0};u.rc=function(a,d){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=d?1:this.opacity;var c=1;d&&(c=Math.abs(this.i.Zb()),a.save(),a.scale(c,c));if(this.Df||this.width!==this.Pl)this.type.ma.Bs(this.text,this.Ge,a,this.width,this.Zm),this.Df=!1,this.Pl=this.width;this.Q();var c=d?0:this.Ma.Va,e=d?0:this.Ma.Wa;this.b.nc&&(c=
c+.5|0,e=e+.5|0);0===this.k||d||(a.save(),a.translate(c,e),a.rotate(this.k),e=c=0);var f=e+this.height,g=this.nm,g=g+this.Tl,k,m;1===this.dk?e+=Math.max(this.height/2-this.Ge.length*g/2,0):2===this.dk&&(e+=Math.max(this.height-this.Ge.length*g-2,0));for(m=0;m<this.Ge.length&&!(k=c,1===this.Pi?k=c+(this.width-this.Ge[m].width)/2:2===this.Pi&&(k=c+(this.width-this.Ge[m].width)),a.fillText(this.Ge[m].text,k,e),e+=g,e>=f-g);m++);(0!==this.k||d)&&a.restore();this.dh=this.b.yd};u.qb=function(a){if(!(1>
this.width||1>this.height)){var d=this.Df||this.up;this.up=!1;var c=this.i.Zb(),e=this.i.Yb(),f=this.Ne,g=c*this.width,k=c*this.height,m=Math.ceil(g),n=Math.ceil(k),t=Math.abs(m),h=Math.abs(n),p=this.b.I/2,w=this.b.H/2;this.xf||(this.td=document.createElement("canvas"),this.td.width=t,this.td.height=h,this.Vd=t,this.Ud=h,d=!0,this.xf=this.td.getContext("2d"));if(t!==this.Vd||h!==this.Ud)this.td.width=t,this.td.height=h,this.ac&&(a.deleteTexture(this.ac),this.ac=null),d=!0;d&&(this.xf.clearRect(0,
0,t,h),this.rc(this.xf,!0),this.ac||(this.ac=a.Bb(t,h,this.b.qa,this.b.Qd)),a.fk(this.td,this.ac,this.b.Qd));this.Vd=t;this.Ud=h;a.Ja(this.ac);a.Yd(this.opacity);a.Bc();a.translate(-p,-w);a.oc();var r=this.Ma,d=this.i.ua(r.Va,r.Wa,!0,!0),t=this.i.ua(r.Va,r.Wa,!1,!0),h=this.i.ua(r.xb,r.yb,!0,!0),p=this.i.ua(r.xb,r.yb,!1,!0),w=this.i.ua(r.nb,r.ob,!0,!0),q=this.i.ua(r.nb,r.ob,!1,!0),u=this.i.ua(r.lb,r.mb,!0,!0),r=this.i.ua(r.lb,r.mb,!1,!0);if(this.b.nc||0===this.k&&0===e)var X=(d+.5|0)-d,U=(t+.5|0)-
t,d=d+X,t=t+U,h=h+X,p=p+U,w=w+X,q=q+U,u=u+X,r=r+U;0===this.k&&0===e?(h=d+m,p=t,w=h,q=t+n,u=d,r=q,f.right=1,f.bottom=1):(f.right=g/m,f.bottom=k/n);a.$c(d,t,h,p,w,q,u,r,f);a.Bc();a.scale(c,c);a.Dj(-this.i.Yb());a.translate((this.i.aa+this.i.fa)/-2,(this.i.ba+this.i.ea)/-2);a.oc();this.dh=this.b.yd}};var f=[];q.ys=function(a){T(f);for(var d="",c,e=0;e<a.length;)if(c=a.charAt(e),"\n"===c)d.length&&(f.push(d),d=""),f.push("\n"),++e;else if(" "===c||"\t"===c||"-"===c){do d+=a.charAt(e),e++;while(e<a.length&&
(" "===a.charAt(e)||"\t"===a.charAt(e)));f.push(d);d=""}else e<a.length&&(d+=c,e++);d.length&&f.push(d)};var a=[];q.Bs=function(a,d,c,e,f){if(a&&a.length)if(2>=e)m(d);else{if(100>=a.length&&-1===a.indexOf("\n")){var k=c.measureText(a).width;if(k<=e){m(d);d.push(g());d[0].text=a;d[0].width=k;return}}this.Cs(a,d,c,e,f)}else m(d)};q.Cs=function(b,d,c,e,m){m&&(this.ys(b),b=f);var l="",r,q,n,t=0;for(n=0;n<b.length;n++)"\n"===b[n]?(t>=d.length&&d.push(g()),l=k(l),q=d[t],q.text=l,q.width=c.measureText(l).width,
t++,l=""):(r=l,l+=b[n],q=c.measureText(l).width,q>=e&&(t>=d.length&&d.push(g()),r=k(r),q=d[t],q.text=r,q.width=c.measureText(r).width,t++,l=b[n],m||" "!==l||(l="")));l.length&&(t>=d.length&&d.push(g()),l=k(l),q=d[t],q.text=l,q.width=c.measureText(l).width,t++);for(n=t;n<d.length;n++)a.push(d[n]);d.length=t};q.g=new function(){};r.prototype.qs=function(a){ja(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Df=!0,this.b.da=!0)};q.G=new r;q.n=new function(){}})();
function uc(g){this.b=g}
(function(){var g=uc.prototype;g.ga=function(g){this.ma=g;this.b=g.b};var m=g.ga.prototype;m.J=function(){this.C||(this.L=new Image,this.L.pi=this.Tj,this.b.gk(this.L,this.Sj),this.P=this.pattern=null)};m.hg=function(){this.C||(this.P=null)};m.xh=function(){if(!this.C&&this.e.length){this.P||(this.P=this.b.j.ej(this.L,!0,this.b.qa,this.Km));var g,m;g=0;for(m=this.e.length;g<m;g++)this.e[g].P=this.P}};m.fj=function(){this.C||this.P||!this.b.j||(this.P=this.b.j.ej(this.L,!0,this.b.qa,this.Km))};m.ak=
function(){this.C||this.e.length||!this.P||(this.b.j.deleteTexture(this.P),this.P=null)};m.wj=function(g){g.drawImage(this.L,0,0)};g.R=function(g){this.type=g;this.b=g.b};m=g.R.prototype;m.J=function(){this.visible=0===this.B[0];this.Ne=new S(0,0,0,0);this.wo=!1;this.L=this.type.L;this.b.j?(this.type.fj(),this.P=this.type.P):(this.type.pattern||(this.type.pattern=this.b.pa.createPattern(this.type.L,"repeat")),this.pattern=this.type.pattern)};m.ie=function(){this.wo=!1;this.L=this.type.L};m.xc=function(){this.b.j&&
this.wo&&this.P&&(this.b.j.deleteTexture(this.P),this.P=null)};m.rc=function(g){g.globalAlpha=this.opacity;g.save();g.fillStyle=this.pattern;var m=this.x,q=this.y;this.b.nc&&(m=Math.round(m),q=Math.round(q));var u=-(this.Kb*this.width),f=-(this.Lb*this.height),a=u%this.L.width,b=f%this.L.height;0>a&&(a+=this.L.width);0>b&&(b+=this.L.height);g.translate(m,q);g.rotate(this.k);g.translate(a,b);g.fillRect(u-a,f-b,this.width,this.height);g.restore()};m.pe=function(g){this.qb(g)};m.qb=function(g){g.Ja(this.P);
g.Yd(this.opacity);var m=this.Ne;m.right=this.width/this.L.width;m.bottom=this.height/this.L.height;var q=this.Ma;if(this.b.nc){var u=Math.round(this.x)-this.x,f=Math.round(this.y)-this.y;g.$c(q.Va+u,q.Wa+f,q.xb+u,q.yb+f,q.nb+u,q.ob+f,q.lb+u,q.mb+f,m)}else g.$c(q.Va,q.Wa,q.xb,q.yb,q.nb,q.ob,q.lb,q.mb,m)};g.g=new function(){};g.G=new function(){};g.n=new function(){}})();function vc(g){this.b=g}
(function(){function g(){this.Wj=this.id=-1;this.Hn=this.Nf=this.Uh=this.Rg=!1;this.Z=new S(0,0,0,0)}function m(a){1E4>y.length&&y.push(a)}function k(){this.id=-1;this.Z=new S(0,0,0,0);this.sb=null}function r(a){1E4>x.length&&x.push(a)}function q(a,c,b){var d;return n.length?(d=n.pop(),d.m=a,d.x=c,d.y=b,d.left=d.x*d.m.Na*d.m.Ua,d.top=d.y*d.m.Xa*d.m.Ta,d.clear(),d.Eh=!1,d):new u(a,c,b)}function u(a,c,b){this.m=a;this.x=c;this.y=b;this.left=this.x*this.m.Na*this.m.Ua;this.top=this.y*this.m.Xa*this.m.Ta;
this.Ad=[];this.hb=[];this.Ab=[];this.Eh=!1;var d,e;a=0;for(c=this.m.Xa;a<c;++a){e=[];b=0;for(d=this.m.Na;b<d;++b)e.push(-1);this.Ad.push(e)}}function f(a){switch(a){case 0:return 0;case 1:return c;case 2:return e;case 3:return c|v;case 4:return c|e;case 5:return e|v;case 6:return c|e|v;case 7:return v;default:return 0}}function a(){}var b=vc.prototype;b.ga=function(a){this.ma=a;this.b=a.b};var d=b.ga.prototype;d.J=function(){var a,c,b;if(!this.C&&(this.L=new Image,this.L.pi=this.Tj,this.b.gk(this.L,
this.Sj),this.ef=[],this.Ok=!1,this.cd=[],this.rq=!1,this.Vj&&this.Vj.length))for(a=0,c=this.Vj.length;a<c;++a)(b=this.Vj[a])?this.cd.push({sb:b,Gi:[[[null,null],[null,null]],[[null,null],[null,null]]]}):this.cd.push(null)};d.je=function(a,c,b,d,e,f){if(!(0>a||a>=this.cd.length)&&this.cd[a]){var g=this.cd[a].Gi;a=new db(this.cd[a].sb);a.Oc(c,b,0);f&&a.it();d&&a.Lv(c/2);e&&a.wu(b/2);g[d?1:0][e?1:0][f?1:0]=a}};d.so=function(a){if(-1===a)return null;var b=a&l;return 0>b||b>=this.cd.length||!this.cd[b]?
null:this.cd[b].Gi[a&c?1:0][a&e?1:0][a&v?1:0]};d.cl=function(){var a,c,b=this.b.j;if(b)for(a=0,c=this.ef.length;a<c;++a)b.deleteTexture(this.ef[a]);T(this.ef);this.Ok=!1};d.Zl=function(a,c,b,d,e,f,g){if(!(this.Ok||0>=a||0>=c)){this.cl();var n=this.L.width,k=this.L.height,l;for(l=d;l+c<=k;l+=c+f)for(d=b;d+a<=n;d+=a+e)this.ef.push(this.qr(d,l,a,c,g));this.Ok=!0}};d.qr=function(a,c,b,d,e){if(this.b.j)return this.lk(a,c,b,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=
this.lk(a,c,b,d,!1,!1,!1,e);return{Gi:f,x:a,y:c,Kw:b,jv:d}};d.hn=function(a,c,b,d,e){if(0>a||a>=this.ef.length)return null;a=this.ef[a];var f=a.Gi;c=c?1:0;b=b?1:0;d=d?1:0;var g=f[c][b][d];if(g)return g;g=this.lk(a.x,a.y,a.Kw,a.jv,0!==c,0!==b,0!==d,e);return f[c][b][d]=g};d.lk=function(a,c,b,d,e,f,g,n){var k=b,l=d;this.b.j&&!n&&(ka(k)||(k=la(k)),ka(l)||(l=la(l)));var t=document.createElement("canvas");t.width=k;t.height=l;var m=t.getContext("2d");if(this.b.pa)return e?f?(g?(m.rotate(Math.PI/2),m.scale(-1,
1)):m.scale(-1,-1),m.translate(-k,-l)):g?(m.rotate(Math.PI/2),m.translate(0,-l)):(m.scale(-1,1),m.translate(-k,0)):f?g?(m.rotate(-Math.PI/2),m.translate(-k,0)):(m.scale(1,-1),m.translate(0,-l)):g&&(m.scale(-1,1),m.rotate(Math.PI/2)),m.drawImage(this.L,a,c,b,d,0,0,k,l),n?t:this.b.pa.createPattern(t,"repeat");m.drawImage(this.L,a,c,b,d,0,0,k,l);a=this.b.j.Bb(k,l,this.b.qa,!1,!n);this.b.j.fk(t,a);return a};d.hg=function(){this.C||this.cl()};d.xh=function(){};d.fj=function(){};d.ak=function(){this.C||
this.e.length||this.cl()};d.wj=function(){};b.R=function(a){this.type=a;this.b=a.b};var d=b.R.prototype,c=-2147483648,e=1073741824,v=536870912,l=536870911,y=[],x=[],n=[];u.prototype.clear=function(){var a,c,b,d,e;this.Ad.length=this.m.Xa;a=0;for(c=this.Ad.length;a<c;++a)for(e=this.Ad[a],e||(e=[],this.Ad[a]=e),e.length=this.m.Na,b=0,d=e.length;b<d;++b)e[b]=-1};u.prototype.qh=function(){if(!this.Eh){var a=this.m.Ua,b=this.m.Ta;if(!(0>=a||0>=b)){var d,f,n,t,q,u;d=0;for(f=this.hb.length;d<f;++d)m(this.hb[d]);
d=0;for(f=this.Ab.length;d<f;++d)r(this.Ab[d]);T(this.hb);T(this.Ab);var aa=Math.min(this.m.wc,Math.floor(this.m.width/a)),N=Math.min(this.m.Vc,Math.floor(this.m.height/b)),aa=aa-this.left/a,N=N-this.top/b;aa>this.m.Na&&(aa=this.m.Na);N>this.m.Xa&&(N=this.m.Xa);var R=this.m.Pe,D=null;d=0;for(f=N;d<f;++d){q=this.Ad[d];n=0;for(t=aa;n<t;++n)u=q[n],-1===u?D&&(this.hb.push(D),D=null):R||!D||u!==D.id?(D&&this.hb.push(D),D=y.length?y.pop():new g,D.id=u,D.Wj=u&l,D.Rg=0!==(u&c),D.Uh=0!==(u&e),D.Nf=0!==(u&
v),D.Hn=D.Rg||D.Uh||D.Nf,D.Z.left=n*a+this.left,D.Z.top=d*b+this.top,D.Z.right=D.Z.left+a,D.Z.bottom=D.Z.top+b):D.Z.right+=a;D&&(this.hb.push(D),D=null)}var D=null,I=!1;d=0;for(f=N;d<f;++d){q=this.Ad[d];n=0;for(t=aa;n<t;++n)u=q[n],-1===u?D&&(this.Ab.push(D),D=null,I=!1):(N=this.m.type.so(u),!D||N||I?(D&&this.Ab.push(D),D=x.length?x.pop():new k,D.id=u,D.sb=N?N:null,u=D.Z,u.left=n*a+this.left,u.top=d*b+this.top,u.right=u.left+a,u.bottom=u.top+b,I=!!N):D.Z.right+=a);D&&(this.Ab.push(D),D=null,I=!1)}if(!R)for(f=
this.hb.length,d=0;d<f;++d)for(t=this.hb[d],a=d+1;a<f;++a)if(n=this.hb[a],!(n.Z.top<t.Z.bottom)){if(n.Z.top>t.Z.bottom)break;if(n.Z.right>t.Z.right||n.Z.left>t.Z.left)break;n.id===t.id&&n.Z.left===t.Z.left&&n.Z.right===t.Z.right&&(m(this.hb[a]),this.hb.splice(a,1),--f,t.Z.bottom+=b,--a)}f=this.Ab.length;for(d=0;d<f;++d)if(t=this.Ab[d],!t.sb)for(q=t.Z,a=d+1;a<f;++a)if(n=this.Ab[a],t=n.Z,!(t.top<q.bottom)){if(t.top>q.bottom)break;if(t.right>q.right||t.left>q.left)break;n.sb||t.left!==q.left||t.right!==
q.right||(r(this.Ab[a]),this.Ab.splice(a,1),--f,q.bottom+=b,--a)}this.Eh=!0}}};u.prototype.Kj=function(a,c,b){this.Ad[c][a]!==b&&(this.Ad[c][a]=b,this.Eh=!1,this.m.ei=!0,this.m.zh=!0,this.m.b.da=!0)};d.J=function(){var a,c,b;this.visible=0===this.B[0];this.Ua=this.B[1];this.Ta=this.B[2];this.Lm=this.B[3];this.Nm=this.B[4];this.Mm=this.B[5];this.Om=this.B[6];this.Pe=0!==this.B[7];this.wc=this.uq;this.Vc=this.tq;this.Vd=this.width;this.Ud=this.height;var d=this.Ua,e=this.Ta;0===d&&(d=1);0===e&&(e=1);
this.Na=Math.ceil(this.b.Aa/d);this.Xa=Math.ceil(this.b.za/e);if(!this.type.rq)for(this.type.rq=!0,a=0,c=this.type.cd.length;a<c;++a)if(b=this.type.cd[a])this.type.je(a,d,e,!1,!1,!1),this.type.je(a,d,e,!1,!1,!0),this.type.je(a,d,e,!1,!0,!1),this.type.je(a,d,e,!1,!0,!0),this.type.je(a,d,e,!0,!1,!1),this.type.je(a,d,e,!0,!1,!0),this.type.je(a,d,e,!0,!0,!1),this.type.je(a,d,e,!0,!0,!0);this.Pb||(this.Fb=[]);this.mj(!0);this.Yp(this.sq);this.type.Zl(this.Ua,this.Ta,this.Lm,this.Nm,this.Mm,this.Om,this.Pe);
this.zh=!1;this.ei=!0;this.Yl()};d.Yl=function(){if(this.ei){var a,c,b,d,e;a=0;for(c=this.Fb.length;a<c;++a)for(e=this.Fb[a],b=0,d=e.length;b<d;++b)e[b].qh();this.ei=!1}};d.Gj=function(){var a,c,b,d,e;a=0;for(c=this.Fb.length;a<c;++a)for(e=this.Fb[a],b=0,d=e.length;b<d;++b)e[b].Eh=!1;this.ei=!0};d.mj=function(a){var c=Q(this.width/this.Ua),b=Q(this.height/this.Ta);if(!(c<=this.wc&&b<=this.Vc)||a){var d;a?(a=Math.ceil(this.Vc/this.Xa),d=Math.ceil(this.wc/this.Na)):(a=this.Fb.length,d=Math.ceil(this.wc/
this.Na),b>this.Vc&&(this.Vc=b,a=Math.ceil(this.Vc/this.Xa)),c>this.wc&&(this.wc=c,d=Math.ceil(this.wc/this.Na)),this.Gj(),this.zh=!0,this.b.da=!0);for(var e,c=0;c<a;++c)if(e=this.Fb[c])for(b=e.length;b<d;++b)e.push(q(this,b,c));else{e=[];for(b=0;b<d;++b)e.push(q(this,b,c));this.Fb[c]=e}}};d.Ck=function(a,c){if(0>a||0>c)return null;var b=Q(c/this.Xa);if(b>=this.Fb.length)return null;var b=this.Fb[b],d=Q(a/this.Na);return d>=b.length?null:b[d]};d.Dk=function(a,b){if(0>a||0>b||b>=this.Fb.length)return null;
var c=this.Fb[b];return a>=c.length?null:c[a]};d.Yp=function(a){var b=[];a=a.split(",");var d,f,g,n,k;d=0;for(f=a.length;d<f;++d)if(g=a[d],n=g.indexOf("x"),-1<n)for(k=parseInt(g.substring(0,n),10),g=g.substring(n+1),n=parseInt(g,10),-1<g.indexOf("h")&&(n|=c),-1<g.indexOf("v")&&(n|=e),-1<g.indexOf("d")&&(n|=v);0<k;--k)b.push(n);else n=parseInt(g,10),-1<g.indexOf("h")&&(n|=c),-1<g.indexOf("v")&&(n|=e),-1<g.indexOf("d")&&(n|=v),b.push(n);for(d=a=0;d<this.Vc;++d)for(f=0;f<this.wc;++f)k=b[a++],(g=this.Ck(f,
d))&&g.Kj(f%this.Na,d%this.Xa,k)};d.Tu=function(){var a="";if(0>=this.wc||0>=this.Vc)return a;var b=1,d=this.pl(0,0),f,g,n,k,t,m,r,q;k=Q(this.width/this.Ua);g=Q(this.height/this.Ta);for(f=0;f<g;++f)for(n=0===f?1:0;n<k;++n)t=this.pl(n,f),t===d?++b:(-1===d?(m=-1,d=q=r=!1):(m=d&l,r=0!==(d&c),q=0!==(d&e),d=0!==(d&v)),a=1===b?a+(""+m):a+(""+b+"x"+m),r&&(a+="h"),q&&(a+="v"),d&&(a+="d"),a+=",",b=1,d=t);-1===d?(m=-1,d=q=r=!1):(m=d&l,r=0!==(d&c),q=0!==(d&e),d=0!==(d&v));a=1===b?a+(""+m):a+(""+b+"x"+m);r&&
(a+="h");q&&(a+="v");d&&(a+="d");return a};d.pl=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.wc||b>=this.Vc)return-1;var c=this.Ck(a,b);return c?c.Ad[b%this.Xa][a%this.Na]:-1};d.Kj=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.wc||b>=this.Vc)return-1;var d=this.Ck(a,b);if(!d)return-1;d.Kj(a%this.Na,b%this.Xa,c)};d.Jq=function(a){return Math.floor((a-this.x)/(this.Na*this.Ua))};d.Kq=function(a){return Math.floor((a-this.y)/(this.Xa*this.Ta))};d.Mw=function(a){return Math.floor((a-
this.x)/this.Ua)};d.Nw=function(a){return Math.floor((a-this.y)/this.Ta)};d.Ig=function(a,b){var c=this.Kq(a.top),d=this.Jq(a.right),e=this.Kq(a.bottom),f,g,n;for(f=this.Jq(a.left);f<=d;++f)for(g=c;g<=e;++g)if(n=this.Dk(f,g))n.qh(),Fa(b,n.Ab)};d.Ew=function(a,b){var c=this.pl(this.Mw(a),this.Nw(b));if(-1===c)return!1;c=this.type.so(c);if(!c)return!0;var d=Math.floor((b-this.y)/this.Ta)*this.Ta+this.y;a-=Math.floor((a-this.x)/this.Ua)*this.Ua+this.x;return c.Da(a,b-d)};d.Ye=function(a){var b,c,d,e,
f,g;b=0;for(c=this.Fb.length;b<c;++b)for(f=this.Fb[b],d=0,e=f.length;d<e;++d)g=f[d],g.qh(),Fa(a,g.Ab)};d.xc=function(){var a,b,c,d,e;a=0;for(b=this.Fb.length;a<b;++a){e=this.Fb[a];c=0;for(d=e.length;c<d;++c){for(var f=e[c],g=void 0,k=void 0,g=0,k=f.hb.length;g<k;++g)m(f.hb[g]);T(f.hb);g=0;for(k=f.Ab.length;g<k;++g)r(f.Ab[g]);T(f.Ab);1E3>n.length&&n.push(f)}T(e)}T(this.Fb)};d.bb=function(){this.mj();return{w:Q(this.width/this.Ua),h:Q(this.height/this.Ta),d:this.Tu()}};d.rb=function(a){this.wc=a.w;
this.Vc=a.h;this.mj(!0);this.Yp(a.d);this.zh=!0;this.Gj()};d.rc=function(a){if(!(0>=this.Ua||0>=this.Ta)){this.type.Zl(this.Ua,this.Ta,this.Lm,this.Nm,this.Mm,this.Om,this.Pe);if(this.width!==this.Vd||this.height!==this.Ud)this.zh=!0,this.Gj(),this.Yl(),this.Vd=this.width,this.Ud=this.height;a.globalAlpha=this.opacity;var b=this.i,c=b.aa,d=b.ba,e=b.fa,b=b.ea,f=this.x,g=this.y,n=this.Pe,k;this.b.nc&&(f=Math.round(f),g=Math.round(g));var l=this.Na*this.Ua,t=this.Xa*this.Ta,m=Math.floor((c-f)/l),l=Math.floor((e-
f)/l),r=Math.floor((d-g)/t),t=Math.floor((b-g)/t),q=f%this.Ua,u=g%this.Ta;this.Pe&&(u=q=0);if(0!==q||0!==u)a.save(),a.translate(q,u),f-=q,g-=u,c-=q,d-=u,e-=q,b-=u;for(var y,z,B,x,v,H,F,K,ca;m<=l;++m)for(y=r;y<=t;++y)if(z=this.Dk(m,y))for(z.qh(),B=0,x=z.hb.length;B<x;++B)v=z.hb[B],-1!==v.id&&(k=v.Z,H=k.left+f,F=k.top+g,K=k.right+f,k=k.bottom+g,H>e||K<c||F>b||k<d||(ca=this.type.hn(v.Wj,v.Rg,v.Uh,v.Nf,this.Pe),n?a.drawImage(ca,H,F):(a.fillStyle=this.type.hn(v.Wj,v.Rg,v.Uh,v.Nf,this.Pe),a.fillRect(H,
F,K-H,k-F))));0===q&&0===u||a.restore()}};var t=new S(0,0,1,1);d.pe=function(a){this.qb(a)};d.qb=function(a){if(!(0>=this.Ua||0>=this.Ta)){this.type.Zl(this.Ua,this.Ta,this.Lm,this.Nm,this.Mm,this.Om,this.Pe);if(this.width!==this.Vd||this.height!==this.Ud)this.zh=!0,this.Gj(),this.Yl(),this.Vd=this.width,this.Ud=this.height;a.Yd(this.opacity);var b=this.type.ef,c=this.i,d=c.aa,e=c.ba,f=c.fa,c=c.ea,g=this.x,n=this.y,k;this.b.nc&&(g=Math.round(g),n=Math.round(n));var l=this.Na*this.Ua,m=this.Xa*this.Ta,
r=Math.floor((f-g)/l),q=Math.floor((e-n)/m),m=Math.floor((c-n)/m),u,y,x,z,B,v,O,H,F,K,ca,L,fa,M,Aa,gb,hb;for(Aa=Math.floor((d-g)/l);Aa<=r;++Aa)for(gb=q;gb<=m;++gb)if(hb=this.Dk(Aa,gb))for(hb.qh(),l=0,u=hb.hb.length;l<u;++l)y=hb.hb[l],-1!==y.id&&(k=y.Z,x=k.left+g,z=k.top+n,B=k.right+g,k=k.bottom+n,x>f||B<d||z>c||k<e||(a.Ja(b[y.Wj]),t.right=(B-x)/this.Ua,t.bottom=(k-z)/this.Ta,y.Hn?(y.Nf&&(M=t.right,t.right=t.bottom,t.bottom=M),O=v=0,H=t.right,F=0,K=t.right,ca=t.bottom,L=0,fa=t.bottom,y.Nf&&(M=L,L=
H,H=M,M=fa,fa=F,F=M),y.Rg&&(M=v,v=H,H=M,M=O,O=F,F=M,M=L,L=K,K=M,M=fa,fa=ca,ca=M),y.Uh&&(M=v,v=L,L=M,M=O,O=fa,fa=M,M=H,H=K,K=M,M=F,F=ca,ca=M),a.om(x,z,B,z,B,k,x,k,v,O,H,F,K,ca,L,fa)):a.$c(x,z,B,z,B,k,x,k,t)))}};b.g=new function(){};a.prototype.rs=function(a,b,c,d){this.mj();this.Kj(a,b,c&l|f(d))};b.G=new a;b.n=new function(){}})();function Z(g){this.b=g}
(function(){function g(a){d=a.x;c=a.y;e=a.z}function m(a,b,c,d){var e;e=v.length?v.pop():new k;e.init(a,b,c,d);return e}function k(){this.Jh=this.id=this.Rl=this.Ql=this.y=this.x=this.Qj=this.Pj=this.Ol=this.time=this.Im=0;this.Qh=this.Zj=!1}function r(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function q(){}function u(){}var f=Z.prototype;f.ga=function(a){this.ma=a;
this.b=a.b};f.ga.prototype.J=function(){};f.R=function(a){this.type=a;this.b=a.b;this.touches=[];this.am=!1};var a=f.R.prototype,b={left:0,top:0};a.Hg=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var d=0,c=0,e=0,v=[];k.prototype.init=function(a,b,c,d){var e=Xa();this.Im=this.Ol=this.time=e;this.Pj=a;this.Qj=b;this.x=a;this.y=b;this.Ql=a;this.Rl=b;this.pressure=this.height=this.width=0;this.id=c;this.Jh=d;this.Qh=this.Zj=!1};k.prototype.update=
function(a,b,c,d,e,f){this.Ol=this.time;this.time=a;this.Ql=this.x;this.Rl=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.Qh&&15<=Sa(this.Pj,this.Qj,this.x,this.y)&&(this.Qh=!0)};k.prototype.Jv=function(a,b){!this.Zj&&500<=Xa()-this.Im&&!this.Qh&&15>Sa(this.Pj,this.Qj,this.x,this.y)&&(this.Zj=!0,a.Bd=this.Jh,a.pg=this.id,a.Sf=b,a.b.trigger(Z.prototype.g.Tr,a),a.Gd=this.x,a.Hd=this.y,a.b.trigger(Z.prototype.g.Ur,a),a.Sf=0)};var l=-1E3,y=-1E3,x=-1E4;k.prototype.pp=function(a,
b){if(!this.Zj){var c=Xa();333>=c-this.Im&&!this.Qh&&15>Sa(this.Pj,this.Qj,this.x,this.y)&&(a.Bd=this.Jh,a.pg=this.id,a.Sf=b,666>=c-x&&25>Sa(l,y,this.x,this.y)?(a.b.trigger(Z.prototype.g.Rr,a),a.Gd=this.x,a.Hd=this.y,a.b.trigger(Z.prototype.g.Sr,a),y=l=-1E3,x=-1E4):(a.b.trigger(Z.prototype.g.ds,a),a.Gd=this.x,a.Hd=this.y,a.b.trigger(Z.prototype.g.es,a),l=this.x,y=this.y,x=c),a.Sf=0)}};a.J=function(){this.Av=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Sf=this.pg=this.Bd=
this.Hd=this.Gd=this.An=this.zn=this.yn=this.Gs=this.Fs=this.Es=this.tj=this.sj=this.rj=0;this.Iw=0!==this.B[0];var a=0<this.b.Jb?document:this.b.canvas,b=document;this.b.Od?b=a=window.Canvas:this.b.tc&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.Cp(a)},!1),a.addEventListener("pointermove",function(a){c.Bp(a)},!1),b.addEventListener("pointerup",function(a){c.qj(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.qj(a,!0)},!1),this.b.canvas&&
(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Cp(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Bp(a)},!1),b.addEventListener("MSPointerUp",
function(a){c.qj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.qj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Ep(a)},!1),a.addEventListener("touchmove",function(a){c.Dp(a)},!1),b.addEventListener("touchend",function(a){c.gm(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.gm(a,!0)},
!1));if(this.Av){var d=function(a){a=a.reading;c.yn=a.accelerationX;c.zn=a.accelerationY;c.An=a.accelerationZ},e=function(a){a=a.reading;c.rj=a.yawDegrees;c.sj=a.pitchDegrees;c.tj=a.rollDegrees},f=Windows.Devices.Sensors.Accelerometer.getDefault();f&&(f.reportInterval=Math.max(f.minimumReportInterval,16),f.addEventListener("readingchanged",d));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",e));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(f&&f.removeEventListener("readingchanged",d),k&&k.removeEventListener("readingchanged",e)):(f&&f.addEventListener("readingchanged",d),k&&k.addEventListener("readingchanged",e))},!1)}else window.addEventListener("deviceorientation",function(a){c.rj=a.alpha||0;c.sj=a.beta||0;c.tj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Es=a.accelerationIncludingGravity.x||0,c.Fs=a.accelerationIncludingGravity.y||
0,c.Gs=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.yn=a.acceleration.x||0,c.zn=a.acceleration.y||0,c.An=a.acceleration.z||0)},!1);this.Iw&&!this.b.Qa&&(jQuery(document).mousemove(function(a){c.Qv(a)}),jQuery(document).mousedown(function(a){c.Pv(a)}),jQuery(document).mouseup(function(a){c.Rv(a)}));!this.b.Yi&&this.b.uc&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(g,null,{frequency:40});this.b.oq(this)};a.Bp=function(a){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var c=this.Hg(a.pointerId),d=Xa();if(0<=c){var e=this.b.Qa?b:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||c.update(d,a.pageX-e.left,a.pageY-e.top,a.width||0,a.height||0,a.pressure||0)}}};a.Cp=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&mb(a)&&a.preventDefault();var c=this.b.Qa?b:jQuery(this.b.canvas).offset(),d=a.pageX-c.left,c=a.pageY-c.top;Xa();
this.Bd=this.touches.length;this.pg=a.pointerId;this.touches.push(m(d,c,a.pointerId,this.Bd));this.b.Be=!0;this.b.trigger(Z.prototype.g.qn,this);this.b.trigger(Z.prototype.g.tn,this);this.Gd=d;this.Hd=c;this.b.trigger(Z.prototype.g.pk,this);this.b.Be=!1}};a.qj=function(a,c){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&mb(a)&&a.preventDefault();var b=this.Hg(a.pointerId);this.Bd=0<=b?this.touches[b].Jh:-1;this.pg=0<=b?this.touches[b].id:-1;this.b.Be=!0;this.b.trigger(Z.prototype.g.pn,
this);this.b.trigger(Z.prototype.g.sn,this);0<=b&&(c||this.touches[b].pp(this,b),100>v.length&&v.push(this.touches[b]),this.touches.splice(b,1));this.b.Be=!1}};a.Dp=function(a){a.preventDefault&&a.preventDefault();var c=Xa(),d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.Hg(f.identifier),0<=g){var k=this.b.Qa?b:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||g.update(c,f.pageX-k.left,f.pageY-k.top,2*(f.Yx||f.ey||f.Sx||f.Vx||0),2*(f.Zx||f.fy||f.Tx||f.Wx||
0),f.Ix||f.dy||f.Rx||f.Ux||0)}};a.Ep=function(a){a.preventDefault&&mb(a)&&a.preventDefault();var c=this.b.Qa?b:jQuery(this.b.canvas).offset();Xa();this.b.Be=!0;var d,e,f,g;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],g=this.Hg(f.identifier),-1===g){g=f.pageX-c.left;var k=f.pageY-c.top;this.Bd=this.touches.length;this.pg=f.identifier;this.touches.push(m(g,k,f.identifier,this.Bd));this.b.trigger(Z.prototype.g.qn,this);this.b.trigger(Z.prototype.g.tn,this);this.Gd=g;this.Hd=k;this.b.trigger(Z.prototype.g.pk,
this)}this.b.Be=!1};a.gm=function(a,c){a.preventDefault&&mb(a)&&a.preventDefault();this.b.Be=!0;var b,d,e;b=0;for(d=a.changedTouches.length;b<d;b++)e=a.changedTouches[b],e=this.Hg(e.identifier),0<=e&&(this.Bd=this.touches[e].Jh,this.pg=this.touches[e].id,this.b.trigger(Z.prototype.g.pn,this),this.b.trigger(Z.prototype.g.sn,this),c||this.touches[e].pp(this,e),100>v.length&&v.push(this.touches[e]),this.touches.splice(e,1));this.b.Be=!1};a.Ye=function(){return this.b.uc&&0===this.rj&&0!==e?90*e:this.rj};
a.Kt=function(){return this.b.uc&&0===this.sj&&0!==c?90*c:this.sj};a.yu=function(){return this.b.uc&&0===this.tj&&0!==d?90*d:this.tj};a.Pv=function(a){r(a)||(this.Ep({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.am=!0)};a.Qv=function(a){this.am&&!r(a)&&this.Dp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.Rv=function(a){a.preventDefault&&this.b.to&&!this.b.Qd&&a.preventDefault();this.b.to=!0;r(a)||(this.gm({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),
this.am=!1)};a.Oh=function(){var a,c,b,d=Xa();a=0;for(c=this.touches.length;a<c;++a)b=this.touches[a],b.time<=d-50&&(b.Ol=d),b.Jv(this,a)};q.prototype.tn=function(){return!0};q.prototype.sn=function(){return!0};q.prototype.pk=function(a){return a?this.b.Rj(a,this.Gd,this.Hd):!1};q.prototype.qn=function(a){a=Math.floor(a);return a===this.Bd};q.prototype.pn=function(a){a=Math.floor(a);return a===this.Bd};q.prototype.Tr=function(){return!0};q.prototype.ds=function(){return!0};q.prototype.Rr=function(){return!0};
q.prototype.Ur=function(a){return a?this.b.Rj(a,this.Gd,this.Hd):!1};q.prototype.es=function(a){return a?this.b.Rj(a,this.Gd,this.Hd):!1};q.prototype.Sr=function(a){return a?this.b.Rj(a,this.Gd,this.Hd):!1};f.g=new q;u.prototype.rk=function(a,c){var b=this.Sf;if(0>b||b>=this.touches.length)a.u(0);else{var d,e,f,g,k;ia(c)?(d=this.b.Jg(0),e=d.scale,f=d.kd,g=d.zc,k=d.k,d.scale=1,d.kd=1,d.zc=1,d.k=0,a.u(d.zb(this.touches[b].x,this.touches[b].y,!0)),d.scale=e,d.kd=f,d.zc=g,d.k=k):(d=ja(c)?this.b.Jg(c):
this.b.ml(c))?a.u(d.zb(this.touches[b].x,this.touches[b].y,!0)):a.u(0)}};u.prototype.sk=function(a,b){var c=this.Sf;if(0>c||c>=this.touches.length)a.u(0);else{var d,e,f,g,k;ia(b)?(d=this.b.Jg(0),e=d.scale,f=d.kd,g=d.Ac,k=d.k,d.scale=1,d.kd=1,d.Ac=1,d.k=0,a.u(d.zb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.kd=f,d.Ac=g,d.k=k):(d=ja(b)?this.b.Jg(b):this.b.ml(b))?a.u(d.zb(this.touches[c].x,this.touches[c].y,!1)):a.u(0)}};u.prototype.Nq=function(a,c){c=Math.floor(c);if(0>c||c>=this.touches.length)a.u(0);
else{var b=this.touches[c];a.u(Ja(Oa(b.Ql,b.Rl,b.x,b.y)))}};f.n=new u})();Math.sign=Math.sign||function(g){g=+g;return 0===g||isNaN(g)?Number(g):0<g?1:-1};function wc(g){this.b=g}
(function(){function g(){this.re=this.qe=this.Zh=this.Yh=this.hd=this.gd=0;this.$e=new S(0,0,0,0);this.Eb=0;this.xe=!1;this.Ri=this.Qi=0;this.uid=-1;this.Ke=0}function m(a,c){var b=1/a.qe,d=1/a.re,e=Math.sign(b),f=Math.sign(d),g=(c.left+c.right)/2,k=(c.top+c.bottom)/2,l=(c.right-c.left)/2+0,m=(c.bottom-c.top)/2+0,r=(g-e*l-a.gd)*b,q=(k-f*m-a.hd)*d,b=(g+e*l-a.gd)*b,d=(k+f*m-a.hd)*d;if(r>d||q>b)return!1;k=r>q?r:q;if(k>=a.Eb||0>=(b<d?b:d))return!1;a.Eb=Math.max(k,0);a.xe=!0;a.Ke=r>q?Math.atan2(0,-e):
Math.atan2(-f,0);return!0}function k(a,c,b,d,e,f,g,k){g=g-e;k=k-f;b=k*(b-a)-g*(d-c);return 0===b?0:((e-a)*k+(c-f)*g)/b}function r(a,c,b,d){var e=c.ka;if(c.Da(a.gd-b,a.hd-d))return a.Eb=0,a.xe=!0,a.Ke=Math.atan2(-a.re,-a.qe),!0;var f,g,l,m,r,q,u=!1;f=0;for(c=c.tb;f<c;f++)g=2*f,l=(f+1)%c*2,m=e[g]+b,g=e[g+1]+d,r=e[l]+b,q=e[l+1]+d,ua(a.gd,a.hd,a.Yh,a.Zh,m,g,r,q)&&(l=k(a.gd,a.hd,a.Yh,a.Zh,m,g,r,q),l<a.Eb&&(u=!0,a.Eb=l,a.xe=!0,a.Ke=0===(0<=(g-a.hd)*(r-m)-(m-a.gd)*(q-g)?0:1)?Math.atan2(m-r,q-g):Math.atan2(r-
m,g-q)));return u}function q(a,c){if(c&&c.Ed&&(c.Q(),c.U.Al(a.$e))){var b=!1;if(c.zd){c.Ig(a.$e,e);var d,f,g,l=c.x,q=c.y,u=!1,b=0;for(d=e.length;b<d;++b)f=e[b],g=f.Z,a.$e.Bl(g,l,q)&&(v.df(g),v.offset(l,q),f.sb?r(a,f.sb,v.left,v.top)&&(u=!0):m(a,v)&&(u=!0));T(e);b=u}else if(c.F&&!c.F.sd())b=c.F,b.Oc(c.width,c.height,c.k),b=r(a,b,c.x,c.y);else if(0===c.k)b=m(a,c.U);else if(b=c.Ma,d=!1,b.Da(a.gd,a.hd))a.Eb=0,a.xe=!0,a.Ke=Math.atan2(-a.re,-a.qe),b=!0;else{var E;for(f=0;4>f;f++)l=b.La(f,!0),q=b.La(f,!1),
u=b.La(f+1,!0),E=b.La(f+1,!1),ua(a.gd,a.hd,a.Yh,a.Zh,l,q,u,E)&&(g=k(a.gd,a.hd,a.Yh,a.Zh,l,q,u,E),g<a.Eb&&(d=!0,a.Eb=g,a.xe=!0,a.Ke=Math.atan2(l-u,E-q)));b=d}b&&(a.uid=c.uid)}}function u(){}function f(){}function a(){}var b=wc.prototype;b.ga=function(a){this.ma=a;this.b=a.b};b.ga.prototype.J=function(){this.Wc=[]};b.R=function(a){this.type=a;this.b=a.b};var d=b.R.prototype,c=g.prototype;c.Vq=function(a){this.Qi=this.gd+this.qe*this.Eb;this.Ri=this.hd+this.re*this.Eb;if(0!==a){var c=Math.atan2(-this.re,
-this.qe);this.Qi+=Math.cos(c)*a;this.Ri+=Math.sin(c)*a}};c.Ye=function(){return 2*this.Ke-Math.atan2(-this.re,-this.qe)};var e=[],v=new S(0,0,0,0);d.J=function(){this.pj=this.B[0];this.Rh=0!==this.B[1];this.padding=Ia(this.B[2],0,1);this.Yj=new g};d.xc=function(){};d.bb=function(){return{}};d.rb=function(){};var l=[];d.yr=function(){var a=this.Yj,c;if(0===this.pj)this.Rh?this.b.ro(null,a.$e,l):(a=this.b.Nj)&&Fa(l,a.rh.fd());else if(this.Rh)this.b.Oi(null,this.type.Wc,a.$e,l);else for(a=0,c=this.type.Wc.length;a<
c;++a)Fa(l,this.type.Wc[a].e)};u.prototype.Br=function(){return this.Yj.xe};b.g=new u;f.prototype.zs=function(a,c,b,d){var e=this.Yj;e.gd=a;e.hd=c;e.Yh=b;e.Zh=d;e.qe=b-a;e.re=d-c;e.$e.set(a,c,b,d);e.$e.normalize();e.Eb=1;e.xe=!1;var f;this.yr();if(0===this.pj)for(a=0,c=l.length;a<c;++a)f=l[a],f.A.solidEnabled&&q(e,f);else for(a=0,c=l.length;a<c;++a)f=l[a],q(e,f);T(l);e.xe?e.Vq(this.padding):(e.Qi=b,e.Ri=d,e.uid=-1,e.Ke=Math.atan2(-e.re,-e.qe))};b.G=new f;a.prototype.Lr=function(a){a.u(Ja(this.Yj.Ke))};
b.n=new a})();function xc(g){this.b=g}
(function(){function g(a){a%=v.length;0>a&&(a+=v.length);return a}function m(){var a,c,b,d;a=0;for(c=v.length;a<c;++a)b=v[a],(d=v[g(a-1)])&&!b&&(y=a),!d&&b&&(n=a)}function k(){}var r=xc.prototype;r.ga=function(a){this.ma=a;this.b=a.b};var q=r.ga.prototype,u=!1,f=null,a=null;q.J=function(){this.C||u||(u=!0,f=new Image,f.pi=15E3,this.b.gk(f,"penumbra.png"))};q.hg=function(){if(!this.C){this.cc=this.P=null;var a,c,b;a=0;for(c=this.e.length;a<c;++a)b=this.e[a],b.P=null,b.cc=null}};q.xh=function(){if(!this.C){var a,
c;a=0;for(c=this.e.length;a<c;++a)this.e[a].Mk()}};r.R=function(a){this.type=a;this.b=a.b};q=r.R.prototype;q.J=function(){if(!a){var c=f.width,b=f.height,d=document.createElement("canvas");d.width=c;d.height=b;d=d.getContext("2d");d.clearRect(0,0,c,b);d.drawImage(f,0,0,c,b);a=d.getImageData(0,0,c,b).data}this.Ee=this.x;this.Fe=this.y;this.Vo=this.B[0];this.Nb=1E3;this.ag=this.B[1];this.Qn=this.B[2];this.tag=this.B[3];this.eh=this.fh=this.gh=0;this.Oo=this.x;this.Po=this.y;this.cc=this.P=null;this.b.j?
this.Mk():this.ag=0;this.b.oq(this)};q.Rn=function(a){return 1===this.Qn?lb(this.tag,a):2===this.Qn?!lb(this.tag,a):!0};q.Oh=function(){if(this.Oo!==this.x||this.Po!==this.y)this.Ee=this.x,this.Fe=this.y;var a=this.i,c=(a.aa+a.fa)/2,b=(a.ba+a.ea)/2,d=a.fa-a.aa+this.Nb,e=a.ea-a.ba+this.Nb;if(c!==this.x||b!==this.y||d!==this.width||e!==this.height)this.x=c,this.y=b,this.width=d,this.height=e,this.oa();this.Oo=this.x;this.Po=this.y;this.Nb=1.5*Sa(a.aa,a.ba,a.fa,a.ea)};q.xc=function(){this.b.j&&(this.P&&
(this.b.j.deleteTexture(this.P),this.P=null),this.cc&&(this.b.j.deleteTexture(this.cc),this.cc=null))};q.bb=function(){return{}};q.rb=function(){};var b=[],d=[];q.qo=function(){this.b.Dm&&(this.b.Oi(this.i,this.b.Dm.cm,this.U,b),Ya(b))};var c=[],e=0,v=[],l=[],y=-1,x=-1,n=-1,t=-1,h=0,p=0,w=[],C=0,qa=0,E=0,X=0,U=0,aa=0,N=0,R=0,D=new db([]);q.rc=function(a){this.qo();a.save();a.fillStyle="rgba("+this.gh+","+this.fh+","+this.eh+","+this.opacity+")";var c,e,f,g,h,k,l,n,m,p;c=0;for(e=b.length;c<e;++c)if(f=
b[c],f.A.shadowcasterEnabled&&this.Rn(f.A.shadowcasterTag))if(f.Q(),l=f.A.shadowcasterHeight,f.zd){f.Ig(this.U,d);n=f.x;m=f.y;f=0;for(g=d.length;f<g;++f){h=d[f];p=h.Z;h.sb?(h=h.sb,k=p.left,p=p.top):(D.Se(p,0,0),h=D,p=k=0);this.mi(h,n+k,m+p,l,!1);a.beginPath();a.moveTo(w[0],w[1]);h=2;for(k=w.length;h<k;h+=2)a.lineTo(w[h],w[h+1]);a.closePath();a.fill();T(v);T(w)}T(d)}else{f.F&&!f.F.sd()?(f.F.Oc(f.width,f.height,f.k),h=f.F):(D.Re(f.Ma,f.x,f.y,f.width,f.height),h=D);this.mi(h,f.x,f.y,l,Ta(0>f.width,0>
f.height));a.beginPath();a.moveTo(w[0],w[1]);f=2;for(g=w.length;f<g;f+=2)a.lineTo(w[f],w[f+1]);a.closePath();a.fill();T(v);T(w)}a.restore();T(b)};q.Ju=function(a,b,d,f){e=a.tb;T(c);var g,k=a.ka;p=h=0;var l;for(l=0;l<e;++l)g=2*l,a=k[g]+b,g=k[g+1]+d,f?(c.unshift(g),c.unshift(a)):(c.push(a),c.push(g)),h+=a,p+=g;h/=e;p/=e};q.mi=function(a,b,d,f,g){this.Ju(a,b,d,g);var h;T(v);T(l);T(w);t=x=n=y=-1;d=this.Ee;g=this.Fe;if(0<this.ag)this.zk(-this.ag),m(),Ea(l,v),x=y,t=n,T(v),n=y=-1,this.zk(this.ag),m(),-1!==
y&&-1!==n&&-1!==x&&-1!==t&&this.Vs();else for(this.zk(0),m(),a=0;a<e;++a)h=2*a,b=c[h],h=c[h+1],this.Us(a,d,g,b,h,f)};q.Us=function(a,c,b,d,e,f){var h;h=v[g(a-1)];var k=a===y,l=a===n;v[a]||h?(a=Oa(c,b,d,e),h=Sa(c,b,d,e),f=this.Ws(c,b,d,e,f),c+=Math.cos(a)*(h+f),b+=Math.sin(a)*(h+f)):(c=d,b=e);l&&(w.push(d),w.push(e));w.push(c);w.push(b);k&&(w.push(d),w.push(e))};q.zk=function(a){var b=this.Ee,d=this.Fe,f=b,g=d,k,l,n,m,r;for(k=0;k<e;++k)l=2*k,n=k+1,n=n===e?0:2*n,m=c[l],l=c[l+1],r=c[n],n=c[n+1],0!==
a&&(g=Oa(b,d,h,p)-Math.PI/2,f=b+Math.cos(g)*a,g=d+Math.sin(g)*a),v.push(Pa(Oa(m,l,f,g),Oa(m,l,r,n)-Math.PI/2)>=Math.PI/2)};var I=0,J=0;q.Vs=function(){for(var a=x,b,d,f;a=a%e,b=2*a,d=c[b],f=c[b+1],w.push(d),w.push(f),a!==n;++a);var g=this.ag,k=Oa(this.Ee,this.Fe,h,p),a=this.Ee+Math.cos(k-Math.PI/2)*g,l=this.Fe+Math.sin(k-Math.PI/2)*g,k=Oa(a,l,d,f),m=Sa(a,l,d,f),a=a+Math.cos(k)*(m+this.Nb),l=l+Math.sin(k)*(m+this.Nb);b=2*x;var r=c[b];b=c[b+1];var k=Oa(this.Ee,this.Fe,h,p),q=this.Ee+Math.cos(k+Math.PI/
2)*g,t=this.Fe+Math.sin(k+Math.PI/2)*g,k=Oa(q,t,r,b),m=Sa(q,t,r,b),g=q+Math.cos(k)*(m+this.Nb),k=t+Math.sin(k)*(m+this.Nb);U=d;aa=f;C=r;qa=b;var u,v,y,m=a-d,q=l-f;u=g-r;v=k-b;y=-u*q+m*v;0===y?d=!1:(t=(-q*(d-r)+m*(f-b))/y,y=-u*q+m*v,0===y?d=!1:(r=(u*(f-b)-v*(d-r))/y,0<=t&&1>=t&&0<=r&&1>=r?(I=d+r*m,J=f+r*q,d=!0):d=!1));d?(w.push(I),w.push(J),N=I,R=J,E=I,X=J):(w.push(a),w.push(l),w.push(g),w.push(k),N=a,R=l,E=g,X=k)};q.Ws=function(a,b,c,d,e){if(e>=this.Vo)return this.Nb;if(0>=e)return 0;a=Sa(a,b,c,d);
a=Math.atan(a/(this.Vo-e));e=e*Math.tan(a);e>=this.Nb&&(e=this.Nb);0>e&&(e=0);return e};q.qb=function(a){a.Yd(this.opacity);this.qo();var c,e,f,g,h,k,l,m,p,r;c=0;for(e=b.length;c<e;++c)if(f=b[c],f.A.shadowcasterEnabled&&this.Rn(f.A.shadowcasterTag))if(f.Q(),h=f.A.shadowcasterHeight,f.zd){f.Ig(this.U,d);l=f.x;m=f.y;f=0;for(g=d.length;f<g;++f)k=d[f],p=k.Z,k.sb?(k=k.sb,r=p.left,p=p.top):(D.Se(p,0,0),k=D,p=r=0),this.mi(k,l+r,m+p,h,!1),6>w.length||(a.Ja(this.P),a.Un(w),-1<y&&-1<x&&(a.Ja(this.cc),this.yi(a,
!0)),-1<n&&-1<t&&(a.Ja(this.cc),this.yi(a,!1)),T(v),T(w));T(d)}else f.F&&!f.F.sd()?(f.F.Oc(f.width,f.height,f.k),k=f.F):(D.Re(f.Ma,f.x,f.y,f.width,f.height),k=D),this.mi(k,f.x,f.y,h,Ta(0>f.width,0>f.height)),6>w.length||(a.Ja(this.P),a.Un(w),-1<y&&-1<x&&(a.Ja(this.cc),this.yi(a,!0)),-1<n&&-1<t&&(a.Ja(this.cc),this.yi(a,!1)),T(v),T(w));T(b)};q.yi=function(a,b){var d=this.Ee,e=this.Fe,f,g,k,l,m,r;b?(k=C,l=qa,m=E,r=X):(k=U,l=aa,m=N,r=R);var q=this.ag,u=Oa(d,e,h,p),v=Math.PI/2;b&&(v=-v);d+=Math.cos(u+
v)*q;e+=Math.sin(u+v)*q;q=!1;if(b){if(q=y!==x)f=c[2*y],g=c[2*y+1]}else if(q=n!==t)f=c[2*t],g=c[2*t+1];var u=q?Oa(f,g,k,l):Oa(d,e,k,l),v=k+Math.cos(u)*this.Nb,w=l+Math.sin(u)*this.Nb,D,I,J,wb=J=0,xb=1;q&&(J=Oa(d,e,f,g),D=f+Math.cos(J)*this.Nb,I=g+Math.sin(J)*this.Nb,d=Oa(k,l,m,r),J=Pa(u,J)/Pa(d,J),u=Sa(f,g,k,l),u=u/(u+this.Nb),d=Oa(0,1,J,0),e=Sa(0,1,J,0),wb+=Math.cos(d)*u*e,xb+=Math.sin(d)*u*e);a.om(k,l,m,r,v,w,v,w,wb,xb,1,0,J,0,J,0);q&&a.om(f,g,v,w,D,I,D,I,0,1,J,0,0,0,0,0)};q.Mk=function(){this.b.j&&
(this.P&&(this.b.j.deleteTexture(this.P),this.P=null),this.cc&&(this.b.j.deleteTexture(this.cc),this.cc=null),this.dt(),this.gt())};q.dt=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.gh+","+this.fh+","+this.eh+")";b.fillRect(0,0,16,16);this.P=this.b.j.Bb(16,16,!1,!1,!0);this.b.j.fk(a,this.P)};q.gt=function(){var b=f.width,c=f.height,d=this.gh,e=this.fh,g=this.eh,h=a,k=document.createElement("canvas");k.width=b;k.height=c;
var l=k.getContext("2d"),n=l.createImageData(b,c),m=n.data,p,r;p=0;for(r=m.length;p<r;p+=4)m[p]=d,m[p+1]=e,m[p+2]=g,m[p+3]=h[p+3];l.putImageData(n,0,0);this.cc=this.b.j.Bb(b,c,this.b.qa,!1,!1);this.b.j.fk(k,this.cc)};r.g=new function(){};k.prototype.os=function(a){var b=xa(a),c=ya(a);a=za(a);if(this.gh!==b||this.fh!==c||this.eh!==a)this.gh=b,this.fh=c,this.eh=a,this.Mk(),this.b.da=!0};r.G=new k;r.n=new function(){}})();function yc(g){this.b=g}
(function(){var g=yc.prototype;g.ga=function(g){this.behavior=g;this.b=g.b};g.ga.prototype.J=function(){};g.R=function(g,m){this.type=g;this.behavior=g.behavior;this.m=m;this.b=g.b};var m=g.R.prototype;m.J=function(){this.Dn=this.B[0];this.En=this.B[1];this.Os=this.B[2];this.Ns=this.B[3];this.m.Q();this.$m=this.m.U.left;this.cn=this.m.U.top;this.an=this.b.Aa-this.m.U.left;this.bn=this.b.za-this.m.U.top;this.tm=this.b.Aa-this.m.U.right;this.xk=this.b.za-this.m.U.bottom;this.enabled=0!==this.B[4]};
m.bb=function(){return{xleft:this.$m,ytop:this.cn,xright:this.an,ybottom:this.bn,rdiff:this.tm,bdiff:this.xk,enabled:this.enabled}};m.rb=function(g){this.$m=g.xleft;this.cn=g.ytop;this.an=g.xright;this.bn=g.ybottom;this.tm=g.rdiff;this.xk=g.bdiff;this.enabled=g.enabled};m.Fc=function(){if(this.enabled){var g,m=this.m.i,q=this.m,u=this.m.U;0===this.Dn?(q.Q(),g=m.aa+this.$m-u.left,0!==g&&(q.x+=g,q.oa())):1===this.Dn&&(q.Q(),g=m.fa-this.an-u.left,0!==g&&(q.x+=g,q.oa()));0===this.En?(q.Q(),g=m.ba+this.cn-
u.top,0!==g&&(q.y+=g,q.oa())):1===this.En&&(q.Q(),g=m.ea-this.bn-u.top,0!==g&&(q.y+=g,q.oa()));1===this.Os&&(q.Q(),g=m.fa-this.tm-u.right,0!==g&&(q.width+=g,0>q.width&&(q.width=0),q.oa()));1===this.Ns&&(q.Q(),g=m.ea-this.xk-u.bottom,0!==g&&(q.height+=g,0>q.height&&(q.height=0),q.oa()))}};g.g=new function(){};g.G=new function(){};g.n=new function(){}})();function zc(g){this.b=g}
(function(){function g(){}var m=zc.prototype;m.ga=function(g){this.behavior=g;this.b=g.b};var k=m.ga.prototype;k.J=function(){this.Wc=[]};k.Ye=function(g){var f,a,b;f=0;for(a=g.N.length;f<a;++f)if(b=g.N[f],b instanceof zc.prototype.R&&b.type===this)return b;return null};m.R=function(g,f){this.type=g;this.behavior=g.behavior;this.m=f;this.b=g.b};k=m.R.prototype;k.J=function(){this.pj=this.B[0];this.qm=this.B[1];this.Kk=V(this.B[2]);this.Rh=0!==this.B[3]};k.xc=function(){};k.bb=function(){var g={r:this.qm,
c:this.Kk,t:[]},f,a;f=0;for(a=this.type.Wc.length;f<a;f++)g.t.push(this.type.Wc[f].X);return g};k.rb=function(g){this.qm=g.r;this.Kk=g.c;T(this.type.Wc);var f,a,b;f=0;for(a=g.t.length;f<a;f++)(b=this.b.Kg(g.t[f]))&&this.type.Wc.push(b)};k.Fc=function(){};var r=[],q=new S(0,0,0,0);k.mv=function(g,f){var a=this.m.x,b=this.m.y,d=this.m.k;0>this.m.width&&(d+=Math.PI);if(Sa(a,b,g,f)>this.qm||Pa(d,Oa(a,b,g,f))>this.Kk/2)return!1;var c,e;q.set(a,b,g,f);q.normalize();if(0===this.pj)for(this.Rh?this.b.ro(this.m.i,
q,r):(d=this.b.Nj)&&Fa(r,d.rh.fd()),d=0,c=r.length;d<c;++d){if(e=r[d],e.A.solidEnabled&&e!==this.m&&this.b.kq(a,b,g,f,e))return T(r),!1}else{if(this.Rh)this.b.Oi(this.m.i,this.type.Wc,q,r);else for(d=0,c=this.type.Wc.length;d<c;++d)Fa(r,this.type.Wc[d].e);d=0;for(c=r.length;d<c;++d)if(e=r[d],e!==this.m&&this.b.kq(a,b,g,f,e))return T(r),!1}T(r);return!0};new ea;new ea;g.prototype.Ar=function(g,f){return this.mv(g,f)};m.g=new g;m.G=new function(){};m.n=new function(){}})();function Ac(g){this.b=g}
(function(){var g=Ac.prototype;g.ga=function(g){this.behavior=g;this.b=g.b};g.ga.prototype.J=function(){};g.R=function(g,m){this.type=g;this.behavior=g.behavior;this.m=m;this.b=g.b};var m=g.R.prototype;m.J=function(){this.Sb={}};m.xc=function(){Wa(this.Sb)};m.bb=function(){var g={},m,q;for(m in this.Sb)this.Sb.hasOwnProperty(m)&&(q=this.Sb[m],g[m]={c:q.current.ja,t:q.total.ja,d:q.duration,r:q.Qp});return g};m.rb=function(g){this.Sb={};for(var m in g)g.hasOwnProperty(m)&&(this.Sb[m]={current:new bb,
total:new bb,duration:g[m].d,Qp:g[m].r},this.Sb[m].current.ja=g[m].c,this.Sb[m].total.ja=g[m].t)};m.Fc=function(){var g=this.b.hl(this.m),m,q;for(m in this.Sb)this.Sb.hasOwnProperty(m)&&(q=this.Sb[m],q.current.add(g),q.total.add(g))};m.Oh=function(){var g,m;for(g in this.Sb)this.Sb.hasOwnProperty(g)&&(m=this.Sb[g],m.current.ja>=m.duration&&(m.Qp?m.current.ja-=m.duration:delete this.Sb[g]))};g.g=new function(){};g.G=new function(){};g.n=new function(){}})();function oc(g){this.b=g;this.cm=[]}
(function(){function g(){}function m(){}function k(){}var r=oc.prototype;r.ga=function(g,f){this.behavior=g;this.b=g.b;-1===this.behavior.cm.indexOf(f)&&this.behavior.cm.push(f)};r.ga.prototype.J=function(){};r.R=function(g,f){this.type=g;this.behavior=g.behavior;this.m=f;this.b=g.b};var q=r.R.prototype;q.J=function(){this.m.A.shadowcasterEnabled=0!==this.B[0];this.m.A.shadowcasterHeight=this.B[1];this.m.A.shadowcasterTag=this.B[2]};q.Fc=function(){};g.prototype.cr=function(g,f){return dc(this.m.A.shadowcasterHeight,
g,f)};r.g=new g;m.prototype.ls=function(g){this.m.A.shadowcasterHeight!==g&&(this.m.A.shadowcasterHeight=g,this.b.da=!0)};r.G=new m;k.prototype.mk=function(g){g.u(this.m.A.shadowcasterHeight)};r.n=new k})();function nc(g){this.b=g}
(function(){var g=nc.prototype;g.ga=function(g){this.behavior=g;this.b=g.b};g.ga.prototype.J=function(){};g.R=function(g,m){this.type=g;this.behavior=g.behavior;this.m=m;this.b=g.b};var m=g.R.prototype;m.J=function(){this.m.A.solidEnabled=0!==this.B[0]};m.Fc=function(){};g.g=new function(){};g.G=new function(){}})();
function mc(){return[rc,Y,wc,qc,sc,xc,pc,tc,vc,Z,uc,yc,Ac,nc,oc,zc,W.prototype.g.ln,sc.prototype.G.xr,W.prototype.n.random,pc.prototype.G.kk,xc.prototype.G.os,W.prototype.n.ow,uc.prototype.G.kk,W.prototype.g.Gr,W.prototype.G.ns,W.prototype.g.$q,W.prototype.n.jw,xc.prototype.G.kk,sc.prototype.g.jn,rc.prototype.g.Pq,rc.prototype.G.vs,rc.prototype.n.or,rc.prototype.n.pr,sc.prototype.n.Jf,W.prototype.n["int"],rc.prototype.g.br,vc.prototype.G.rs,rc.prototype.n.Qq,sc.prototype.g.ur,W.prototype.G.gr,sc.prototype.n.lr,
sc.prototype.n.nr,sc.prototype.n.mr,sc.prototype.n.jr,uc.prototype.G.vn,uc.prototype.G.Kr,sc.prototype.n.kr,W.prototype.G.js,pc.prototype.n.rk,pc.prototype.n.sk,pc.prototype.G.Ds,W.prototype.G.ss,sc.prototype.n.hr,sc.prototype.n.ir,W.prototype.G.As,W.prototype.g.Fr,W.prototype.g.sr,xc.prototype.G.un,W.prototype.n.xw,W.prototype.n.yw,pc.prototype.g.Hr,W.prototype.n.Ev,W.prototype.n.$s,uc.prototype.n.Sq,uc.prototype.n.xn,uc.prototype.n.Tq,W.prototype.n.gf,uc.prototype.n.Uq,uc.prototype.n.mk,uc.prototype.n.Rq,
W.prototype.g.gn,W.prototype.n.cos,pc.prototype.n.Mq,W.prototype.n.sin,W.prototype.g.er,pc.prototype.G.un,pc.prototype.G.ks,W.prototype.n.Ps,pc.prototype.g.dr,zc.prototype.g.Ar,Z.prototype.n.rk,Z.prototype.n.sk,pc.prototype.G.ms,Z.prototype.n.Nq,W.prototype.g.rr,W.prototype.G.Lq,W.prototype.g.tr,wc.prototype.G.zs,W.prototype.n.Hv,wc.prototype.g.Br,W.prototype.G.ws,wc.prototype.n.Lr,tc.prototype.G.qs,pc.prototype.g.Pr,Z.prototype.g.pk,Y.prototype.g.xs,Y.prototype.g.Er,Y.prototype.G.Xq,Y.prototype.G.hs,
W.prototype.n.Ji]};
