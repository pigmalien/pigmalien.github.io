// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var ba,fa,ga,ha,A,ia,ja,ka,F,la,na,oa,pa,qa,ra,R,sa,ta,S,ua,va,wa,xa,T,ya,Ca,Da,Ea,Fa,U,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(a,c,g,h){this.set(a,c,g,h)}function m(){this.sb=this.rb=this.ub=this.tb=this.Bb=this.Ab=this.$a=this.Za=0}function k(a,c,g,h){a<c?g<h?(x=a<g?a:g,z=c>h?c:h):(x=a<h?a:h,z=c>g?c:g):g<h?(x=c<g?c:g,z=a>h?a:h):(x=c<h?c:h,z=a>g?a:g)}function p(){this.items=this.Ed=null;this.xh=0;v&&(this.Ed=new Set);this.Ig=[];this.te=!0}function t(a){w[J++]=a}function r(){this.U=this.Hb=this.y=this.Uk=0}function b(a){this.na=[];this.Ai=this.Ci=this.Di=this.Bi=0;this.Zh(a)}function a(a,c){this.Ra=
a;this.ab=c;this.cells={}}function e(a,c){this.Ra=a;this.ab=c;this.cells={}}function f(a,c,g){var h;return D.length?(h=D.pop(),h.Ml=a,h.x=c,h.y=g,h):new fa(a,c,g)}function c(a,c,h){this.Ml=a;this.x=c;this.y=h;this.gb=new ga}function g(a,c,h){var g;return ca.length?(g=ca.pop(),g.Ml=a,g.x=c,g.y=h,g):new ha(a,c,h)}function u(a,c,h){this.Ml=a;this.x=c;this.y=h;this.gb=[];this.mg=!0;this.Cd=new ga;this.Mg=!1}function q(a,c){return a.sd-c.sd}A=function(a){window.console&&window.console.log&&window.console.log(a)};
ia=function(a){window.console&&window.console.error&&window.console.error(a)};ba=function(a){return a};ja=function(a){return"undefined"===typeof a};ka=function(a){return"number"===typeof a};F=function(a){return"string"===typeof a};la=function(a){return 0<a&&0===(a-1&a)};na=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};oa=function(a){return 0>a?-a:a};pa=function(a,c){return a>c?a:c};qa=function(a,c){return a<c?a:c};ra=Math.PI;R=function(a){return 0<=a?a|0:(a|0)-1};sa=function(a){var c=
a|0;return c===a?c:c+1};ta=function(a,c,h,g,e,b,f,l){var q,B,C,v;a<h?(B=a,q=h):(B=h,q=a);e<f?(v=e,C=f):(v=f,C=e);if(q<v||B>C)return!1;c<g?(B=c,q=g):(B=g,q=c);b<l?(v=b,C=l):(v=l,C=b);if(q<v||B>C)return!1;q=e-a+f-h;B=b-c+l-g;a=h-a;c=g-c;e=f-e;b=l-b;l=oa(c*e-b*a);return oa(e*B-b*q)>l?!1:oa(a*B-c*q)<=l};d.prototype.set=function(a,c,h,g){this.left=a;this.top=c;this.right=h;this.bottom=g};d.prototype.qf=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};d.prototype.width=
function(){return this.right-this.left};d.prototype.height=function(){return this.bottom-this.top};d.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};d.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};d.prototype.Tl=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};d.prototype.Ul=
function(a,c,h){return!(a.right+c<this.left||a.bottom+h<this.top||a.left+c>this.right||a.top+h>this.bottom)};d.prototype.Ia=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};d.prototype.Vg=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};S=d;m.prototype.Cg=function(a){this.Za=a.left;this.$a=a.top;this.Ab=a.right;this.Bb=a.top;this.tb=a.right;this.ub=a.bottom;this.rb=a.left;this.sb=a.bottom};m.prototype.vq=function(a,
c){if(0===c)this.Cg(a);else{var h=Math.sin(c),g=Math.cos(c),e=a.left*h,b=a.top*h,f=a.right*h,h=a.bottom*h,l=a.left*g,q=a.top*g,B=a.right*g,g=a.bottom*g;this.Za=l-b;this.$a=q+e;this.Ab=B-b;this.Bb=q+f;this.tb=B-h;this.ub=g+f;this.rb=l-h;this.sb=g+e}};m.prototype.offset=function(a,c){this.Za+=a;this.$a+=c;this.Ab+=a;this.Bb+=c;this.tb+=a;this.ub+=c;this.rb+=a;this.sb+=c;return this};var x=0,z=0;m.prototype.lo=function(a){k(this.Za,this.Ab,this.tb,this.rb);a.left=x;a.right=z;k(this.$a,this.Bb,this.ub,
this.sb);a.top=x;a.bottom=z};m.prototype.Ia=function(a,c){var h=this.Za,g=this.$a,e=this.Ab-h,b=this.Bb-g,f=this.tb-h,l=this.ub-g,q=a-h,B=c-g,C=e*e+b*b,v=e*f+b*l,b=e*q+b*B,u=f*f+l*l,w=f*q+l*B,d=1/(C*u-v*v),e=(u*b-v*w)*d,C=(C*w-v*b)*d;if(0<=e&&0<C&&1>e+C)return!0;e=this.rb-h;b=this.sb-g;C=e*e+b*b;v=e*f+b*l;b=e*q+b*B;d=1/(C*u-v*v);e=(u*b-v*w)*d;C=(C*w-v*b)*d;return 0<=e&&0<C&&1>e+C};m.prototype.Qa=function(a,c){if(c)switch(a){case 0:return this.Za;case 1:return this.Ab;case 2:return this.tb;case 3:return this.rb;
case 4:return this.Za;default:return this.Za}else switch(a){case 0:return this.$a;case 1:return this.Bb;case 2:return this.ub;case 3:return this.sb;case 4:return this.$a;default:return this.$a}};m.prototype.Hp=function(){return(this.Za+this.Ab+this.tb+this.rb)/4};m.prototype.Ip=function(){return(this.$a+this.Bb+this.ub+this.sb)/4};m.prototype.ph=function(a,c,h,g){if(this.Ia(a,c)||this.Ia(h,g))return!0;var e,b,f,l,q;for(q=0;4>q;q++)if(e=this.Qa(q,!0),b=this.Qa(q,!1),f=this.Qa(q+1,!0),l=this.Qa(q+1,
!1),ta(a,c,h,g,e,b,f,l))return!0;return!1};m.prototype.Vo=function(a){var c=a.Hp(),h=a.Ip();if(this.Ia(c,h))return!0;c=this.Hp();h=this.Ip();if(a.Ia(c,h))return!0;var g,e,b,f,l,q,B,C;for(B=0;4>B;B++)for(C=0;4>C;C++)if(c=this.Qa(B,!0),h=this.Qa(B,!1),g=this.Qa(B+1,!0),e=this.Qa(B+1,!1),b=a.Qa(C,!0),f=a.Qa(C,!1),l=a.Qa(C+1,!0),q=a.Qa(C+1,!1),ta(c,h,g,e,b,f,l,q))return!0;return!1};ua=m;va=function(a,c){for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);return a};wa=function(a,c){var h,g;c=R(c);if(!(0>c||
c>=a.length)){h=c;for(g=a.length-1;h<g;h++)a[h]=a[h+1];xa(a,g)}};xa=function(a,c){a.length=c};T=function(a){xa(a,0)};ya=function(a,c){T(a);var h,g;h=0;for(g=c.length;h<g;++h)a[h]=c[h]};Ca=function(a,c){a.push.apply(a,c)};Da=function(a,c){var h,g;h=0;for(g=a.length;h<g;++h)if(a[h]===c)return h;return-1};Ea=function(a,c){var h=Da(a,c);-1!==h&&wa(a,h)};Fa=function(a,c,h){return a<c?c:a>h?h:a};U=function(a){return a/(180/ra)};Ga=function(a){return 180/ra*a};Ha=function(a){a%=360;0>a&&(a+=360);return a};
Ia=function(a){a%=2*ra;0>a&&(a+=2*ra);return a};Ja=function(a){return Ha(Ga(a))};Ka=function(a){return Ia(U(a))};La=function(a,c,h,g){return Math.atan2(g-c,h-a)};Ma=function(a,c){if(a===c)return 0;var h=Math.sin(a),g=Math.cos(a),e=Math.sin(c),b=Math.cos(c),h=h*e+g*b;return 1<=h?0:-1>=h?ra:Math.acos(h)};Na=function(a,c,h){var g=Math.sin(a),e=Math.cos(a),b=Math.sin(c),f=Math.cos(c);return Math.acos(g*b+e*f)>h?0<e*b-g*f?Ia(a+h):Ia(a-h):Ia(c)};Oa=function(a,c){var h=Math.sin(a),g=Math.cos(a),e=Math.sin(c),
b=Math.cos(c);return 0>=g*e-h*b};Pa=function(a,c,h,g){a=h-a;c=g-c;return Math.sqrt(a*a+c*c)};Qa=function(a,c){return!a!==!c};Ra=function(a,c,h){return a+(c-a)*h};Sa=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};Ta=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var n=+new Date;Ua=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==
typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-n};var l=!1,h=l=!1,y=!1;"undefined"!==typeof window&&(l=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),l=!l&&/safari/i.test(navigator.userAgent),h=/(iphone|ipod|ipad)/i.test(navigator.userAgent),y=window.c2ejecta);var v=!l&&!y&&!h&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.Yd()?!1:v?this.Ed.has(a):this.items&&
this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(v)this.Ed.has(a)||(this.Ed.add(a),this.te=!1);else{var c=a.toString(),h=this.items;h?h.hasOwnProperty(c)||(h[c]=a,this.xh++,this.te=!1):(this.items={},this.items[c]=a,this.xh=1,this.te=!1)}};p.prototype.remove=function(a){if(!this.Yd())if(v)this.Ed.has(a)&&(this.Ed["delete"](a),this.te=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.xh--,this.te=!1)}};p.prototype.clear=function(){this.Yd()||
(v?this.Ed.clear():(this.items=null,this.xh=0),T(this.Ig),this.te=!0)};p.prototype.Yd=function(){return 0===this.count()};p.prototype.count=function(){return v?this.Ed.size:this.xh};var w=null,J=0;p.prototype.wx=function(){if(!this.te){if(v)T(this.Ig),w=this.Ig,J=0,this.Ed.forEach(t),w=null,J=0;else{var a=this.Ig;T(a);var c,h=0,g=this.items;if(g)for(c in g)g.hasOwnProperty(c)&&(a[h++]=g[c])}this.te=!0}};p.prototype.Jd=function(){this.wx();return this.Ig};ga=p;new ga;Va=function(a,c){v?Wa(a,c.Ed):
Xa(a,c.Jd())};Wa=function(a,c){var h,g,e,b;g=h=0;for(e=a.length;h<e;++h)b=a[h],c.has(b)||(a[g++]=b);xa(a,g)};Xa=function(a,c){var h,g,e,b;g=h=0;for(e=a.length;h<e;++h)b=a[h],-1===Da(c,b)&&(a[g++]=b);xa(a,g)};r.prototype.add=function(a){this.y=a-this.Uk;this.Hb=this.U+this.y;this.Uk=this.Hb-this.U-this.y;this.U=this.Hb};r.prototype.reset=function(){this.U=this.Hb=this.y=this.Uk=0};Ya=r;Za=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};b.prototype.Zh=function(a){this.fq=a;this.Fb=
a.length/2;this.na.length=a.length;this.Fi=this.Gi=-1;this.po=0};b.prototype.Je=function(){return!this.fq.length};b.prototype.Y=function(){for(var a=this.na,c=a[0],h=c,g=a[1],e=g,b,f,l=1,q=this.Fb;l<q;++l)f=2*l,b=a[f],f=a[f+1],b<c&&(c=b),b>h&&(h=b),f<g&&(g=f),f>e&&(e=f);this.Bi=c;this.Ci=h;this.Di=g;this.Ai=e};b.prototype.Cg=function(a,c,h){this.na.length=8;this.Fb=4;var g=this.na;g[0]=a.left-c;g[1]=a.top-h;g[2]=a.right-c;g[3]=a.top-h;g[4]=a.right-c;g[5]=a.bottom-h;g[6]=a.left-c;g[7]=a.bottom-h;this.Gi=
a.right-a.left;this.Fi=a.bottom-a.top;this.Y()};b.prototype.Bg=function(a,c,h,g,e){this.na.length=8;this.Fb=4;var b=this.na;b[0]=a.Za-c;b[1]=a.$a-h;b[2]=a.Ab-c;b[3]=a.Bb-h;b[4]=a.tb-c;b[5]=a.ub-h;b[6]=a.rb-c;b[7]=a.sb-h;this.Gi=g;this.Fi=e;this.Y()};b.prototype.uq=function(a){this.Fb=a.Fb;ya(this.na,a.na);this.Bi=a.Bi;this.Di-a.Di;this.Ci=a.Ci;this.Ai=a.Ai};b.prototype.Nd=function(a,c,h){if(this.Gi!==a||this.Fi!==c||this.po!==h){this.Gi=a;this.Fi=c;this.po=h;var g,e,b,f,l,q=0,B=1,C=this.fq,v=this.na;
0!==h&&(q=Math.sin(h),B=Math.cos(h));h=0;for(b=this.Fb;h<b;h++)g=2*h,e=g+1,f=C[g]*a,l=C[e]*c,v[g]=f*B-l*q,v[e]=l*B+f*q;this.Y()}};b.prototype.Ia=function(a,c){var h=this.na;if(a===h[0]&&c===h[1])return!0;var g,e,b,f=this.Fb,l=this.Bi-110,q=this.Di-101,B=this.Ci+131,C=this.Ai+120,v,u,w=0,d=0;for(g=0;g<f;g++)e=2*g,b=(g+1)%f*2,v=h[e],e=h[e+1],u=h[b],b=h[b+1],ta(l,q,a,c,v,e,u,b)&&w++,ta(B,C,a,c,v,e,u,b)&&d++;return 1===w%2||1===d%2};b.prototype.oh=function(a,c,h){var g=a.na,e=this.na;if(this.Ia(g[0]+
c,g[1]+h)||a.Ia(e[0]-c,e[1]-h))return!0;var b,f,l,q,B,C,v,u,w,d,x,n;b=0;for(q=this.Fb;b<q;b++)for(f=2*b,l=(b+1)%q*2,u=e[f],f=e[f+1],w=e[l],d=e[l+1],l=0,v=a.Fb;l<v;l++)if(B=2*l,C=(l+1)%v*2,x=g[B]+c,B=g[B+1]+h,n=g[C]+c,C=g[C+1]+h,ta(u,f,w,d,x,B,n,C))return!0;return!1};b.prototype.ph=function(a,c,h,g,e,b){var f=this.na;if(this.Ia(h-a,g-c))return!0;var l,q,B,C,v,u;l=0;for(q=this.Fb;l<q;l++)if(B=2*l,C=(l+1)%q*2,v=f[B]+a,B=f[B+1]+c,u=f[C]+a,C=f[C+1]+c,ta(h,g,e,b,v,B,u,C))return!0;return!1};b.prototype.rw=
function(a){var c,h,g;c=0;for(h=this.Fb;c<h;++c)g=2*c,this.na[g]=2*a-this.na[g]};b.prototype.Zu=function(a){var c,h,g;c=0;for(h=this.Fb;c<h;++c)g=2*c+1,this.na[g]=2*a-this.na[g]};b.prototype.Ot=function(){var a,c,h,g,e;a=0;for(c=this.Fb;a<c;++a)h=2*a,g=h+1,e=this.na[h],this.na[h]=this.na[g],this.na[g]=e};$a=b;a.prototype.Ce=function(a,c,h){var g;g=this.cells[a];return g?(g=g[c])?g:h?(g=f(this,a,c),this.cells[a][c]=g):null:h?(g=f(this,a,c),this.cells[a]={},this.cells[a][c]=g):null};a.prototype.Jb=
function(a){return R(a/this.Ra)};a.prototype.Kb=function(a){return R(a/this.ab)};a.prototype.update=function(a,c,h){var g,e,b,f,l;if(c)for(g=c.left,e=c.right;g<=e;++g)for(b=c.top,f=c.bottom;b<=f;++b)if(!h||!h.Ia(g,b))if(l=this.Ce(g,b,!1))l.remove(a),l.Yd()&&(l.gb.clear(),1E3>D.length&&D.push(l),this.cells[g][b]=null);if(h)for(g=h.left,e=h.right;g<=e;++g)for(b=h.top,f=h.bottom;b<=f;++b)c&&c.Ia(g,b)||this.Ce(g,b,!0).Rl(a)};a.prototype.Uj=function(a,c){var h,g,e,b,f,l;h=this.Jb(a.left);e=this.Kb(a.top);
g=this.Jb(a.right);for(f=this.Kb(a.bottom);h<=g;++h)for(b=e;b<=f;++b)(l=this.Ce(h,b,!1))&&l.dump(c)};ab=a;e.prototype.Ce=function(a,c,h){var e;e=this.cells[a];return e?(e=e[c])?e:h?(e=g(this,a,c),this.cells[a][c]=e):null:h?(e=g(this,a,c),this.cells[a]={},this.cells[a][c]=e):null};e.prototype.Jb=function(a){return R(a/this.Ra)};e.prototype.Kb=function(a){return R(a/this.ab)};e.prototype.update=function(a,c,h){var g,e,b,f,l;if(c)for(g=c.left,e=c.right;g<=e;++g)for(b=c.top,f=c.bottom;b<=f;++b)if(!h||
!h.Ia(g,b))if(l=this.Ce(g,b,!1))l.remove(a),l.Yd()&&(l.reset(),1E3>ca.length&&ca.push(l),this.cells[g][b]=null);if(h)for(g=h.left,e=h.right;g<=e;++g)for(b=h.top,f=h.bottom;b<=f;++b)c&&c.Ia(g,b)||this.Ce(g,b,!0).Rl(a)};e.prototype.Uj=function(a,c,h,g,e){var b,f;a=this.Jb(a);c=this.Kb(c);h=this.Jb(h);for(b=this.Kb(g);a<=h;++a)for(g=c;g<=b;++g)(f=this.Ce(a,g,!1))&&f.dump(e)};e.prototype.ow=function(a){var c,h,g,e,b;c=a.left;g=a.top;h=a.right;for(e=a.bottom;c<=h;++c)for(a=g;a<=e;++a)if(b=this.Ce(c,a,
!1))b.mg=!1};bb=e;var D=[];c.prototype.Yd=function(){return this.gb.Yd()};c.prototype.Rl=function(a){this.gb.add(a)};c.prototype.remove=function(a){this.gb.remove(a)};c.prototype.dump=function(a){Ca(a,this.gb.Jd())};fa=c;var ca=[];u.prototype.Yd=function(){if(!this.gb.length)return!0;if(this.gb.length>this.Cd.count())return!1;this.ul();return!0};u.prototype.Rl=function(a){this.Cd.contains(a)?(this.Cd.remove(a),this.Cd.Yd()&&(this.Mg=!1)):this.gb.length?(this.gb[this.gb.length-1].zd()>a.zd()&&(this.mg=
!1),this.gb.push(a)):(this.gb.push(a),this.mg=!0)};u.prototype.remove=function(a){this.Cd.add(a);this.Mg=!0;30<=this.Cd.count()&&this.ul()};u.prototype.ul=function(){this.Mg&&(this.Cd.count()===this.gb.length?this.reset():(Va(this.gb,this.Cd),this.Cd.clear(),this.Mg=!1))};u.prototype.qu=function(){this.mg||(this.gb.sort(q),this.mg=!0)};u.prototype.reset=function(){T(this.gb);this.mg=!0;this.Cd.clear();this.Mg=!1};u.prototype.dump=function(a){this.ul();this.qu();this.gb.length&&a.push(this.gb)};ha=
u;var ea="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");cb=function(a){return 0>=a||11<=a?"source-over":ea[a-1]};db=function(a,c,h){if(h)switch(a.yb=h.ONE,a.wb=h.ONE_MINUS_SRC_ALPHA,c){case 1:a.yb=h.ONE;a.wb=h.ONE;break;case 3:a.yb=h.ONE;a.wb=h.ZERO;break;case 4:a.yb=h.ONE_MINUS_DST_ALPHA;a.wb=h.ONE;break;case 5:a.yb=h.DST_ALPHA;a.wb=h.ZERO;break;case 6:a.yb=h.ZERO;a.wb=h.SRC_ALPHA;break;case 7:a.yb=h.ONE_MINUS_DST_ALPHA;
a.wb=h.ZERO;break;case 8:a.yb=h.ZERO;a.wb=h.ONE_MINUS_SRC_ALPHA;break;case 9:a.yb=h.DST_ALPHA;a.wb=h.ONE_MINUS_SRC_ALPHA;break;case 10:a.yb=h.ONE_MINUS_DST_ALPHA,a.wb=h.SRC_ALPHA}};eb=function(a){return Math.round(1E6*a)/1E6};fb=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};gb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||fb(a.tagName,"canvas")?!0:!1}})();
var $b="undefined"!==typeof Float32Array?Float32Array:Array;function ac(d){var m=new $b(3);d&&(m[0]=d[0],m[1]=d[1],m[2]=d[2]);return m}function bc(d){var m=new $b(16);d&&(m[0]=d[0],m[1]=d[1],m[2]=d[2],m[3]=d[3],m[4]=d[4],m[5]=d[5],m[6]=d[6],m[7]=d[7],m[8]=d[8],m[9]=d[9],m[10]=d[10],m[11]=d[11],m[12]=d[12],m[13]=d[13],m[14]=d[14],m[15]=d[15]);return m}
function cc(d,m){m[0]=d[0];m[1]=d[1];m[2]=d[2];m[3]=d[3];m[4]=d[4];m[5]=d[5];m[6]=d[6];m[7]=d[7];m[8]=d[8];m[9]=d[9];m[10]=d[10];m[11]=d[11];m[12]=d[12];m[13]=d[13];m[14]=d[14];m[15]=d[15]}function dc(d,m){var k=m[0],p=m[1];m=m[2];d[0]*=k;d[1]*=k;d[2]*=k;d[3]*=k;d[4]*=p;d[5]*=p;d[6]*=p;d[7]*=p;d[8]*=m;d[9]*=m;d[10]*=m;d[11]*=m}
function ec(d,m,k,p){p||(p=bc());var t,r,b,a,e,f,c,g,u=d[0],q=d[1];d=d[2];r=k[0];b=k[1];t=k[2];k=m[1];f=m[2];u===m[0]&&q===k&&d===f?(d=p,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(k=u-m[0],f=q-m[1],c=d-m[2],g=1/Math.sqrt(k*k+f*f+c*c),k*=g,f*=g,c*=g,m=b*c-t*f,t=t*k-r*c,r=r*f-b*k,(g=Math.sqrt(m*m+t*t+r*r))?(g=1/g,m*=g,t*=g,r*=g):r=t=m=0,b=f*r-c*t,a=c*m-k*r,e=k*t-f*m,(g=Math.sqrt(b*b+a*a+e*e))?(g=1/g,b*=g,a*=g,e*=g):e=a=b=0,
p[0]=m,p[1]=b,p[2]=k,p[3]=0,p[4]=t,p[5]=a,p[6]=f,p[7]=0,p[8]=r,p[9]=e,p[10]=c,p[11]=0,p[12]=-(m*u+t*q+r*d),p[13]=-(b*u+a*q+e*d),p[14]=-(k*u+f*q+c*d),p[15]=1)}
(function(){function d(a,e,b){this.He=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.ra=!!b;this.lj=this.qh=!1;this.Mi=0;this.Fk=1;this.An=1E3;this.Hx=(this.An-this.Fk)/32768;this.Vk=ac([0,0,100]);this.pp=ac([0,0,0]);this.Tq=ac([0,1,0]);this.oi=ac([1,1,1]);this.wo=!0;this.Ej=bc();this.qc=bc();this.gm=bc();this.gl=bc();this.B=a;this.version=0===this.B.getParameter(this.B.VERSION).indexOf("WebGL 2")?2:1;this.Ro()}function m(a,e,b){this.B=a;this.$h=
e;this.name=b;this.Bc=a.getAttribLocation(e,"aPos");this.Pe=a.getAttribLocation(e,"aTex");this.np=a.getUniformLocation(e,"matP");this.Aj=a.getUniformLocation(e,"matMV");this.tg=a.getUniformLocation(e,"opacity");this.mm=a.getUniformLocation(e,"colorFill");this.op=a.getUniformLocation(e,"samplerFront");this.Dh=a.getUniformLocation(e,"samplerBack");this.If=a.getUniformLocation(e,"destStart");this.Hf=a.getUniformLocation(e,"destEnd");this.Fh=a.getUniformLocation(e,"seconds");this.om=a.getUniformLocation(e,
"pixelWidth");this.nm=a.getUniformLocation(e,"pixelHeight");this.Ch=a.getUniformLocation(e,"layerScale");this.Bh=a.getUniformLocation(e,"layerAngle");this.Gh=a.getUniformLocation(e,"viewOrigin");this.Eh=a.getUniformLocation(e,"scrollPos");this.Nv=!!(this.om||this.nm||this.Fh||this.Dh||this.If||this.Hf||this.Ch||this.Bh||this.Gh||this.Eh);this.xp=this.yp=-999;this.Dj=1;this.tp=this.sp=0;this.vp=this.rp=this.qp=1;this.Bp=this.Ap=this.zp=this.Dp=this.Cp=this.up=0;this.fm=[];this.wp=bc();this.tg&&a.uniform1f(this.tg,
1);this.mm&&a.uniform4f(this.mm,1,1,1,1);this.op&&a.uniform1i(this.op,0);this.Dh&&a.uniform1i(this.Dh,1);this.If&&a.uniform2f(this.If,0,0);this.Hf&&a.uniform2f(this.Hf,1,1);this.Ch&&a.uniform1f(this.Ch,1);this.Bh&&a.uniform1f(this.Bh,0);this.Gh&&a.uniform2f(this.Gh,0,0);this.Eh&&a.uniform2f(this.Eh,0,0);this.Fh&&a.uniform1f(this.Fh,0);this.zf=!1}function k(a,e){return a[0]===e[0]&&a[1]===e[1]&&a[2]===e[2]&&a[3]===e[3]&&a[4]===e[4]&&a[5]===e[5]&&a[6]===e[6]&&a[7]===e[7]&&a[8]===e[8]&&a[9]===e[9]&&
a[10]===e[10]&&a[11]===e[11]&&a[12]===e[12]&&a[13]===e[13]&&a[14]===e[14]&&a[15]===e[15]}function p(a,e){this.type=a;this.p=e;this.B=e.B;this.oc=this.zb=this.Xp=0;this.V=this.Lc=null;this.wq=[]}var t=bc();d.prototype.Ro=function(){var a=this.B,e;this.ip=1;this.Cf=this.Le=null;this.Li=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.ra?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.jp=a.ONE;this.hp=a.ONE_MINUS_SRC_ALPHA;this.mi=new Float32Array(8E3*(this.ra?3:2));this.fi=new Float32Array(16E3);this.bq=new Float32Array(32E3);this.Cm=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.Cm);a.bufferData(a.ARRAY_BUFFER,this.bq.byteLength,a.DYNAMIC_DRAW);this.li=Array(4);this.ei=Array(4);for(e=0;4>e;e++)this.li[e]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.li[e]),a.bufferData(a.ARRAY_BUFFER,this.mi.byteLength,a.DYNAMIC_DRAW),this.ei[e]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.ei[e]),a.bufferData(a.ARRAY_BUFFER,this.fi.byteLength,a.DYNAMIC_DRAW);this.Od=0;this.Rv=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Rv);for(var b=new Uint16Array(12E3),c=e=0;12E3>e;)b[e++]=c,b[e++]=c+1,b[e++]=c+2,b[e++]=c,b[e++]=c+2,b[e++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,b,a.STATIC_DRAW);this.Dm=this.df=this.Nc=0;this.Ha=[];e=this.ra?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";b=this.Sg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},e,"<default>");this.Ha.push(b);b=this.Sg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Ha.push(b);b=this.Sg({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},e,"<earlyz>");this.Ha.push(b);b=this.Sg({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
e,"<fill>");this.Ha.push(b);for(var g in fc)fc.hasOwnProperty(g)&&this.Ha.push(this.Sg(fc[g],e,g));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.vd=[];this.Sc=0;this.bb=!1;this.uo=this.yh=-1;this.$f=null;this.tl=a.createFramebuffer();this.Pi=this.Vj=null;this.io=!1;this.ra&&(this.Pi=a.createRenderbuffer());this.ff=ac([0,0,0]);this.Ep=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.Ep&&(this.Ep=2048);this.Vb(0)};m.prototype.rn=function(a){k(this.wp,a)||(cc(a,this.wp),this.B.uniformMatrix4fv(this.Aj,
!1,a))};d.prototype.Sg=function(a,e,b){var c=this.B,g=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(g,a.src);c.compileShader(g);if(!c.getShaderParameter(g,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(g),c.deleteShader(g),Error("error compiling fragment shader: "+a);var u=c.createShader(c.VERTEX_SHADER);c.shaderSource(u,e);c.compileShader(u);if(!c.getShaderParameter(u,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(u),c.deleteShader(g),c.deleteShader(u),Error("error compiling vertex shader: "+a);e=
c.createProgram();c.attachShader(e,g);c.attachShader(e,u);c.linkProgram(e);if(!c.getProgramParameter(e,c.LINK_STATUS))throw a=c.getProgramInfoLog(e),c.deleteShader(g),c.deleteShader(u),c.deleteProgram(e),Error("error linking shader program: "+a);c.useProgram(e);c.deleteShader(g);c.deleteShader(u);g=new m(c,e,b);g.rl=a.rl||0;g.sl=a.sl||0;g.to=!!a.to;g.fd=!!a.fd;g.eo=!!a.eo;g.W=a.W||[];a=0;for(u=g.W.length;a<u;a++)g.W[a][1]=c.getUniformLocation(e,g.W[a][0]),g.fm.push(0),c.uniform1f(g.W[a][1],0);return g};
d.prototype.Il=function(a){var e,b;e=0;for(b=this.Ha.length;e<b;e++)if(this.Ha[e].name===a)return e;return-1};d.prototype.dq=function(a,e,b){var c=this.qc,g=this.Ej,u=[0,0,0,0,0,0,0,0];u[0]=c[0]*a+c[4]*e+c[12];u[1]=c[1]*a+c[5]*e+c[13];u[2]=c[2]*a+c[6]*e+c[14];u[3]=c[3]*a+c[7]*e+c[15];u[4]=g[0]*u[0]+g[4]*u[1]+g[8]*u[2]+g[12]*u[3];u[5]=g[1]*u[0]+g[5]*u[1]+g[9]*u[2]+g[13]*u[3];u[6]=g[2]*u[0]+g[6]*u[1]+g[10]*u[2]+g[14]*u[3];u[7]=-u[2];0!==u[7]&&(u[7]=1/u[7],u[4]*=u[7],u[5]*=u[7],u[6]*=u[7],b[0]=(.5*u[4]+
.5)*this.width,b[1]=(.5*u[5]+.5)*this.height)};d.prototype.he=function(a,e,b){if(this.width!==a||this.height!==e||b){this.Sd();b=this.B;this.width=a;this.height=e;b.viewport(0,0,a,e);ec(this.Vk,this.pp,this.Tq,this.qc);if(this.ra){var c=-a/2;a=a/2;var g=e/2;e=-e/2;var u=this.Fk,q=this.An,d=this.Ej;d||(d=bc());var z=a-c,n=e-g,l=q-u;d[0]=2/z;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/n;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=-2/l;d[11]=0;d[12]=-(c+a)/z;d[13]=-(e+g)/n;d[14]=-(q+u)/l;d[15]=1;this.oi[0]=1;this.oi[1]=
1}else e=a/e,c=this.Fk,a=this.An,d=this.Ej,q=c*Math.tan(45*Math.PI/360),e*=q,g=-e,u=-q,d||(d=bc()),z=e-g,n=q-u,l=a-c,d[0]=2*c/z,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=2*c/n,d[6]=0,d[7]=0,d[8]=(e+g)/z,d[9]=(q+u)/n,d[10]=-(a+c)/l,d[11]=-1,d[12]=0,d[13]=0,d[14]=-(a*c*2)/l,d[15]=0,c=[0,0],a=[0,0],this.dq(0,0,c),this.dq(1,1,a),this.oi[0]=1/(a[0]-c[0]),this.oi[1]=-1/(a[1]-c[1]);c=0;for(a=this.Ha.length;c<a;c++)g=this.Ha[c],g.zf=!1,g.np&&(b.useProgram(g.$h),b.uniformMatrix4fv(g.np,!1,this.Ej));b.useProgram(this.Ha[this.yh].$h);
b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,null);b.activeTexture(b.TEXTURE0);this.Cf=this.Le=null;this.Pi&&(b.bindFramebuffer(b.FRAMEBUFFER,this.tl),b.bindRenderbuffer(b.RENDERBUFFER,this.Pi),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,this.width,this.height),this.io||(b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,this.Pi),this.io=!0),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),
this.Vj=null)}};d.prototype.Hc=function(){ec(this.Vk,this.pp,this.Tq,this.qc);dc(this.qc,this.oi)};d.prototype.translate=function(a,e){if(0!==a||0!==e){this.ff[0]=a;this.ff[1]=e;this.ff[2]=0;var b=this.qc,c=this.ff,g=c[0],d=c[1],c=c[2];b[12]=b[0]*g+b[4]*d+b[8]*c+b[12];b[13]=b[1]*g+b[5]*d+b[9]*c+b[13];b[14]=b[2]*g+b[6]*d+b[10]*c+b[14];b[15]=b[3]*g+b[7]*d+b[11]*c+b[15]}};d.prototype.scale=function(a,b){if(1!==a||1!==b)this.ff[0]=a,this.ff[1]=b,this.ff[2]=1,dc(this.qc,this.ff)};d.prototype.Zj=function(a){if(0!==
a){var b=this.qc,f,c=Math.sin(a);a=Math.cos(a);var g=b[0],d=b[1],q=b[2],x=b[3],z=b[4],n=b[5],l=b[6],h=b[7];f?b!==f&&(f[8]=b[8],f[9]=b[9],f[10]=b[10],f[11]=b[11],f[12]=b[12],f[13]=b[13],f[14]=b[14],f[15]=b[15]):f=b;f[0]=g*a+z*c;f[1]=d*a+n*c;f[2]=q*a+l*c;f[3]=x*a+h*c;f[4]=g*-c+z*a;f[5]=d*-c+n*a;f[6]=q*-c+l*a;f[7]=x*-c+h*a}};d.prototype.vc=function(){if(!k(this.gm,this.qc)){var a=this.Rb();a.type=5;a.V?cc(this.qc,a.V):a.V=bc(this.qc);cc(this.qc,this.gm);this.bb=!1}};d.prototype.dk=function(a){this.ra&&
(32760<a&&(a=32760),this.Mi=this.Vk[2]-this.Fk-a*this.Hx)};p.prototype.$t=function(){var a=this.B,b=this.p;0!==this.zb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.tl),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.lj=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.lj=!1)};p.prototype.du=function(){this.B.bindTexture(this.B.TEXTURE_2D,
this.Lc)};p.prototype.eu=function(){var a=this.B;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Lc);a.activeTexture(a.TEXTURE0)};p.prototype.au=function(){var a=this.Xp,b=this.p;b.Li=a;b=b.$f;b.tg&&b.Dj!==a&&(b.Dj=a,this.B.uniform1f(b.tg,a))};p.prototype.Vt=function(){this.B.drawElements(this.B.TRIANGLES,this.oc,this.B.UNSIGNED_SHORT,this.zb)};p.prototype.Xt=function(){this.B.blendFunc(this.zb,this.oc)};p.prototype.gu=function(){var a,b,f,c=this.p.Ha,g=this.p.uo;a=0;for(b=c.length;a<
b;a++)f=c[a],a===g&&f.Aj?(f.rn(this.V),f.zf=!0):f.zf=!1;cc(this.V,this.p.gl)};p.prototype.Wt=function(){var a=this.B,b=this.p;this.Lc?(b.Cf===this.Lc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.Cf=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.tl),b.lj||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Lc,0)):(b.ra||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
p.prototype.St=function(){var a=this.B,b=this.zb;0===b?(a.clearColor(this.V[0],this.V[1],this.V[2],this.V[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.V[0],this.V[1],this.V[2],this.V[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};p.prototype.Zt=function(){var a=this.B;0!==this.zb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};p.prototype.Ut=function(){var a=this.B,b=this.p;b.ra&&a.disable(a.DEPTH_TEST);
var f=b.Ha[1];a.useProgram(f.$h);!f.zf&&f.Aj&&(f.rn(b.gl),f.zf=!0);a.enableVertexAttribArray(f.Bc);a.bindBuffer(a.ARRAY_BUFFER,b.Cm);a.vertexAttribPointer(f.Bc,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.zb/4,this.oc);f=b.$f;a.useProgram(f.$h);0<=f.Bc&&(a.enableVertexAttribArray(f.Bc),a.bindBuffer(a.ARRAY_BUFFER,b.li[b.Od]),a.vertexAttribPointer(f.Bc,b.ra?3:2,a.FLOAT,!1,0,0));0<=f.Pe&&(a.enableVertexAttribArray(f.Pe),a.bindBuffer(a.ARRAY_BUFFER,b.ei[b.Od]),a.vertexAttribPointer(f.Pe,2,a.FLOAT,!1,
0,0));b.ra&&a.enable(a.DEPTH_TEST)};p.prototype.bu=function(){var a=this.B,b=this.p,f=b.Ha[this.zb];b.uo=this.zb;b.$f=f;a.useProgram(f.$h);!f.zf&&f.Aj&&(f.rn(b.gl),f.zf=!0);f.tg&&f.Dj!==b.Li&&(f.Dj=b.Li,a.uniform1f(f.tg,b.Li));0<=f.Bc&&(a.enableVertexAttribArray(f.Bc),a.bindBuffer(a.ARRAY_BUFFER,b.li[b.Od]),a.vertexAttribPointer(f.Bc,b.ra?3:2,a.FLOAT,!1,0,0));0<=f.Pe&&(a.enableVertexAttribArray(f.Pe),a.bindBuffer(a.ARRAY_BUFFER,b.ei[b.Od]),a.vertexAttribPointer(f.Pe,2,a.FLOAT,!1,0,0))};p.prototype.Yt=
function(){var a=this.V;this.B.uniform4f(this.p.$f.mm,a[0],a[1],a[2],a[3])};p.prototype.cu=function(){var a,b,f=this.p.$f,c=this.B;a=this.V;f.Dh&&this.p.Cf!==this.Lc&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.Lc),this.p.Cf=this.Lc,c.activeTexture(c.TEXTURE0));var g=a[0];f.om&&g!==f.yp&&(f.yp=g,c.uniform1f(f.om,g));g=a[1];f.nm&&g!==f.xp&&(f.xp=g,c.uniform1f(f.nm,g));g=a[2];b=a[3];!f.If||g===f.sp&&b===f.tp||(f.sp=g,f.tp=b,c.uniform2f(f.If,g,b));g=a[4];b=a[5];!f.Hf||g===f.qp&&b===
f.rp||(f.qp=g,f.rp=b,c.uniform2f(f.Hf,g,b));g=a[6];f.Ch&&g!==f.vp&&(f.vp=g,c.uniform1f(f.Ch,g));g=a[7];f.Bh&&g!==f.up&&(f.up=g,c.uniform1f(f.Bh,g));g=a[8];b=a[9];!f.Gh||g===f.Cp&&b===f.Dp||(f.Cp=g,f.Dp=b,c.uniform2f(f.Gh,g,b));g=a[10];b=a[11];!f.Eh||g===f.zp&&b===f.Ap||(f.zp=g,f.Ap=b,c.uniform2f(f.Eh,g,b));g=a[12];f.Fh&&g!==f.Bp&&(f.Bp=g,c.uniform1f(f.Fh,g));if(f.W.length)for(a=0,b=f.W.length;a<b;a++)g=this.wq[a],g!==f.fm[a]&&(f.fm[a]=g,c.uniform1f(f.W[a][1],g))};d.prototype.Rb=function(){this.Sc===
this.vd.length&&this.vd.push(new p(0,this));return this.vd[this.Sc++]};d.prototype.Sd=function(){if(0!==this.Sc&&!this.B.isContextLost()){var a=this.B;0<this.Dm&&(a.bindBuffer(a.ARRAY_BUFFER,this.Cm),a.bufferSubData(a.ARRAY_BUFFER,0,this.bq.subarray(0,this.Dm)),b&&0<=b.Bc&&"<point>"===b.name&&a.vertexAttribPointer(b.Bc,4,a.FLOAT,!1,0,0));if(0<this.Nc){var b=this.$f;a.bindBuffer(a.ARRAY_BUFFER,this.li[this.Od]);a.bufferSubData(a.ARRAY_BUFFER,0,this.mi.subarray(0,this.Nc));b&&0<=b.Bc&&"<point>"!==b.name&&
a.vertexAttribPointer(b.Bc,this.ra?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.ei[this.Od]);a.bufferSubData(a.ARRAY_BUFFER,0,this.fi.subarray(0,this.df));b&&0<=b.Pe&&"<point>"!==b.name&&a.vertexAttribPointer(b.Pe,2,a.FLOAT,!1,0,0)}for(var f,a=0,b=this.Sc;a<b;a++)switch(f=this.vd[a],f.type){case 1:f.Vt();break;case 2:f.du();break;case 3:f.au();break;case 4:f.Xt();break;case 5:f.gu();break;case 6:f.Wt();break;case 7:f.St();break;case 8:f.Ut();break;case 9:f.bu();break;case 10:f.cu();break;
case 11:f.eu();break;case 12:f.Yt();break;case 13:f.Zt();break;case 14:f.$t()}this.Dm=this.df=this.Nc=this.Sc=0;this.lj=this.bb=!1;this.Od++;4<=this.Od&&(this.Od=0)}};d.prototype.$e=function(a){if(a!==this.ip&&!this.qh){var b=this.Rb();b.type=3;this.ip=b.Xp=a;this.bb=!1}};d.prototype.Tb=function(a){if(a!==this.Le){var b=this.Rb();b.type=2;this.Le=b.Lc=a;this.bb=!1}};d.prototype.Ze=function(a,b){if((a!==this.jp||b!==this.hp)&&!this.qh){var f=this.Rb();f.type=4;f.zb=a;f.oc=b;this.jp=a;this.hp=b;this.bb=
!1}};d.prototype.lq=function(){this.Ze(this.B.ONE,this.B.ONE_MINUS_SRC_ALPHA)};d.prototype.Wh=function(a,b,f,c,g,d,q,x){15992<=this.Nc&&this.Sd();var z=this.Nc,n=this.df,l=this.mi,h=this.fi,y=this.Mi;if(this.bb)this.vd[this.Sc-1].oc+=6;else{var v=this.Rb();v.type=1;v.zb=this.ra?z:z/2*3;v.oc=6;this.bb=!0}this.ra?(l[z++]=a,l[z++]=b,l[z++]=y,l[z++]=f,l[z++]=c,l[z++]=y,l[z++]=g,l[z++]=d,l[z++]=y,l[z++]=q,l[z++]=x,l[z++]=y):(l[z++]=a,l[z++]=b,l[z++]=f,l[z++]=c,l[z++]=g,l[z++]=d,l[z++]=q,l[z++]=x);h[n++]=
0;h[n++]=0;h[n++]=1;h[n++]=0;h[n++]=1;h[n++]=1;h[n++]=0;h[n++]=1;this.Nc=z;this.df=n};d.prototype.hd=function(a,b,f,c,g,d,q,x,z){15992<=this.Nc&&this.Sd();var n=this.Nc,l=this.df,h=this.mi,y=this.fi,v=this.Mi;if(this.bb)this.vd[this.Sc-1].oc+=6;else{var w=this.Rb();w.type=1;w.zb=this.ra?n:n/2*3;w.oc=6;this.bb=!0}var w=z.left,J=z.top,D=z.right;z=z.bottom;this.ra?(h[n++]=a,h[n++]=b,h[n++]=v,h[n++]=f,h[n++]=c,h[n++]=v,h[n++]=g,h[n++]=d,h[n++]=v,h[n++]=q,h[n++]=x,h[n++]=v):(h[n++]=a,h[n++]=b,h[n++]=f,
h[n++]=c,h[n++]=g,h[n++]=d,h[n++]=q,h[n++]=x);y[l++]=w;y[l++]=J;y[l++]=D;y[l++]=J;y[l++]=D;y[l++]=z;y[l++]=w;y[l++]=z;this.Nc=n;this.df=l};d.prototype.Uw=function(a,b,f,c,g,d,q,x,z,n,l,h,y,v,w,J){15992<=this.Nc&&this.Sd();var D=this.Nc,k=this.df,m=this.mi,r=this.fi,p=this.Mi;if(this.bb)this.vd[this.Sc-1].oc+=6;else{var t=this.Rb();t.type=1;t.zb=this.ra?D:D/2*3;t.oc=6;this.bb=!0}this.ra?(m[D++]=a,m[D++]=b,m[D++]=p,m[D++]=f,m[D++]=c,m[D++]=p,m[D++]=g,m[D++]=d,m[D++]=p,m[D++]=q,m[D++]=x,m[D++]=p):(m[D++]=
a,m[D++]=b,m[D++]=f,m[D++]=c,m[D++]=g,m[D++]=d,m[D++]=q,m[D++]=x);r[k++]=z;r[k++]=n;r[k++]=l;r[k++]=h;r[k++]=y;r[k++]=v;r[k++]=w;r[k++]=J;this.Nc=D;this.df=k};d.prototype.Vb=function(a){if(this.yh!==a){if(!this.Ha[a]){if(0===this.yh)return;a=0}var b=this.Rb();b.type=9;this.yh=b.zb=a;this.bb=!1}};d.prototype.Th=function(a){a=this.Ha[a];return!(!a.If&&!a.Hf)};d.prototype.Fm=function(a){a=this.Ha[a];return!!(a.If||a.Hf||a.to)};d.prototype.Em=function(a){return this.Ha[a].fd};d.prototype.Ow=function(a){a=
this.Ha[a];return 0!==a.rl||0!==a.sl};d.prototype.mv=function(a){return this.Ha[a].rl};d.prototype.nv=function(a){return this.Ha[a].sl};d.prototype.ov=function(a,b){return this.Ha[a].W[b][2]};d.prototype.Sj=function(a){return this.Ha[a].eo};d.prototype.Ag=function(a,b,f,c,g,d,q,x,k,n,l,h,y,v,w){var J=this.Ha[this.yh],D,m;if(J.Nv||w.length){D=this.Rb();D.type=10;D.V?cc(this.qc,D.V):D.V=bc();m=D.V;m[0]=b;m[1]=f;m[2]=c;m[3]=g;m[4]=d;m[5]=q;m[6]=x;m[7]=k;m[8]=n;m[9]=l;m[10]=h;m[11]=y;m[12]=v;J.Dh?D.Lc=
a:D.Lc=null;if(w.length)for(f=D.wq,f.length=w.length,a=0,b=w.length;a<b;a++)f[a]=w[a];this.bb=!1}};d.prototype.clear=function(a,b,f,c){var g=this.Rb();g.type=7;g.zb=0;g.V||(g.V=bc());g.V[0]=a;g.V[1]=b;g.V[2]=f;g.V[3]=c;this.bb=!1};d.prototype.clearRect=function(a,b,f,c){if(!(0>f||0>c)){var g=this.Rb();g.type=7;g.zb=1;g.V||(g.V=bc());g.V[0]=a;g.V[1]=b;g.V[2]=f;g.V[3]=c;this.bb=!1}};d.prototype.oq=function(a){if(this.ra&&(a=!!a,this.qh!==a)){var b=this.Rb();b.type=14;b.zb=a?1:0;this.bb=!1;this.qh=a;
this.Vj=null;this.qh?this.Vb(2):this.Vb(0)}};d.prototype.nq=function(a){if(this.ra){var b=this.Rb();b.type=13;b.zb=a?1:0;this.bb=!1}};d.prototype.Do=function(){cc(this.gm,t);this.Hc();this.vc();var a=this.width/2,b=this.height/2;this.Wh(-a,b,a,b,a,-b,-a,-b);cc(t,this.qc);this.vc()};d.prototype.mq=function(a,b,f){this.Vb(3);var c=this.Rb();c.type=12;c.V||(c.V=bc());c.V[0]=a;c.V[1]=b;c.V[2]=f;c.V[3]=1;this.bb=!1};d.prototype.nx=function(){this.Vb(0)};d.prototype.Zw=function(){this.Vb(2)};d.prototype.Nw=
function(){this.Sd();this.B.flush()};var r=[],b={};d.prototype.It=function(){T(r);b={}};d.prototype.xj=function(a,e,f,c){e=!!e;f=!!f;var g=a.src+","+e+","+f+(e?",undefined":""),d=null;if("undefined"!==typeof a.src&&b.hasOwnProperty(g))return d=b[g],d.Ei++,d;this.Sd();var q=this.B,x=la(a.width)&&la(a.height),d=q.createTexture();q.bindTexture(q.TEXTURE_2D,d);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var m=q.RGBA,n=q.RGBA,l=q.UNSIGNED_BYTE;if(c&&!this.He)switch(c){case 1:n=m=q.RGB;break;case 2:l=
q.UNSIGNED_SHORT_4_4_4_4;break;case 3:l=q.UNSIGNED_SHORT_5_5_5_1;break;case 4:n=m=q.RGB,l=q.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!x&&e){c=document.createElement("canvas");c.width=na(a.width);c.height=na(a.height);var h=c.getContext("2d");"undefined"!==typeof h.imageSmoothingEnabled?h.imageSmoothingEnabled=f:(h.webkitImageSmoothingEnabled=f,h.mozImageSmoothingEnabled=f,h.msImageSmoothingEnabled=f);h.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);q.texImage2D(q.TEXTURE_2D,0,m,n,l,c)}else q.texImage2D(q.TEXTURE_2D,
0,m,n,l,a);e?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.REPEAT),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.REPEAT)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE));f?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.LINEAR),(x||2<=this.version)&&this.wo?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR_MIPMAP_LINEAR),q.generateMipmap(q.TEXTURE_2D)):q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,
q.LINEAR)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST));q.bindTexture(q.TEXTURE_2D,null);this.Le=null;d.pf=a.width;d.of=a.height;d.Ei=1;d.oo=g;r.push(d);return b[g]=d};d.prototype.ac=function(a,b,f,c,g){this.Sd();var d=this.B;this.He&&(c=!1);var q=d.createTexture();d.bindTexture(d.TEXTURE_2D,q);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,a,b,0,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,null);g?(d.texParameteri(d.TEXTURE_2D,
d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT)):(d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE));d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,f?d.LINEAR:d.NEAREST);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,f?d.LINEAR:d.NEAREST);d.bindTexture(d.TEXTURE_2D,null);this.Le=null;q.pf=a;q.of=b;r.push(q);return q};d.prototype.$q=function(a,b,f){this.Sd();var c=this.B;this.He&&(f=
!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,f?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(g){console&&console.error&&console.error("Error updating WebGL texture: ",g)}c.bindTexture(c.TEXTURE_2D,null);this.Le=null};d.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ei&&1<a.Ei?a.Ei--:(this.Sd(),a===this.Le&&(this.B.bindTexture(this.B.TEXTURE_2D,null),this.Le=null),a===this.Cf&&(this.B.activeTexture(this.B.TEXTURE1),
this.B.bindTexture(this.B.TEXTURE_2D,null),this.B.activeTexture(this.B.TEXTURE0),this.Cf=null),Ea(r,a),"undefined"!==typeof a.oo&&delete b[a.oo],this.B.deleteTexture(a)))};d.prototype.Ic=function(a){if(a!==this.Vj){var b=this.Rb();b.type=6;this.Vj=b.Lc=a;this.bb=!1}};hb=d})();
(function(){function d(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.Ac=(this.Wl=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Xd=!!a.dc;this.Vv="undefined"!==typeof window.AppMobi||
this.Xd;this.zc=!!window.c2cocoonjs;this.$c=!!window.c2ejecta;this.zc&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.$c&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.Ua=this.Xd||this.zc||this.$c;this.mj=
/edge\//i.test(navigator.userAgent);this.He=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.mj;this.$o=/tizen/i.test(navigator.userAgent);this.Vl=/android/i.test(navigator.userAgent)&&!this.$o&&!this.He&&!this.mj;this.gp=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.He&&!this.mj;this.ew=/ipad/i.test(navigator.userAgent);this.qj=this.gp||this.ew||this.$c;this.Yv=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.He&&!this.mj;this.Uv=/amazonwebappplatform/i.test(navigator.userAgent);this.$v=/firefox/i.test(navigator.userAgent);this.Zl=this.nj="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.ep=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.dw=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.uh=
!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.dm=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.cm=!!window.cr_windows10;this.dp=this.ep||this.dw||this.dm||this.cm;this.Wv=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Wo=this.Vl&&!this.Yv&&!this.Wl&&!this.$v&&!this.Uv&&!this.Ua;this.devicePixelRatio=1;this.Zd=this.Ac||this.Wl||this.Vv||this.zc||this.Vl||this.qj||this.uh||this.dm||this.Wv||this.$o||
this.$c;this.Zd||(this.Zd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.bp=!!(this.qj&&this.Ac&&window.webkit);"undefined"===typeof cr_is_preview||this.nj||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.nj=!0);this.Xo="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.Wk=document.getElementById("c2canvasdiv");
this.p=this.B=null;this.Ll="(unavailable)";this.ra=!1;this.vf=0;this.ua=null;this.Xi=!1;this.Qp=this.Rp=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Xd&&(window.c2runtime=this);this.nj&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Wo&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.K=this.width;this.J=this.height;this.Ji=this.width;this.Ug=this.height;this.rg=window.innerWidth;this.qg=window.innerHeight;this.aa=!0;this.sh=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.A=[];this.Ba=[];this.jm={};this.bd=[];this.pl={};
this.Td=[];this.Kg=[];this.yk=[];this.pt=[];this.qt=[];this.ik=null;this.sf={};this.Yl=this.De=!1;this.ad=0;this.Xl=this.am=!1;this.Vc=[];this.rh=!1;this.vj=this.Sm="";this.Wa=null;this.ae="";this.ci=this.yq=!1;this.Wi=[];this.uf=this.tf=0;this.Jp=30;this.el=this.Hh=0;this.gi=1;this.Qb=new Ya;this.Ek=new Ya;this.Hj=this.bj=this.Xg=this.Gd=this.Ef=this.aj=this.sj=0;this.Qg=null;this.Qi=[];this.ol=[];this.Ri=-1;this.pm=[[]];this.mn=this.Bj=0;this.Tj(null);this.Ih=[];this.ug=-1;this.Zg=this.Np=this.Mh=
0;this.di=[];this.jn=this.Im=-1;this.wh=!0;this.zj=0;this.$d=!1;this.qx=0;this.Pg=null;this.Ie=this.Mo=!1;this.Pp=new ga;this.xm=new ga;this.ym=new ga;this.Of=[];this.md=new $a([]);this.an=new $a([]);this.qe=[];this.jh={};this.ue={};this.pe={};this.Jg={};this.jo={};this.mp=this.uj=this.Ma=this.Va=this.lp=this.tj=this.T=null;this.Hg=this.em=!1;this.xl=[null,null];this.Be=0;this.ge={};this.ai=this.Ne=null;this.Aq="";this.Gj=[];this.Yw()}}function m(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:a[0]}
function k(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function t(a,c,b,h){try{var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=p;g.onerror=h;g.onsuccess=function(g){g=g.target.result;g.onerror=h;g.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=b}}catch(e){h(e)}}function r(a,c,b){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=p;h.onerror=b;h.onsuccess=function(h){h=
h.target.result;h.onerror=b;var g=h.transaction(["saves"]).objectStore("saves").get(a);g.onsuccess=function(){g.result?c(g.result.data):c(null)}}}catch(g){b(g)}}function b(){A("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,b={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ga||a[c]&&"undefined"!==typeof a[c].By||"spriteCreatedDestroyCallback"!==
c&&(b[c]=a[c]);return b}var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.Yw=function(){var a=this;if(this.bp)this.Wu(function(c){a.Ah(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.uh?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var b="data.js";if(this.ep||this.uh||this.dm||this.cm)b="data.json";c.open("GET",b,!0);var h=!1;
if(!this.Ua&&"response"in c&&"responseType"in c)try{c.responseType="json",h="json"===c.responseType}catch(g){h=!1}if(!h&&"responseType"in c)try{c.responseType="text"}catch(e){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.uh?c.onreadystatechange=function(){4===c.readyState&&a.Ah(JSON.parse(c.responseText))}:(c.onload=function(){if(h)a.Ah(c.response);else if(a.$c){var b=c.responseText,b=b.substr(b.indexOf("{"));a.Ah(JSON.parse(b))}else a.Ah(JSON.parse(c.responseText))},
c.onerror=function(a){ia("Error requesting "+b+":");ia(a)});c.send()}};d.prototype.Sv=function(){var a=this,c,b,h,g,e,l,f,q,d;this.Bf=(!this.Ua||this.$c||this.Ac)&&this.yx&&!this.Wo;0===this.Mb&&this.qj&&(this.Bf=!1);this.devicePixelRatio=this.Bf?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.pb();0<this.Mb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();
a.uw();A("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.p.Ro();a.p.he(a.p.width,a.p.height,!0);a.Va=null;a.Ma=null;a.xl[0]=null;a.xl[1]=null;a.vw();a.aa=!0;A("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.ou&&(this.zc||this.$c||!this.Ua)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.Vl||(this.B=this.canvas.getContext("webgl2",
c)),this.B||(this.B=this.canvas.getContext("webgl",c)||this.canvas.getContext("experimental-webgl",c)))}catch(v){}if(this.B){if(c=this.B.getExtension("WEBGL_debug_renderer_info"))this.Ll=this.B.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.B.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.ra&&(this.Ll+=" [front-to-back enabled]");this.Ua||(this.lb=document.createElement("canvas"),jQuery(this.lb).appendTo(this.canvas.parentNode),this.lb.oncontextmenu=function(){return!1},this.lb.onselectstart=function(){return!1},
this.lb.width=Math.round(this.Ji*this.devicePixelRatio),this.lb.height=Math.round(this.Ug*this.devicePixelRatio),jQuery(this.lb).css({width:this.Ji+"px",height:this.Ug+"px"}),this.cq(),this.Bm=this.lb.getContext("2d"));this.p=new hb(this.B,this.Zd,this.ra);this.p.he(this.canvas.width,this.canvas.height);this.p.wo=0!==this.hu;this.ua=null;c=0;for(b=this.A.length;c<b;c++)for(e=this.A[c],h=0,g=e.N.length;h<g;h++)f=e.N[h],f.Pa=this.p.Il(f.id),f.fd=this.p.Em(f.Pa),this.Hg=this.Hg||this.p.Th(f.Pa);c=0;
for(b=this.bd.length;c<b;c++){q=this.bd[c];h=0;for(g=q.N.length;h<g;h++)f=q.N[h],f.Pa=this.p.Il(f.id),f.fd=this.p.Em(f.Pa);q.pd();h=0;for(g=q.R.length;h<g;h++){d=q.R[h];e=0;for(l=d.N.length;e<l;e++)f=d.N[e],f.Pa=this.p.Il(f.id),f.fd=this.p.Em(f.Pa),this.Hg=this.Hg||this.p.Th(f.Pa);d.pd()}}}else{if(0<this.Mb&&this.Xd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.ua=AppMobi.canvas.getContext("2d");try{this.ua.samplingMode=this.ya?"smooth":
"sharp",this.ua.globalScale=1,this.ua.HTML5CompatibilityMode=!0,this.ua.imageSmoothingEnabled=this.ya}catch(w){}0!==this.width&&0!==this.height&&(this.ua.width=this.width,this.ua.height=this.height)}this.ua||(this.zc?(c={antialias:!!this.ya,alpha:!0},this.ua=this.canvas.getContext("2d",c)):(c={alpha:!0},this.ua=this.canvas.getContext("2d",c)),this.ck(this.ua,this.ya));this.Bm=this.lb=null}this.Hq=function(c){a.ic(!1,c)};window==window.top||this.Ua||this.dp||this.uh||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.zc&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(A("Reloading for continuous preview"),this.vj="__c2_continuouspreview",this.ci=!0),this.Fw&&!this.Zd&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));
window.addEventListener("blur",function(){});this.Ua||(c=function(a){if(gb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Mb&&this.Bf&&
1<this.devicePixelRatio&&this.setSize(this.Fa,this.Ea,!0);this.Qq();this.Jv();this.go();this.L={}};d.prototype.setSize=function(a,c,b){var h=0,g=0,e=0,l=0,l=0;if(this.rg!==a||this.qg!==c||b){this.rg=a;this.qg=c;var f=this.Mb;if((e=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.$d)&&!this.Ac)||0!==this.Mb||b)e&&(f=this.Be),b=this.devicePixelRatio,4<=f?(5===f&&1!==b&&(a+=1,c+=1),e=this.Fa/this.Ea,a/c>e?(e*=c,5===f?(l=e*b/this.Fa,1<l?l=
Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.Fa*l/b,l=this.Ea*l/b,h=(a-e)/2,g=(c-l)/2,a=e,c=l):(h=(a-e)/2,a=e)):(l=a/e,5===f?(l=l*b/this.Ea,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),e=this.Fa*l/b,l=this.Ea*l/b,h=(a-e)/2,g=(c-l)/2,a=e):g=(c-l)/2,c=l)):e&&0===f&&(h=Math.floor((a-this.Fa)/2),g=Math.floor((c-this.Ea)/2),a=this.Fa,c=this.Ea),2>f&&(this.Og=b),this.Ji=Math.round(a),this.Ug=Math.round(c),this.width=Math.round(a*b),this.height=Math.round(c*b),this.aa=!0,this.br?(this.K=this.width,this.J=
this.height,this.mc=!0):this.width<this.Fa&&this.height<this.Ea||1===f?(this.K=this.width,this.J=this.height,this.mc=!0):(this.K=this.Fa,this.J=this.Ea,this.mc=!1,2===f?(e=this.Fa/this.Ea,f=this.rg/this.qg,f<e?this.K=this.J*f:f>e&&(this.J=this.K/f)):3===f&&(e=this.Fa/this.Ea,f=this.rg/this.qg,f>e?this.K=this.J*f:f<e&&(this.J=this.K/f))),this.Wk&&!this.Ua&&(jQuery(this.Wk).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(h)+"px","margin-top":Math.floor(g)+"px"}),"undefined"!==
typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*b),this.canvas.height=Math.round(c*b),this.$c?(this.canvas.style.left=Math.floor(h)+"px",this.canvas.style.top=Math.floor(g)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.Bf&&!this.Ua&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.lb&&(this.lb.width=Math.round(a*
b),this.lb.height=Math.round(c*b),this.lb.style.width=this.Ji+"px",this.lb.style.height=this.Ug+"px"),this.p&&this.p.he(Math.round(a*b),Math.round(c*b)),this.Xd&&this.ua&&(this.ua.width=Math.round(a),this.ua.height=Math.round(c)),this.ua&&this.ck(this.ua,this.ya),this.Qq(),this.gp&&!this.Ac&&window.scrollTo(0,0)}};d.prototype.Qq=function(){if(this.zt&&0!==this.Am){var a="portrait";2===this.Am&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):
screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};d.prototype.uw=function(){this.p.It();this.em=!0;var a,c,b;a=0;for(c=this.A.length;a<c;a++)b=this.A[a],b.Ph&&b.Ph()};d.prototype.vw=function(){this.em=!1;var a,c,b;a=0;for(c=this.A.length;a<c;a++)b=this.A[a],
b.Kj&&b.Kj()};d.prototype.cq=function(){if(!this.Ua){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.$d)&&!this.Ac?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.lb).css(a)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(a){var c;if(a&&
!this.sh)for(A("[Construct 2] Suspending"),this.sh=!0,-1!==this.Im&&f&&f(this.Im),-1!==this.jn&&clearTimeout(this.jn),a=0,c=this.di.length;a<c;a++)this.di[a](!0);else if(!a&&this.sh){A("[Construct 2] Resuming");this.sh=!1;this.sj=Ua();this.Ef=Ua();a=this.Hh=this.bj=0;for(c=this.di.length;a<c;a++)this.di[a](!1);this.ic(!1)}};d.prototype.ot=function(a){this.di.push(a)};d.prototype.ne=function(a){return this.Gj[a]};d.prototype.Ah=function(a){a&&a.project||ia("Project model unavailable");a=a.project;
this.name=a[0];this.Co=a[1];this.Mb=a[12];this.Fa=a[10];this.Ea=a[11];this.Yp=this.Fa/2;this.Zp=this.Ea/2;this.Ua&&!this.$c&&(4<=a[12]||0===a[12])&&(A("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Mb=3);this.tn=a[18];this.Oe=a[19];if(0===this.Oe){var c=new Image;c.crossOrigin="anonymous";this.qq(c,"loading-logo.png");this.Ne={Cj:c}}else if(4===this.Oe){c=new Image;c.src="";var b=new Image;b.src="";var h=new Image;h.src="";
var g=new Image;g.src="";var e=new Image;e.src="";var l=new Image;l.src="";var f=new Image;f.src="";var q=new Image;q.src="";var d=new Image;d.src="";var v=new Image;v.src="";var w=new Image;w.src="";var u=new Image;u.src="";this.Ne={Cj:[c,b,h,g],Kw:[e,l,f,q],Cx:[d,v,w,u]}}this.Mh=a[21];this.Gj=gc();this.Fd=new V(this);c=0;for(b=a[2].length;c<b;c++)f=a[2][c],h=this.ne(f[0]),ib(f,h.prototype),q=new h(this),q.hk=f[1],q.Ke=f[2],q.Gy=f[5],q.Kp=f[9],q.H&&q.H(),this.plugins.push(q);this.Gj=gc();c=0;for(b=
a[3].length;c<b;c++){f=a[3][c];e=this.ne(f[1]);q=null;h=0;for(g=this.plugins.length;h<g;h++)if(this.plugins[h]instanceof e){q=this.plugins[h];break}d=new q.ca(q);d.name=f[0];d.G=f[2];d.Sl=f[3].slice(0);d.Ax=f[3].length;d.At=f[4];d.$u=f[5];d.X=f[11];d.G?(d.Re=[],d.Ud=this.Zg++,d.za=null):(d.Re=null,d.Ud=-1,d.za=[]);d.Vi=null;d.eg=null;d.xo=null;d.Pb=!1;d.$b=null;f[6]?(d.ok=f[6][0],d.pk=f[6][1],d.bn=f[6][2]):(d.ok=null,d.pk=0,d.bn=0);f[7]?d.Zb=f[7]:d.Zb=null;d.index=c;d.i=[];d.Oi=[];d.ke=[new jb(d)];
d.wd=0;d.xc=null;d.Mt=0;d.Eg=!0;d.Ak=mb;d.dv=nb;d.lv=ob;d.ea=pb;d.Vh=qb;d.Ue=rb;d.ed=sb;d.dj=tb;d.yl=ub;d.Dl=vb;d.Qc=wb;d.El=xb;d.Hi=new ab(this.Fa,this.Ea);d.wi=!0;d.xi=!1;d.L={};d.toString=yb;d.Ba=[];h=0;for(g=f[8].length;h<g;h++){v=f[8][h];w=this.ne(v[1]);u=null;e=0;for(l=this.Ba.length;e<l;e++)if(this.Ba[e]instanceof w){u=this.Ba[e];break}u||(u=new w(this),u.wm=[],u.Kh=new ga,u.H&&u.H(),this.Ba.push(u),hc&&u instanceof hc&&(this.ik=u));-1===u.wm.indexOf(d)&&u.wm.push(d);e=new u.ca(u,d);e.name=
v[0];e.X=v[2];e.H();d.Ba.push(e)}d.global=f[9];d.$l=f[10];d.N=[];h=0;for(g=f[12].length;h<g;h++)d.N.push({id:f[12][h][0],name:f[12][h][1],Pa:-1,fd:!1,jc:!0,index:h});d.sk=f[13];this.tn&&!d.G&&!d.$l&&q.Ke||d.H();d.name&&(this.types[d.name]=d);this.A.push(d);q.hk&&(h=new q.P(d),h.uid=this.Mh++,h.gq=this.Np++,h.Af=0,h.hh=zb,h.toString=Ab,h.u=f[14],h.H(),d.i.push(h),this.ge[h.uid.toString()]=h)}c=0;for(b=a[4].length;c<b;c++)for(e=a[4][c],l=this.A[e[0]],h=1,g=e.length;h<g;h++)f=this.A[e[h]],f.za.push(l),
l.Re.push(f);c=0;for(b=a[28].length;c<b;c++){e=a[28][c];l=[];h=0;for(g=e.length;h<g;h++)l.push(this.A[e[h]]);h=0;for(g=l.length;h<g;h++)l[h].Pb=!0,l[h].$b=l}if(0<this.Zg)for(c=0,b=this.A.length;c<b;c++)if(f=this.A[c],!f.G&&f.za.length){f.Vi=Array(this.Zg);f.eg=Array(this.Zg);f.xo=Array(this.Zg);d=[];h=u=w=v=0;for(g=f.za.length;h<g;h++)for(q=f.za[h],f.Vi[q.Ud]=v,v+=q.Ax,f.eg[q.Ud]=w,w+=q.At,f.xo[q.Ud]=u,u+=q.$u,e=0,l=q.N.length;e<l;e++)d.push(va({},q.N[e]));f.N=d.concat(f.N);h=0;for(g=f.N.length;h<
g;h++)f.N[h].index=h}c=0;for(b=a[5].length;c<b;c++)f=a[5][c],h=new Bb(this,f),this.jm[h.name]=h,this.bd.push(h);c=0;for(b=a[6].length;c<b;c++)f=a[6][c],h=new Cb(this,f),this.pl[h.name]=h,this.Td.push(h);c=0;for(b=this.Td.length;c<b;c++)this.Td[c].Ka();c=0;for(b=this.Td.length;c<b;c++)this.Td[c].qn();c=0;for(b=this.yk.length;c<b;c++)this.yk[c].Ka();T(this.yk);this.yt=a[7];this.tc=a[9];this.Og=1;this.ou=a[13];this.ya=a[14];this.qo=a[15];this.yx=a[17];this.Am=a[20];this.zt=0<this.Am;this.Fw=a[22];this.mc=
this.br=a[23];this.hu=a[24];this.Lw=a[25];this.ra=a[27]&&!this.He;this.jk=Date.now();T(this.Gj);this.Sv()};var c=!1,g=0,u=[];d.prototype.Vw=function(a,c){function h(){g--;b.Fp()}var b=this;a.addEventListener("load",h);a.addEventListener("error",h);u.push([a,c]);this.Fp()};d.prototype.Fp=function(){for(var a;u.length&&100>g;)g++,a=u.shift(),this.qq(a[0],a[1])};d.prototype.un=function(a,h){a.cocoonLazyLoad=!0;a.onerror=function(h){c=a.no=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",h)};this.$c?a.src=h:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(h,function(c){a.src=c},function(b){c=a.no=!0;console&&console.error&&console.error("Error extracting image '"+h+"' from expansion file: ",b)}):(a.crossOrigin="anonymous",this.Vw(a,h)));this.Kg.push(a)};d.prototype.Yu=function(a){var c,h;c=0;for(h=this.Kg.length;c<h;c++)if(this.Kg[c].Jt===a)return this.Kg[c];return null};var q=0,x=!1;d.prototype.Jv=function(){this.Pg&&(q=this.Pg.Vy(this.yt))};d.prototype.ho=function(){var a=
q,c=0,h=0,b=!0,g,e,h=0;for(g=this.Kg.length;h<g;h++){e=this.Kg[h];var f=e.fl;if(!f||0>=f)f=5E4;a+=f;e.src&&(e.complete||e.loaded)&&!e.no?c+=f:b=!1}b&&this.Lw&&this.Pg&&(x||(this.Pg.Wy(),x=!0),h=this.Pg.Ey(),c+=h,h<q&&(b=!1));this.gd=0==a?1:c/a;return b};var z=!1;d.prototype.go=function(){if(this.ua||this.p){var a=this.ua||this.Bm;this.lb&&this.cq();var h=window.innerWidth,b=window.innerHeight;this.rg===h&&this.qg===b||this.setSize(h,b);this.gd=0;this.kp=-1;var g=this;if(this.ho()&&(4!==this.Oe||z))this.Kv();
else{b=Date.now()-this.jk;if(a){var f=this.width,l=this.height,h=this.devicePixelRatio;if(3>this.Oe&&(this.zc||500<=b&&this.kp!=this.gd)){a.clearRect(0,0,f,l);var b=f/2,l=l/2,f=0===this.Oe&&this.Ne.Cj.complete,d=40*h,q=0,v=80*h,w;if(f){var u=this.Ne.Cj,v=u.width*h;w=u.height*h;d=v/2;q=w/2;a.drawImage(u,R(b-d),R(l-q),v,w)}1>=this.Oe?(b=R(b-d)+.5,l=R(l+(q+(f?12*h:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(b,l,Math.floor(v*this.gd),6*h),a.strokeStyle="black",a.strokeRect(b,l,v,6*h),a.strokeStyle=
"white",a.strokeRect(b-1*h,l-1*h,v+2*h,8*h)):2===this.Oe&&(a.font=this.$c?"12pt ArialMT":"12pt Arial",a.fillStyle=c?"#f00":"#999",a.Xy="middle",h=Math.round(100*this.gd)+"%",f=a.measureText?a.measureText(h):null,a.fillText(h,b-(f?f.width:0)/2,l));this.kp=this.gd}else if(4===this.Oe){this.mu(a);e?e(function(){g.go()}):setTimeout(function(){g.go()},16);return}}setTimeout(function(){g.go()},this.zc?10:100)}}};var n=-1,l="undefined"===typeof cr_is_preview?200:0,h=!0,y=!1,v=0,w=0,J="undefined"===typeof cr_is_preview?
3E3:0,D=null,ca=null,ea=0;d.prototype.mu=function(a){if(!z){for(var b=Math.ceil(this.width),g=Math.ceil(this.height),e=this.Ne.Cj,f=this.Ne.Kw,d=this.Ne.Cx,q=0;4>q;++q)if(!e[q].complete||!f[q].complete||!d[q].complete)return;0===ea&&(n=Date.now());var q=Date.now(),u=!1,x=a,k,r;h||y?(a.clearRect(0,0,b,g),D&&D.width===b&&D.height===g||(D=document.createElement("canvas"),D.width=b,D.height=g,ca=D.getContext("2d")),x=ca,u=!0,h&&1===ea&&(n=Date.now())):a.globalAlpha=1;x.fillStyle="#333333";x.fillRect(0,
0,b,g);256<this.Ug?(k=Fa(.22*g,105,.6*b),r=.25*k,x.drawImage(m(f,k),.5*b-k/2,.2*g-r/2,k,r),r=k=Math.min(.395*g,.95*b),x.drawImage(m(e,k),.5*b-k/2,.485*g-r/2,k,r),k=Fa(.22*g,105,.6*b),r=.25*k,x.drawImage(m(d,k),.5*b-k/2,.868*g-r/2,k,r),x.fillStyle="#3C3C3C",k=b,r=Math.max(.005*g,2),x.fillRect(0,.8*g-r/2,k,r),x.fillStyle=c?"red":"#E0FF65",k=b*this.gd,x.fillRect(.5*b-k/2,.8*g-r/2,k,r)):(r=k=.55*g,x.drawImage(m(e,k),.5*b-k/2,.45*g-r/2,k,r),x.fillStyle="#3C3C3C",k=b,r=Math.max(.005*g,2),x.fillRect(0,.85*
g-r/2,k,r),x.fillStyle=c?"red":"#E0FF65",k=b*this.gd,x.fillRect(.5*b-k/2,.85*g-r/2,k,r));u&&(h?a.globalAlpha=0===ea?0:Math.min((q-n)/300,1):y&&(a.globalAlpha=Math.max(1-(q-w)/300,0)),a.drawImage(D,0,0,b,g));h&&300<=q-n&&2<=ea&&(h=!1,v=q);!h&&q-v>=J&&!y&&1<=this.gd&&(y=!0,w=q);if(y&&q-w>=300+l||"undefined"!==typeof cr_is_preview&&1<=this.gd&&500>Date.now()-n)z=!0,y=h=!1,this.Ne=ca=D=null;++ea}};d.prototype.Kv=function(){this.lb&&(this.canvas.parentNode.removeChild(this.lb),this.lb=this.Bm=null);this.jk=
Date.now();this.Ef=Ua();var a,c,h;if(this.tn)for(a=0,c=this.A.length;a<c;a++)h=this.A[a],h.G||h.$l||!h.qa.Ke||h.H();else this.wh=!1;a=0;for(c=this.bd.length;a<c;a++)this.bd[a].Kt();2<=this.Mb&&(a=this.Fa/this.Ea,c=this.width/this.height,this.Og=2!==this.Mb&&c>a||2===this.Mb&&c<a?this.height/this.Ea:this.width/this.Fa);this.Co?this.jm[this.Co].Zm():this.bd[0].Zm();this.tn||(this.zj=1,this.trigger(V.prototype.k.Jn,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(c=this.A.length;a<c;a++)h=this.A[a],h.Sp&&h.Sp();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.ic(!1);this.Xd&&AppMobi.webview.execute("onGameReady();")};d.prototype.ic=function(a,c,h){if(this.T){var b=Ua();if(h||!this.sh||a){a||(e?this.Im=e(this.Hq):this.jn=setTimeout(this.Hq,this.Zd?1:16));c=c||b;var g=this.Mb;((h=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.Ac)||this.$d)&&0<this.Be&&(g=this.Be);if(0<g){var g=window.innerWidth,f=window.innerHeight;this.rg===g&&this.qg===f||this.setSize(g,f)}this.Ua||(h?this.Xi||(this.Xi=!0):this.Xi?(this.Xi=!1,0===this.Mb&&this.setSize(Math.round(this.Rp/this.devicePixelRatio),Math.round(this.Qp/this.devicePixelRatio),!0)):(this.Rp=this.width,this.Qp=this.height));this.wh&&(h=this.ho(),this.zj=this.gd,h&&(this.wh=!1,this.gd=1,this.trigger(V.prototype.k.Jn,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.jw(c);
!this.aa&&!this.zc||this.em||this.ci||a||(this.aa=!1,this.p?this.Eb():this.Xc(),this.ai&&(this.canvas&&this.canvas.toDataURL&&(this.Aq=this.canvas.toDataURL(this.ai[0],this.ai[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Aq),this.trigger(V.prototype.k.ms,null)),this.ai=null));this.Fy||(this.Gd++,this.Xg++,this.bj++);this.Hh+=Ua()-b}}};d.prototype.jw=function(a){var c,h,b,g,e,f,l,d;1E3<=a-this.Ef&&(this.Ef+=1E3,1E3<=a-this.Ef&&(this.Ef=a),this.aj=this.bj,this.bj=0,this.el=this.Hh,this.Hh=0);
c=0;0!==this.sj&&(c=a-this.sj,0>c&&(c=0),this.uf=c/=1E3,.5<this.uf?this.uf=0:this.uf>1/this.Jp&&(this.uf=1/this.Jp));this.sj=a;this.tf=this.uf*this.gi;this.Qb.add(this.tf);this.Ek.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.$d)&&!this.Ac;2<=this.Mb||a&&0<this.Be?(c=this.Fa/this.Ea,h=this.width/this.height,b=this.Mb,a&&0<this.Be&&(b=this.Be),this.Og=2!==b&&h>c||2===b&&h<c?this.height/this.Ea:this.width/this.Fa,this.T&&(this.T.Tm(this.T.scrollX),
this.T.Um(this.T.scrollY))):this.Og=this.Bf?this.devicePixelRatio:1;this.pb();this.ad++;this.Fd.ax();this.ad--;this.pb();this.ad++;h=this.Pp.Jd();a=0;for(c=h.length;a<c;a++)h[a].Ry();a=0;for(c=this.A.length;a<c;a++)if(f=this.A[a],!f.G&&(f.Ba.length||f.za.length))for(h=0,b=f.i.length;h<b;h++)for(l=f.i[h],g=0,e=l.Q.length;g<e;g++)l.Q[g].ic();a=0;for(c=this.A.length;a<c;a++)if(f=this.A[a],!f.G&&(f.Ba.length||f.za.length))for(h=0,b=f.i.length;h<b;h++)for(l=f.i[h],g=0,e=l.Q.length;g<e;g++)d=l.Q[g],d.Jw&&
d.Jw();h=this.xm.Jd();a=0;for(c=h.length;a<c;a++)h[a].ic();this.ad--;this.Mv();for(a=0;this.Qg&&10>a++;)this.vo(this.Qg);a=0;for(c=this.Td.length;a<c;a++)this.Td[a].Ol=!1;this.T.wf&&this.T.wf.Na();T(this.Of);this.ad++;a=0;for(c=this.A.length;a<c;a++)if(f=this.A[a],!f.G&&(f.Ba.length||f.za.length))for(h=0,b=f.i.length;h<b;h++)for(l=f.i[h],g=0,e=l.Q.length;g<e;g++)d=l.Q[g],d.rk&&d.rk();h=this.ym.Jd();a=0;for(c=h.length;a<c;a++)h[a].rk();this.ad--};d.prototype.vo=function(a){var c=this.T;this.T.rx();
var h,b,g;if(this.p)for(h=0,b=this.A.length;h<b;h++)g=this.A[h],g.G||!g.zk||g.global&&0!==g.i.length||-1!==a.nh.indexOf(g)||g.zk();c==a&&T(this.Fd.Xb);T(this.Of);this.jq(!0);a.Zm();this.jq(!1);this.aa=!0;this.pb()};d.prototype.jq=function(a){var c,h,b,g,e,f,l,d,q;c=0;for(h=this.Ba.length;c<h;c++)b=this.Ba[c],a?b.Nh&&b.Nh():b.Oh&&b.Oh();c=0;for(h=this.A.length;c<h;c++)if(b=this.A[c],b.global||b.qa.hk)for(g=0,e=b.i.length;g<e;g++)if(f=b.i[g],a?f.Nh&&f.Nh():f.Oh&&f.Oh(),f.Q)for(l=0,d=f.Q.length;l<d;l++)q=
f.Q[l],a?q.Nh&&q.Nh():q.Oh&&q.Oh()};d.prototype.Iq=function(a){this.xm.add(a)};d.prototype.vx=function(a){this.ym.add(a)};d.prototype.gg=function(a){return a&&-1!==a.Lh?this.uf*a.Lh:this.tf};d.prototype.Xc=function(){this.T.Xc(this.ua);this.Xd&&this.ua.present()};d.prototype.Eb=function(){this.ra&&(this.vf=1,this.T.ye(this.p));this.T.Eb(this.p);this.p.Nw()};d.prototype.Zn=function(a){a&&this.Qi.push(a)};d.prototype.Xw=function(a){Ea(this.Qi,a)};d.prototype.Gl=function(a){a=a.toString();return this.ge.hasOwnProperty(a)?
this.ge[a]:null};var ma=[];d.prototype.hf=function(a){var c,h;c=a.type.name;var b=null;if(this.sf.hasOwnProperty(c)){if(b=this.sf[c],b.contains(a))return}else b=ma.length?ma.pop():new ga,this.sf[c]=b;b.add(a);this.De=!0;if(a.Pb)for(c=0,h=a.siblings.length;c<h;c++)this.hf(a.siblings[c]);this.Yl&&b.Ig.push(a);this.Xl||(this.ad++,this.trigger(Object.getPrototypeOf(a.type.qa).k.os,a),this.ad--)};d.prototype.pb=function(){if(this.De){var a,c,h,b,g,f;this.Yl=!0;h=0;for(g=this.Vc.length;h<g;++h)for(a=this.Vc[h],
c=a.type,c.i.push(a),b=0,f=c.za.length;b<f;++b)c.za[b].i.push(a),c.za[b].Eg=!0;T(this.Vc);this.ds();Ta(this.sf);this.De=this.Yl=!1}};d.prototype.ds=function(){for(var a in this.sf)this.sf.hasOwnProperty(a)&&this.sr(this.sf[a])};d.prototype.sr=function(a){var c=a.Jd(),h=c[0].type,b,g,f,e,l,d;Va(h.i,a);h.Eg=!0;0===h.i.length&&(h.xi=!1);b=0;for(g=h.za.length;b<g;++b)d=h.za[b],Va(d.i,a),d.Eg=!0;b=0;for(g=this.Fd.Xb.length;b<g;++b)if(l=this.Fd.Xb[b],l.Gb.hasOwnProperty(h.index)&&Va(l.Gb[h.index].Wd,a),
!h.G)for(f=0,e=h.za.length;f<e;++f)d=h.za[f],l.Gb.hasOwnProperty(d.index)&&Va(l.Gb[d.index].Wd,a);if(l=c[0].m){if(l.wc)for(f=l.i,b=0,g=f.length;b<g;++b)e=f[b],a.contains(e)&&(e.Y(),l.ob.update(e,e.Sb,null),e.Sb.set(0,0,-1,-1));Va(l.i,a);l.Yh(0)}for(b=0;b<c.length;++b)this.rr(c[b],h);a.clear();ma.push(a);this.aa=!0};d.prototype.rr=function(a,c){var h,b,g;h=0;for(b=this.Qi.length;h<b;++h)this.Qi[h](a);a.ve&&c.Hi.update(a,a.ve,null);(h=a.m)&&h.yg(a,!0);if(a.Q)for(h=0,b=a.Q.length;h<b;++h)g=a.Q[h],g.Dc&&
g.Dc(),g.behavior.Kh.remove(a);this.Pp.remove(a);this.xm.remove(a);this.ym.remove(a);a.Dc&&a.Dc();this.ge.hasOwnProperty(a.uid.toString())&&delete this.ge[a.uid.toString()];this.Hj--;100>c.Oi.length&&c.Oi.push(a)};d.prototype.so=function(a,c,h,b){if(a.G){var g=R(Math.random()*a.Re.length);return this.so(a.Re[g],c,h,b)}return a.xc?this.we(a.xc,c,!1,h,b,!1):null};var P=[];d.prototype.we=function(a,c,h,b,g,f){var e,l,d,q;if(!a)return null;var v=this.A[a[1]],w=v.qa.Ke;if(this.wh&&w&&!v.$l||w&&!this.p&&
11===a[0][11])return null;var u=c;w||(c=null);var n;v.Oi.length?(n=v.Oi.pop(),n.xb=!0,v.qa.P.call(n,v)):(n=new v.qa.P(v),n.xb=!1);!h||f||this.ge.hasOwnProperty(a[2].toString())?n.uid=this.Mh++:n.uid=a[2];this.ge[n.uid.toString()]=n;n.gq=this.Np++;n.Af=v.i.length;e=0;for(l=this.Vc.length;e<l;++e)this.Vc[e].type===v&&n.Af++;n.hh=zb;n.toString=Ab;d=a[3];if(n.xb)Ta(n.L);else{n.L={};if("undefined"!==typeof cr_is_preview)for(n.Uo=[],n.Uo.length=d.length,e=0,l=d.length;e<l;e++)n.Uo[e]=d[e][1];n.Ta=[];n.Ta.length=
d.length}e=0;for(l=d.length;e<l;e++)n.Ta[e]=d[e][0];if(w){var y=a[0];n.x=ja(b)?y[0]:b;n.y=ja(g)?y[1]:g;n.z=y[2];n.width=y[3];n.height=y[4];n.depth=y[5];n.n=y[6];n.opacity=y[7];n.Nb=y[8];n.Ob=y[9];n.qb=y[10];e=y[11];!this.p&&v.N.length&&(n.qb=e);n.Rg=cb(n.qb);this.B&&db(n,n.qb,this.B);if(n.xb){e=0;for(l=y[12].length;e<l;e++)for(d=0,q=y[12][e].length;d<q;d++)n.Ca[e][d]=y[12][e][d];n.da.set(0,0,0,0);n.ve.set(0,0,-1,-1);n.Sb.set(0,0,-1,-1);n.hb.Cg(n.da);T(n.Sk)}else{n.Ca=y[12].slice(0);e=0;for(l=n.Ca.length;e<
l;e++)n.Ca[e]=y[12][e].slice(0);n.ga=[];n.oe=[];n.oe.length=v.N.length;n.da=new S(0,0,0,0);n.ve=new S(0,0,-1,-1);n.Sb=new S(0,0,-1,-1);n.hb=new ua;n.Sk=[];n.O=Db;n.Ay=Eb;n.Ia=Fb;n.Y=Gb;n.xx=Hb;n.Xq=Ib;n.zd=Jb}n.ef=!1;n.Mq=0;n.Lq=0;n.Kq=null;14===y.length&&(n.ef=!0,n.Mq=y[13][0],n.Lq=y[13][1],n.Kq=y[13][2]);e=0;for(l=v.N.length;e<l;e++)n.oe[e]=!0;n.ie=!0;n.pd=Kb;n.pd();n.Yq=!!n.ga.length;n.Rk=!0;n.Zk=!0;v.wi=!0;n.visible=!0;n.Lh=-1;n.m=c;n.sd=c.i.length;n.vf=0;"undefined"===typeof n.S&&(n.S=null);
this.aa=n.Uc=!0}var x;T(P);e=0;for(l=v.za.length;e<l;e++)P.push.apply(P,v.za[e].Ba);P.push.apply(P,v.Ba);if(n.xb)for(e=0,l=P.length;e<l;e++){var k=P[e];x=n.Q[e];x.xb=!0;k.behavior.P.call(x,k,n);y=a[4][e];d=0;for(q=y.length;d<q;d++)x.u[d]=y[d];x.H();k.behavior.Kh.add(n)}else for(n.Q=[],e=0,l=P.length;e<l;e++)k=P[e],x=new k.behavior.P(k,n),x.xb=!1,x.u=a[4][e].slice(0),x.H(),n.Q.push(x),k.behavior.Kh.add(n);y=a[5];if(n.xb)for(e=0,l=y.length;e<l;e++)n.u[e]=y[e];else n.u=y.slice(0);this.Vc.push(n);this.De=
!0;c&&(c.Ng(n,!0),1!==c.Fc||1!==c.Gc)&&(v.xi=!0);this.Hj++;if(v.Pb){if(n.Pb=!0,n.xb?T(n.siblings):n.siblings=[],!h&&!f){e=0;for(l=v.$b.length;e<l;e++)if(v.$b[e]!==v){if(!v.$b[e].xc)return null;n.siblings.push(this.we(v.$b[e].xc,u,!1,w?n.x:b,w?n.y:g,!0))}e=0;for(l=n.siblings.length;e<l;e++)for(n.siblings[e].siblings.push(n),d=0;d<l;d++)e!==d&&n.siblings[e].siblings.push(n.siblings[d])}}else n.Pb=!1,n.siblings=null;n.H();e=0;for(l=n.Q.length;e<l;e++)n.Q[e].Iw&&n.Q[e].Iw();return n};d.prototype.Fl=function(a){var c,
h;c=0;for(h=this.T.R.length;c<h;c++){var b=this.T.R[c];if(fb(b.name,a))return b}return null};d.prototype.dh=function(a){a=R(a);0>a&&(a=0);a>=this.T.R.length&&(a=this.T.R.length-1);return this.T.R[a]};d.prototype.bl=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].ea().ka=!0};d.prototype.Vh=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].Vh()};d.prototype.Ue=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].Ue()};d.prototype.ed=function(a){var c,h;c=0;for(h=a.length;c<h;c++)a[c].ed()};d.prototype.Vq=
function(a){if(a.wi){var c,h,b=a.i;c=0;for(h=b.length;c<h;++c)b[c].Xq();b=this.Vc;c=0;for(h=b.length;c<h;++c)b[c].type===a&&b[c].Xq();a.wi=!1}};d.prototype.zl=function(a,c,h,b){var g,e,f=a?1!==a.Fc||1!==a.Gc:!1;if(c.G)for(a=0,g=c.Re.length;a<g;++a)e=c.Re[a],f||e.xi?Ca(b,e.i):(this.Vq(e),e.Hi.Uj(h,b));else f||c.xi?Ca(b,c.i):(this.Vq(c),c.Hi.Uj(h,b))};d.prototype.fh=function(a,c,h,b){var g,e;g=0;for(e=c.length;g<e;++g)this.zl(a,c[g],h,b)};d.prototype.Jl=function(a,c,h){var b=this.ik;b&&this.fh(a,b.wm,
c,h)};d.prototype.nk=function(a,c,h){var b=a.ea(),g,e,f,l,d=this.Da().Ja.rc,q,v,n;if(b.ka)for(b.ka=!1,T(b.i),g=0,l=a.i.length;g<l;g++)f=a.i[g],f.Y(),q=f.m.Cb(c,h,!0),v=f.m.Cb(c,h,!1),f.Ia(q,v)?b.i.push(f):d&&b.Z.push(f);else{e=0;n=d?b.Z:b.i;g=0;for(l=n.length;g<l;g++)f=n[g],f.Y(),q=f.m.Cb(c,h,!0),v=f.m.Cb(c,h,!1),f.Ia(q,v)&&(d?b.i.push(f):(b.i[e]=b.i[g],e++));n.length=e}a.Qc();return b.Nl()};d.prototype.cf=function(a,c){if(!(a&&c&&a!==c&&a.Uc&&c.Uc))return!1;a.Y();c.Y();var h=a.m,b=c.m,g,e,f,l,d,
q,v,n;if(h===b||h.Fc===b.Fc&&b.Gc===b.Gc&&h.scale===b.scale&&h.n===b.n&&h.td===b.td){if(!a.da.Tl(c.da)||!a.hb.Vo(c.hb)||a.ef&&c.ef)return!1;if(a.ef)return this.Eq(a,c);if(c.ef)return this.Eq(c,a);v=a.S&&!a.S.Je();g=c.S&&!c.S.Je();if(!v&&!g)return!0;v?(a.S.Nd(a.width,a.height,a.n),v=a.S):(this.md.Bg(a.hb,a.x,a.y,a.width,a.height),v=this.md);g?(c.S.Nd(c.width,c.height,c.n),n=c.S):(this.md.Bg(c.hb,c.x,c.y,c.width,c.height),n=this.md);return v.oh(n,c.x-a.x,c.y-a.y)}v=a.S&&!a.S.Je();g=c.S&&!c.S.Je();v?
(a.S.Nd(a.width,a.height,a.n),this.md.uq(a.S)):this.md.Bg(a.hb,a.x,a.y,a.width,a.height);v=this.md;g?(c.S.Nd(c.width,c.height,c.n),this.an.uq(c.S)):this.an.Bg(c.hb,c.x,c.y,c.width,c.height);n=this.an;g=0;for(e=v.Fb;g<e;g++)f=2*g,l=f+1,d=v.na[f],q=v.na[l],v.na[f]=h.Aa(d+a.x,q+a.y,!0),v.na[l]=h.Aa(d+a.x,q+a.y,!1);v.Y();g=0;for(e=n.Fb;g<e;g++)f=2*g,l=f+1,d=n.na[f],q=n.na[l],n.na[f]=b.Aa(d+c.x,q+c.y,!0),n.na[l]=b.Aa(d+c.x,q+c.y,!1);n.Y();return v.oh(n,0,0)};var W=new ua,E=new S(0,0,0,0),K=[];d.prototype.Eq=
function(a,c){var h,b,g,e,f=c.da,l=a.x,d=a.y;a.Al(f,K);var q=c.S&&!c.S.Je();h=0;for(b=K.length;h<b;++h)if(g=K[h],e=g.fa,f.Ul(e,l,d)&&(W.Cg(e),W.offset(l,d),W.Vo(c.hb)))if(q)if(c.S.Nd(c.width,c.height,c.n),g.uc){if(g.uc.oh(c.S,c.x-(l+e.left),c.y-(d+e.top)))return T(K),!0}else{if(this.md.Bg(W,0,0,e.right-e.left,e.bottom-e.top),this.md.oh(c.S,c.x,c.y))return T(K),!0}else if(g.uc){if(this.md.Bg(c.hb,0,0,c.width,c.height),g.uc.oh(this.md,-(l+e.left),-(d+e.top)))return T(K),!0}else return T(K),!0;T(K);
return!1};d.prototype.Dq=function(a,c,h,b,g){if(!g||!g.Uc)return!1;g.Y();E.set(qa(a,h),qa(c,b),pa(a,h),pa(c,b));if(!g.da.Tl(E))return!1;if(g.ef){g.Al(E,K);var e,f,l,d=g.x,q=g.y;g=0;for(e=K.length;g<e;++g)if(f=K[g],l=f.fa,E.Ul(l,d,q)&&(W.Cg(l),W.offset(d,q),W.ph(a,c,h,b)))if(f.uc){if(f.uc.ph(d+l.left,q+l.top,a,c,h,b))return T(K),!0}else return T(K),!0;T(K);return!1}if(!g.hb.ph(a,c,h,b))return!1;if(!g.S||g.S.Je())return!0;g.S.Nd(g.width,g.height,g.n);return g.S.ph(g.x,g.y,a,c,h,b)};d.prototype.Rq=function(a,
c){if(!c)return!1;var h,b,g,e,f;h=0;for(b=a.Ba.length;h<b;h++)if(a.Ba[h].behavior instanceof c)return!0;if(!a.G)for(h=0,b=a.za.length;h<b;h++)for(f=a.za[h],g=0,e=f.Ba.length;g<e;g++)if(f.Ba[g].behavior instanceof c)return!0;return!1};d.prototype.nn=function(a){return this.Rq(a,Zb.Zx)};d.prototype.pn=function(a){return this.Rq(a,Zb.$x)};var Q=[];d.prototype.Sf=function(a){var c,h,b;a.Y();this.Jl(a.m,a.da,Q);c=0;for(h=Q.length;c<h;++c)if(b=Q[c],b.L.solidEnabled&&this.cf(a,b))return T(Q),b;T(Q);return null};
d.prototype.Sw=function(a,c,h,b){b=b||50;var g=a.x,e=a.y,f,l=null,d=null;for(f=0;f<b;f++)if(a.x=g+c*f,a.y=e+h*f,a.O(),!this.cf(a,l)&&((l=this.Sf(a))&&(d=l),!l&&!l))return d&&this.Pw(a,c,h,d),!0;a.x=g;a.y=e;a.O();return!1};d.prototype.Pw=function(a,c,h,b){var g=2,e,f=!1;e=!1;for(var l=a.x,d=a.y;16>=g;)e=1/g,g*=2,a.x+=c*e*(f?1:-1),a.y+=h*e*(f?1:-1),a.O(),this.cf(a,b)?e=f=!0:(e=f=!1,l=a.x,d=a.y);e&&(a.x=l,a.y=d,a.O())};d.prototype.Tw=function(a){var c=0,h=a.x,b=a.y,g=0,e=0,f=0,l=this.Sf(a);if(l){for(;100>=
c;){switch(g){case 0:e=0;f=-1;c++;break;case 1:e=1;f=-1;break;case 2:e=1;f=0;break;case 3:f=e=1;break;case 4:e=0;f=1;break;case 5:e=-1;f=1;break;case 6:e=-1;f=0;break;case 7:f=e=-1}g=(g+1)%8;a.x=R(h+e*c);a.y=R(b+f*c);a.O();if(!this.cf(a,l)&&(l=this.Sf(a),!l))return}a.x=h;a.y=b;a.O()}};d.prototype.Ww=function(a,c){a.Uc&&c.Uc&&this.Of.push([a,c])};d.prototype.mt=function(a,c,h){var b,g,e;b=0;for(g=this.Of.length;b<g;++b){e=this.Of[b];if(e[0]===a)e=e[1];else if(e[1]===a)e=e[0];else continue;if(c.G){if(-1===
c.Re.indexOf(c))continue}else if(e.type!==c)continue;-1===h.indexOf(e)&&h.push(e)}};d.prototype.Ft=function(a,c){var h,b,g;h=0;for(b=this.Of.length;h<b;h++)if(g=this.Of[h],g[0]===a&&g[1]===c||g[0]===c&&g[1]===a)return!0;return!1};d.prototype.Dt=function(a,c,h){var b=a.x,g=a.y,e=pa(10,Pa(c,h,b,g)),f=La(c,h,b,g),l=this.Sf(a);if(!l)return Ia(f+ra);var d=l,q,v,n,w,u=U(5);for(q=1;36>q;q++)if(v=f-q*u,a.x=c+Math.cos(v)*e,a.y=h+Math.sin(v)*e,a.O(),!this.cf(a,d)&&(d=this.Sf(a),!d)){n=v;break}36===q&&(n=Ia(f+
ra));d=l;for(q=1;36>q;q++)if(v=f+q*u,a.x=c+Math.cos(v)*e,a.y=h+Math.sin(v)*e,a.O(),!this.cf(a,d)&&(d=this.Sf(a),!d)){w=v;break}36===q&&(w=Ia(f+ra));a.x=b;a.y=g;a.O();if(w===n)return w;a=Ma(w,n)/2;a=Oa(w,n)?Ia(n+a+ra):Ia(w+a);n=Math.cos(f);f=Math.sin(f);w=Math.cos(a);a=Math.sin(a);c=n*w+f*a;return La(0,0,n-2*c*w,f-2*c*a)};var za=-1;d.prototype.trigger=function(a,c,h){if(!this.T)return!1;var b=this.T.wf;if(!b)return!1;var g=!1,e,f,l;za++;var d=b.jl;f=0;for(l=d.length;f<l;++f)e=this.Oq(a,c,d[f],h),g=
g||e;e=this.Oq(a,c,b,h);za--;return g||e};d.prototype.Oq=function(a,c,h,b){var g=!1,e,f,l,d;if(c)for(l=this.ln(a,c,c.type.name,h,b),g=g||l,d=c.type.za,e=0,f=d.length;e<f;++e)l=this.ln(a,c,d[e].name,h,b),g=g||l;else l=this.ln(a,c,"system",h,b),g=g||l;return g};d.prototype.ln=function(a,c,h,b,g){var e,f=!1,l=!1,l="undefined"!==typeof g,d=(l?b.zo:b.Pq)[h];if(!d)return f;var q=null;b=0;for(e=d.length;b<e;++b)if(d[b].method==a){q=d[b].Wg;break}if(!q)return f;var v;l?v=q[g]:v=q;if(!v)return null;b=0;for(e=
v.length;b<e;b++)a=v[b][0],g=v[b][1],l=this.Uu(c,h,a,g),f=f||l;return f};d.prototype.Uu=function(a,c,h,b){var g,e,f=!1;this.mn++;var l=this.Da().Ja;l&&this.Vh(l.bf);var d=1<this.mn;this.Vh(h.bf);d&&this.Qw();var q=this.Tj(h);q.Ja=h;a&&(g=this.types[c].ea(),g.ka=!1,T(g.i),g.i[0]=a,this.types[c].Qc());a=!0;if(h.parent){c=q.Cq;for(g=h.parent;g;)c.push(g),g=g.parent;c.reverse();g=0;for(e=c.length;g<e;g++)if(!c[g].cx()){a=!1;break}}a&&(this.Xg++,h.rc?h.bx(b):h.Na(),f=f||q.Df);this.Pj();d&&this.Gw();this.ed(h.bf);
l&&this.ed(l.bf);this.De&&0===this.ad&&0===za&&!this.am&&this.pb();this.mn--;return f};d.prototype.ej=function(){var a=this.Da();return a.Ja.Sa[a.La]};d.prototype.Zv=function(){return 0===this.Da().La};d.prototype.Qw=function(){this.Bj++;this.Bj>=this.pm.length&&this.pm.push([])};d.prototype.Gw=function(){this.Bj--};d.prototype.Fo=function(){return this.pm[this.Bj]};d.prototype.Tj=function(a){this.Ri++;this.Ri>=this.ol.length&&this.ol.push(new Lb);var c=this.Da();c.reset(a);return c};d.prototype.Pj=
function(){this.Ri--};d.prototype.Da=function(){return this.ol[this.Ri]};d.prototype.Rw=function(a){this.ug++;this.ug>=this.Ih.length&&this.Ih.push(ba({name:a,index:0,Fg:!1}));var c=this.Bl();c.name=a;c.index=0;c.Fg=!1;return c};d.prototype.Hw=function(){this.ug--};d.prototype.Bl=function(){return this.Ih[this.ug]};d.prototype.Go=function(a,c){for(var h,b,g,e,f,l;c;){h=0;for(b=c.Kc.length;h<b;h++)if(l=c.Kc[h],l instanceof Mb&&fb(a,l.name))return l;c=c.parent}h=0;for(b=this.Td.length;h<b;h++)for(f=
this.Td[h],g=0,e=f.ze.length;g<e;g++)if(l=f.ze[g],l instanceof Mb&&fb(a,l.name))return l;return null};d.prototype.Jo=function(a){var c,h;c=0;for(h=this.bd.length;c<h;c++)if(this.bd[c].X===a)return this.bd[c];return null};d.prototype.hg=function(a){var c,h;c=0;for(h=this.A.length;c<h;c++)if(this.A[c].X===a)return this.A[c];return null};d.prototype.hv=function(a){var c,h;c=0;for(h=this.qe.length;c<h;c++)if(this.qe[c].X===a)return this.qe[c];return null};d.prototype.Pt=function(a,c){this.ai=[a,c];this.aa=
!0};d.prototype.Mv=function(){var a=this,c=this.Sm,h=this.ae,g=this.vj,e=!1;this.yq&&(e=!0,c="__c2_continuouspreview",this.yq=!1);if(c.length){this.pb();h=this.jx();if(k()&&!this.zc)t(c,h,function(){A("Saved state to IndexedDB storage ("+h.length+" bytes)");a.ae=h;a.trigger(V.prototype.k.Jk,null);a.ae="";e&&b()},function(g){try{localStorage.setItem("__c2save_"+c,h),A("Saved state to WebStorage ("+h.length+" bytes)"),a.ae=h,a.trigger(V.prototype.k.Jk,null),a.ae="",e&&b()}catch(f){A("Failed to save game state: "+
g+"; "+f),a.trigger(V.prototype.k.Nn,null)}});else try{localStorage.setItem("__c2save_"+c,h),A("Saved state to WebStorage ("+h.length+" bytes)"),a.ae=h,this.trigger(V.prototype.k.Jk,null),a.ae="",e&&b()}catch(f){A("Error saving to WebStorage: "+f),a.trigger(V.prototype.k.Nn,null)}this.vj=this.Sm="";this.Wa=null}if(g.length){if(k()&&!this.zc)r(g,function(c){c?(a.Wa=c,A("Loaded state from IndexedDB storage ("+a.Wa.length+" bytes)")):(a.Wa=localStorage.getItem("__c2save_"+g)||"",A("Loaded state from WebStorage ("+
a.Wa.length+" bytes)"));a.ci=!1;a.Wa||(a.Wa=null,a.trigger(V.prototype.k.ti,null))},function(){a.Wa=localStorage.getItem("__c2save_"+g)||"";A("Loaded state from WebStorage ("+a.Wa.length+" bytes)");a.ci=!1;a.Wa||(a.Wa=null,a.trigger(V.prototype.k.ti,null))});else{try{this.Wa=localStorage.getItem("__c2save_"+g)||"",A("Loaded state from WebStorage ("+this.Wa.length+" bytes)")}catch(l){this.Wa=null}this.ci=!1;a.Wa||(a.Wa=null,a.trigger(V.prototype.k.ti,null))}this.Sm=this.vj=""}null!==this.Wa&&(this.pb(),
this.iw(this.Wa)?(this.ae=this.Wa,this.trigger(V.prototype.k.ys,null),this.ae=""):a.trigger(V.prototype.k.ti,null),this.Wa=null)};d.prototype.jx=function(){var c,h,b,g,e,f,l,d={c2save:!0,version:1,rt:{time:this.Qb.U,walltime:this.Ek.U,timescale:this.gi,tickcount:this.Gd,execcount:this.Xg,next_uid:this.Mh,running_layout:this.T.X,start_time_offset:Date.now()-this.jk},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(h=this.A.length;c<h;c++)if(e=this.A[c],!e.G&&!this.nn(e)){f={instances:[]};
Sa(e.L)&&(f.ex=a(e.L));b=0;for(g=e.i.length;b<g;b++)f.instances.push(this.Rm(e.i[b]));d.types[e.X.toString()]=f}c=0;for(h=this.bd.length;c<h;c++)b=this.bd[c],d.layouts[b.X.toString()]=b.Oa();g=d.events.groups;c=0;for(h=this.qe.length;c<h;c++)b=this.qe[c],g[b.X.toString()]=this.jh[b.ih].jg;h=d.events.cnds;for(l in this.ue)this.ue.hasOwnProperty(l)&&(c=this.ue[l],Sa(c.L)&&(h[l]={ex:a(c.L)}));h=d.events.acts;for(l in this.pe)this.pe.hasOwnProperty(l)&&(c=this.pe[l],Sa(c.L)&&(h[l]={ex:a(c.L)}));h=d.events.vars;
for(l in this.Jg)this.Jg.hasOwnProperty(l)&&(c=this.Jg[l],c.oj||c.parent&&!c.vh||(h[l]=c.data));d.system=this.Fd.Oa();return JSON.stringify(d)};d.prototype.hq=function(){var a,c,h,b,g,e;this.ge={};a=0;for(c=this.A.length;a<c;a++)if(h=this.A[a],!h.G)for(b=0,g=h.i.length;b<g;b++)e=h.i[b],this.ge[e.uid.toString()]=e};d.prototype.iw=function(a){var c;try{c=JSON.parse(a)}catch(h){return!1}if(!c.c2save||1<c.version)return!1;this.rh=!0;a=c.rt;this.Qb.reset();this.Qb.U=a.time;this.Ek.reset();this.Ek.U=a.walltime||
0;this.gi=a.timescale;this.Gd=a.tickcount;this.Xg=a.execcount;this.jk=Date.now()-a.start_time_offset;var b=a.running_layout;if(b!==this.T.X)if(b=this.Jo(b))this.vo(b);else return;var g,e,f,l,d,q,v;q=c.types;for(e in q)if(q.hasOwnProperty(e)&&(l=this.hg(parseInt(e,10)))&&!l.G&&!this.nn(l)){q[e].ex?l.L=q[e].ex:Ta(l.L);d=l.i;f=q[e].instances;b=0;for(g=qa(d.length,f.length);b<g;b++)this.wj(d[b],f[b]);b=f.length;for(g=d.length;b<g;b++)this.hf(d[b]);b=d.length;for(g=f.length;b<g;b++){d=null;if(l.qa.Ke&&
(d=this.T.fj(f[b].w.l),!d))continue;d=this.we(l.xc,d,!1,0,0,!0);this.wj(d,f[b])}l.Eg=!0}this.pb();this.hq();g=c.layouts;for(e in g)g.hasOwnProperty(e)&&(b=this.Jo(parseInt(e,10)))&&b.fb(g[e]);g=c.events.groups;for(e in g)g.hasOwnProperty(e)&&(b=this.hv(parseInt(e,10)))&&this.jh[b.ih]&&this.jh[b.ih].pq(g[e]);b=c.events.cnds;for(e in this.ue)this.ue.hasOwnProperty(e)&&(b.hasOwnProperty(e)?this.ue[e].L=b[e].ex:this.ue[e].L={});b=c.events.acts;for(e in this.pe)this.pe.hasOwnProperty(e)&&(b.hasOwnProperty(e)?
this.pe[e].L=b[e].ex:this.pe[e].L={});b=c.events.vars;for(e in b)b.hasOwnProperty(e)&&this.Jg.hasOwnProperty(e)&&(this.Jg[e].data=b[e]);this.Mh=a.next_uid;this.rh=!1;b=0;for(g=this.Wi.length;b<g;++b)d=this.Wi[b],this.trigger(Object.getPrototypeOf(d.type.qa).k.si,d);T(this.Wi);this.Fd.fb(c.system);b=0;for(g=this.A.length;b<g;b++)if(l=this.A[b],!l.G&&!this.nn(l))for(c=0,e=l.i.length;c<e;c++){d=l.i[c];if(l.Pb)for(q=d.hh(),T(d.siblings),a=0,f=l.$b.length;a<f;a++)v=l.$b[a],l!==v&&d.siblings.push(v.i[q]);
d.Kd&&d.Kd();if(d.Q)for(a=0,f=d.Q.length;a<f;a++)q=d.Q[a],q.Kd&&q.Kd()}return this.aa=!0};d.prototype.Rm=function(c,h){var b,g,e,f,l;f=c.type;e=f.qa;var d={};h?d.c2=!0:d.uid=c.uid;Sa(c.L)&&(d.ex=a(c.L));if(c.Ta&&c.Ta.length)for(d.ivs={},b=0,g=c.Ta.length;b<g;b++)d.ivs[c.type.Sl[b].toString()]=c.Ta[b];if(e.Ke){e={x:c.x,y:c.y,w:c.width,h:c.height,l:c.m.X,zi:c.zd()};0!==c.n&&(e.a=c.n);1!==c.opacity&&(e.o=c.opacity);.5!==c.Nb&&(e.hX=c.Nb);.5!==c.Ob&&(e.hY=c.Ob);0!==c.qb&&(e.bm=c.qb);c.visible||(e.v=c.visible);
c.Uc||(e.ce=c.Uc);-1!==c.Lh&&(e.mts=c.Lh);if(f.N.length)for(e.fx=[],b=0,g=f.N.length;b<g;b++)l=f.N[b],e.fx.push({name:l.name,active:c.oe[l.index],params:c.Ca[l.index]});d.w=e}if(c.Q&&c.Q.length)for(d.behs={},b=0,g=c.Q.length;b<g;b++)f=c.Q[b],f.Oa&&(d.behs[f.type.X.toString()]=f.Oa());c.Oa&&(d.data=c.Oa());return d};d.prototype.jv=function(a,c){var b,h;b=0;for(h=a.Sl.length;b<h;b++)if(a.Sl[b]===c)return b;return-1};d.prototype.cv=function(a,c){var b,h;b=0;for(h=a.Q.length;b<h;b++)if(a.Q[b].type.X===
c)return b;return-1};d.prototype.wj=function(a,c,b){var h,g,e,f,l;l=a.type;var d=l.qa;if(b){if(!c.c2)return}else a.uid=c.uid;c.ex?a.L=c.ex:Ta(a.L);if(g=c.ivs)for(h in g)g.hasOwnProperty(h)&&(e=this.jv(l,parseInt(h,10)),0>e||e>=a.Ta.length||(f=g[h],null===f&&(f=NaN),a.Ta[e]=f));if(d.Ke){e=c.w;a.m.X!==e.l&&(g=a.m,a.m=this.T.fj(e.l),a.m?(g.yg(a,!0),a.m.Ng(a,!0),a.O(),a.m.Yh(0)):(a.m=g,b||this.hf(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.sd=e.zi;a.n=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?
e.o:1;a.Nb=e.hasOwnProperty("hX")?e.hX:.5;a.Ob=e.hasOwnProperty("hY")?e.hY:.5;a.visible=e.hasOwnProperty("v")?e.v:!0;a.Uc=e.hasOwnProperty("ce")?e.ce:!0;a.Lh=e.hasOwnProperty("mts")?e.mts:-1;a.qb=e.hasOwnProperty("bm")?e.bm:0;a.Rg=cb(a.qb);this.B&&db(a,a.qb,this.B);a.O();if(e.hasOwnProperty("fx"))for(b=0,g=e.fx.length;b<g;b++)f=l.Dl(e.fx[b].name),0>f||(a.oe[f]=e.fx[b].active,a.Ca[f]=e.fx[b].params);a.pd()}if(l=c.behs)for(h in l)l.hasOwnProperty(h)&&(b=this.cv(a,parseInt(h,10)),0>b||a.Q[b].fb(l[h]));
c.data&&a.fb(c.data)};d.prototype.Ao=function(a,c,b){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,b)},b)};d.prototype.Wu=function(a,c){this.Ao("data.js",function(b){var h=new FileReader;h.onload=function(c){a(c.target.result)};h.onerror=c;h.readAsText(b)},c)};var Aa=[],L=0;d.prototype.um=function(){if(Aa.length&&!(8<=L)){L++;var a=Aa.shift();this.Tt(a.filename,a.tx,a.ru)}};d.prototype.Vu=function(a,c,b){var h=this;Aa.push({filename:a,tx:function(a){L--;
h.um();c(a)},ru:function(a){L--;h.um();b(a)}});this.um()};d.prototype.Tt=function(a,c,b){this.Ao(a,function(a){var b=new FileReader;b.onload=function(a){c(a.target.result)};b.readAsArrayBuffer(a)},b)};d.prototype.Xu=function(a,c,b){var h="",g=a.toLowerCase(),e=g.substr(g.length-4),g=g.substr(g.length-5);".mp4"===e?h="video/mp4":".webm"===g?h="video/webm":".m4a"===e?h="audio/mp4":".mp3"===e&&(h="audio/mpeg");this.Vu(a,function(a){a=URL.createObjectURL(new Blob([a],{type:h}));c(a)},b)};d.prototype.Tv=
function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.prototype.qq=function(a,c){this.bp&&!this.Tv(c)?this.Xu(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};d.prototype.ck=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Nb=function(a){return new d(document.getElementById(a))};Ob=function(a,c){return new d({dc:!0,
width:a,height:c})};window.cr_createRuntime=Nb;window.cr_createDCRuntime=Ob;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.lf=!0;document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=
function(){var a=new d(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(d,m){var k=window.cr_getC2Runtime();k&&k.Pt(d,m)};window.cr_sizeCanvas=function(d,m){if(0!==d&&0!==m){var k=window.cr_getC2Runtime();k&&k.setSize(d,m)}};
window.cr_setSuspended=function(d){var m=window.cr_getC2Runtime();m&&m.setSuspended(d)};
(function(){function d(a,b){this.b=a;this.wf=null;this.scrollX=this.b.Fa/2;this.scrollY=this.b.Ea/2;this.scale=1;this.n=0;this.fg=!0;this.name=b[0];this.Dw=b[1];this.Cw=b[2];this.width=b[1];this.height=b[2];this.Sq=b[3];this.xq=b[4];this.X=b[5];var e=b[6],f,d;this.R=[];this.nh=[];f=0;for(d=e.length;f<d;f++){var k=new Pb(this,e[f]);k.Op=f;this.R.push(k)}e=b[7];this.Fe=[];f=0;for(d=e.length;f<d;f++){var k=e[f],n=this.b.A[k[1]];n.xc||(n.xc=k);this.Fe.push(k);-1===this.nh.indexOf(n)&&this.nh.push(n)}this.N=
[];this.ga=[];this.ie=!0;this.Ca=[];f=0;for(d=b[8].length;f<d;f++)this.N.push({id:b[8][f][0],name:b[8][f][1],Pa:-1,fd:!1,jc:!0,index:f}),this.Ca.push(b[8][f][2].slice(0));this.pd();this.We=new S(0,0,1,1);this.Jm=new S(0,0,1,1);this.Te={}}function m(a,b){return a.sd-b.sd}function k(a,b){this.eb=a;this.b=a.b;this.i=[];this.scale=1;this.n=0;this.Rd=!1;this.le=new S(0,0,0,0);this.Nq=new ua;this.la=this.ja=this.ma=this.ia=0;this.Uf=!1;this.me=-1;this.cl=0;this.name=b[0];this.index=b[1];this.X=b[2];this.visible=
b[3];this.Rc=b[4];this.od=b[5];this.Fc=b[6];this.Gc=b[7];this.opacity=b[8];this.$i=b[9];this.wc=b[10];this.td=b[11];this.qb=b[12];this.nu=b[13];this.Rg="source-over";this.wb=this.yb=0;this.ob=null;this.be=p();this.jd=!0;this.sg=new S(0,0,-1,-1);this.jb=new S(0,0,-1,-1);this.wc&&(this.ob=new bb(this.b.Fa,this.b.Ea));this.Dd=!1;var e=b[14],f,d;this.Bq=[];this.pc=[];this.Tg=[];f=0;for(d=e.length;f<d;f++){var k=e[f],n=this.b.A[k[1]];n.xc||(n.xc=k,n.Mt=this.index);this.pc.push(k);-1===this.eb.nh.indexOf(n)&&
this.eb.nh.push(n)}ya(this.Bq,this.pc);this.N=[];this.ga=[];this.ie=!0;this.Ca=[];f=0;for(d=b[15].length;f<d;f++)this.N.push({id:b[15][f][0],name:b[15][f][1],Pa:-1,fd:!1,jc:!0,index:f}),this.Ca.push(b[15][f][2].slice(0));this.pd();this.We=new S(0,0,1,1);this.Jm=new S(0,0,1,1)}function p(){return a.length?a.pop():[]}function t(c){T(c);a.push(c)}d.prototype.ix=function(a){var b=a.type.X.toString();this.Te.hasOwnProperty(b)||(this.Te[b]=[]);this.Te[b].push(this.b.Rm(a))};d.prototype.No=function(){var a=
this.R[0];return!a.od&&1===a.opacity&&!a.$i&&a.visible};d.prototype.pd=function(){T(this.ga);this.ie=!0;var a,b,e;a=0;for(b=this.N.length;a<b;a++)e=this.N[a],e.jc&&(this.ga.push(e),e.fd||(this.ie=!1))};d.prototype.Cl=function(a){var b,e,f;b=0;for(e=this.N.length;b<e;b++)if(f=this.N[b],f.name===a)return f;return null};var r=[],b=!0;d.prototype.Zm=function(){this.xq&&(this.wf=this.b.pl[this.xq],this.wf.qn());this.b.T=this;this.width=this.Dw;this.height=this.Cw;this.scrollX=this.b.Fa/2;this.scrollY=
this.b.Ea/2;var a,g,e,f,d,k,n;a=0;for(e=this.b.A.length;a<e;a++)if(g=this.b.A[a],!g.G)for(d=g.i,g=0,f=d.length;g<f;g++)if(k=d[g],k.m){var l=k.m.Op;l>=this.R.length&&(l=this.R.length-1);k.m=this.R[l];-1===k.m.i.indexOf(k)&&k.m.i.push(k);k.m.Uf=!0}if(!b)for(a=0,e=this.R.length;a<e;++a)this.R[a].i.sort(m);T(r);this.ko();a=0;for(e=this.R.length;a<e;a++)k=this.R[a],k.Lt(),k.Bk();d=!1;if(!this.fg){for(n in this.Te)if(this.Te.hasOwnProperty(n)&&(g=this.b.hg(parseInt(n,10)))&&!g.G&&this.b.pn(g)){f=this.Te[n];
a=0;for(e=f.length;a<e;a++){k=null;if(g.qa.Ke&&(k=this.fj(f[a].w.l),!k))continue;k=this.b.we(g.xc,k,!1,0,0,!0);this.b.wj(k,f[a]);d=!0;r.push(k)}T(f)}a=0;for(e=this.R.length;a<e;a++)this.R[a].i.sort(m),this.R[a].Uf=!0}d&&(this.b.pb(),this.b.hq());for(a=0;a<r.length;a++)if(k=r[a],k.type.Pb)for(e=k.hh(),g=0,f=k.type.$b.length;g<f;g++)n=k.type.$b[g],k.type!==n&&(n.i.length>e?k.siblings.push(n.i[e]):n.xc&&(d=this.b.we(n.xc,k.m,!0,k.x,k.y,!0),this.b.pb(),n.Ak(),k.siblings.push(d),r.push(d)));a=0;for(e=
this.Fe.length;a<e;a++)k=this.Fe[a],g=this.b.A[k[1]],g.Pb||this.b.we(this.Fe[a],null,!0);this.b.Qg=null;this.b.pb();if(this.b.ua&&!this.b.Ua)for(a=0,e=this.b.A.length;a<e;a++)n=this.b.A[a],!n.G&&n.i.length&&n.Rj&&n.Rj(this.b.ua);if(this.b.rh)ya(this.b.Wi,r);else for(a=0,e=r.length;a<e;a++)k=r[a],this.b.trigger(Object.getPrototypeOf(k.type.qa).k.si,k);T(r);this.b.rh||this.b.trigger(V.prototype.k.In,null);this.fg=!1};d.prototype.Kt=function(){var a,b,e,f,d;b=a=0;for(e=this.Fe.length;a<e;a++)f=this.Fe[a],
d=this.b.A[f[1]],d.global?d.Pb||this.b.we(f,null,!0):(this.Fe[b]=f,b++);xa(this.Fe,b)};d.prototype.rx=function(){this.b.rh||this.b.trigger(V.prototype.k.xs,null);this.b.Xl=!0;T(this.b.Fd.Xb);var a,g,e,f,d,k;if(!this.fg)for(a=0,g=this.R.length;a<g;a++)for(this.R[a].sn(),d=this.R[a].i,e=0,f=d.length;e<f;e++)k=d[e],k.type.global||this.b.pn(k.type)&&this.ix(k);a=0;for(g=this.R.length;a<g;a++){d=this.R[a].i;e=0;for(f=d.length;e<f;e++)k=d[e],k.type.global||this.b.hf(k);this.b.pb();T(d);this.R[a].Uf=!0}a=
0;for(g=this.b.A.length;a<g;a++)if(d=this.b.A[a],!(d.global||d.qa.Ke||d.qa.hk||d.G)){e=0;for(f=d.i.length;e<f;e++)this.b.hf(d.i[e]);this.b.pb()}b=!1;this.b.Xl=!1};new S(0,0,0,0);d.prototype.Xc=function(a){var b,e=a,f=!1,d=!this.b.mc;d&&(this.b.uj||(this.b.uj=document.createElement("canvas"),b=this.b.uj,b.width=this.b.K,b.height=this.b.J,this.b.mp=b.getContext("2d"),f=!0),b=this.b.uj,e=this.b.mp,b.width!==this.b.K&&(b.width=this.b.K,f=!0),b.height!==this.b.J&&(b.height=this.b.J,f=!0),f&&this.b.ck(e,
this.b.ya));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.b.qo&&!this.No()&&e.clearRect(0,0,this.b.K,this.b.J);var k,n,f=0;for(k=this.R.length;f<k;f++)n=this.R[f],n.visible&&0<n.opacity&&11!==n.qb&&(n.i.length||!n.od)?n.Xc(e):n.Bk();d&&a.drawImage(b,0,0,this.b.width,this.b.height)};d.prototype.ye=function(a){a.oq(!0);this.b.Ma||(this.b.Ma=a.ac(this.b.K,this.b.J,this.b.ya));if(this.b.Ma.pf!==this.b.K||this.b.Ma.of!==this.b.J)a.deleteTexture(this.b.Ma),this.b.Ma=a.ac(this.b.K,this.b.J,
this.b.ya);a.Ic(this.b.Ma);this.b.mc||a.he(this.b.K,this.b.J);var b,e;for(b=this.R.length-1;0<=b;--b)e=this.R[b],e.visible&&1===e.opacity&&e.ie&&0===e.qb&&(e.i.length||!e.od)?e.ye(a):e.Bk();a.oq(!1)};d.prototype.Eb=function(a){var b=0<this.ga.length||this.b.Hg||!this.b.mc||this.b.ra;if(b){this.b.Ma||(this.b.Ma=a.ac(this.b.K,this.b.J,this.b.ya));if(this.b.Ma.pf!==this.b.K||this.b.Ma.of!==this.b.J)a.deleteTexture(this.b.Ma),this.b.Ma=a.ac(this.b.K,this.b.J,this.b.ya);a.Ic(this.b.Ma);this.b.mc||a.he(this.b.K,
this.b.J)}else this.b.Ma&&(a.Ic(null),a.deleteTexture(this.b.Ma),this.b.Ma=null);this.b.qo&&!this.No()&&a.clear(0,0,0,0);var e,f,d;e=0;for(f=this.R.length;e<f;e++)d=this.R[e],d.visible&&0<d.opacity&&(d.i.length||!d.od)?d.Eb(a):d.Bk();b&&(0===this.ga.length||1===this.ga.length&&this.b.mc?(1===this.ga.length?(b=this.ga[0].index,a.Vb(this.ga[0].Pa),a.Ag(null,1/this.b.K,1/this.b.J,0,0,1,1,this.scale,this.n,0,0,this.b.K/2,this.b.J/2,this.b.Qb.U,this.Ca[b]),a.Sj(this.ga[0].Pa)&&(this.b.aa=!0)):a.Vb(0),
this.b.mc||a.he(this.b.width,this.b.height),a.Ic(null),a.nq(!1),a.$e(1),a.Tb(this.b.Ma),a.lq(),a.Hc(),a.vc(),b=this.b.width/2,e=this.b.height/2,a.Wh(-b,e,b,e,b,-e,-b,-e),a.Tb(null),a.nq(!0)):this.Lm(a,null,null,null))};d.prototype.eh=function(){return 0<this.ga.length||this.b.Hg||!this.b.mc||this.b.ra?this.b.Ma:null};d.prototype.Ko=function(){var a=this.R[0].fc(),b,e,f;b=1;for(e=this.R.length;b<e;b++)f=this.R[b],(0!==f.Fc||0!==f.Gc)&&f.fc()<a&&(a=f.fc());return a};d.prototype.Tm=function(a){if(!this.Sq){var b=
1/this.Ko()*this.b.K/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.aa=!0)};d.prototype.Um=function(a){if(!this.Sq){var b=1/this.Ko()*this.b.J/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.aa=!0)};d.prototype.ko=function(){this.Tm(this.scrollX);this.Um(this.scrollY)};d.prototype.Lm=function(a,b,e,f){var d=e?e.ga:b?b.ga:this.ga,k=1,n=0,l=0,h=0,y=this.b.K,v=this.b.J;e?(k=e.m.fc(),n=e.m.ec(),l=e.m.ia,h=e.m.ja,y=e.m.ma,
v=e.m.la):b&&(k=b.fc(),n=b.ec(),l=b.ia,h=b.ja,y=b.ma,v=b.la);var w=this.b.xl,J,m,r,p,t=0,P=1,W,E,K=this.b.K,Q=this.b.J,za=K/2,Aa=Q/2,L=b?b.We:this.We,B=b?b.Jm:this.Jm,C=0,I=0,H=0,G=0,M=K,aa=K,N=Q,da=Q,O=r=0;p=e?e.m.ec():0;if(e){J=0;for(m=d.length;J<m;J++)r+=a.mv(d[J].Pa),O+=a.nv(d[J].Pa);G=e.da;C=b.Aa(G.left,G.top,!0,!0);H=b.Aa(G.left,G.top,!1,!0);M=b.Aa(G.right,G.bottom,!0,!0);N=b.Aa(G.right,G.bottom,!1,!0);0!==p&&(J=b.Aa(G.right,G.top,!0,!0),m=b.Aa(G.right,G.top,!1,!0),I=b.Aa(G.left,G.bottom,!0,
!0),G=b.Aa(G.left,G.bottom,!1,!0),p=Math.min(C,M,J,I),M=Math.max(C,M,J,I),C=p,p=Math.min(H,N,m,G),N=Math.max(H,N,m,G),H=p);C-=r;H-=O;M+=r;N+=O;B.left=C/K;B.top=1-H/Q;B.right=M/K;B.bottom=1-N/Q;I=C=R(C);G=H=R(H);aa=M=sa(M);da=N=sa(N);I-=r;G-=O;aa+=r;da+=O;0>C&&(C=0);0>H&&(H=0);M>K&&(M=K);N>Q&&(N=Q);0>I&&(I=0);0>G&&(G=0);aa>K&&(aa=K);da>Q&&(da=Q);L.left=C/K;L.top=1-H/Q;L.right=M/K;L.bottom=1-N/Q}else L.left=B.left=0,L.top=B.top=0,L.right=B.right=1,L.bottom=B.bottom=1;O=e&&(a.Th(d[0].Pa)||0!==r||0!==
O||1!==e.opacity||e.type.qa.Kp)||b&&!e&&1!==b.opacity;a.lq();if(O){w[t]||(w[t]=a.ac(K,Q,this.b.ya));if(w[t].pf!==K||w[t].of!==Q)a.deleteTexture(w[t]),w[t]=a.ac(K,Q,this.b.ya);a.Vb(0);a.Ic(w[t]);E=da-G;a.clearRect(I,Q-G-E,aa-I,E);e?e.Eb(a):(a.Tb(this.b.Va),a.$e(b.opacity),a.Hc(),a.translate(-za,-Aa),a.vc(),a.hd(C,N,M,N,M,H,C,H,L));B.left=B.top=0;B.right=B.bottom=1;e&&(p=L.top,L.top=L.bottom,L.bottom=p);t=1;P=0}a.$e(1);r=d.length-1;var Ba=a.Fm(d[r].Pa)||!b&&!e&&!this.b.mc;J=p=0;for(m=d.length;J<m;J++){w[t]||
(w[t]=a.ac(K,Q,this.b.ya));if(w[t].pf!==K||w[t].of!==Q)a.deleteTexture(w[t]),w[t]=a.ac(K,Q,this.b.ya);a.Vb(d[J].Pa);p=d[J].index;a.Sj(d[J].Pa)&&(this.b.aa=!0);0!=J||O?(a.Ag(f,1/K,1/Q,B.left,B.top,B.right,B.bottom,k,n,l,h,(l+y)/2,(h+v)/2,this.b.Qb.U,e?e.Ca[p]:b?b.Ca[p]:this.Ca[p]),a.Tb(null),J!==r||Ba?(a.Ic(w[t]),E=da-G,W=Q-G-E,a.clearRect(I,W,aa-I,E)):(e?a.Ze(e.yb,e.wb):b&&a.Ze(b.yb,b.wb),a.Ic(f)),a.Tb(w[P]),a.Hc(),a.translate(-za,-Aa),a.vc(),a.hd(C,N,M,N,M,H,C,H,L),J!==r||Ba||a.Tb(null)):(a.Ic(w[t]),
E=da-G,W=Q-G-E,a.clearRect(I,W,aa-I,E),e?(e.ib&&e.ib.M?(W=e.ib.M,P=1/W.width,W=1/W.height):(P=1/e.width,W=1/e.height),a.Ag(f,P,W,B.left,B.top,B.right,B.bottom,k,n,l,h,(l+y)/2,(h+v)/2,this.b.Qb.U,e.Ca[p]),e.Eb(a)):(a.Ag(f,1/K,1/Q,0,0,1,1,k,n,l,h,(l+y)/2,(h+v)/2,this.b.Qb.U,b?b.Ca[p]:this.Ca[p]),a.Tb(b?this.b.Va:this.b.Ma),a.Hc(),a.translate(-za,-Aa),a.vc(),a.hd(C,N,M,N,M,H,C,H,L)),B.left=B.top=0,B.right=B.bottom=1,e&&!Ba&&(p=N,N=H,H=p));t=0===t?1:0;P=0===t?1:0}Ba&&(a.Vb(0),e?a.Ze(e.yb,e.wb):b?a.Ze(b.yb,
b.wb):this.b.mc||(a.he(this.b.width,this.b.height),za=this.b.width/2,Aa=this.b.height/2,H=C=0,M=this.b.width,N=this.b.height),a.Ic(f),a.Tb(w[P]),a.Hc(),a.translate(-za,-Aa),a.vc(),e&&1===d.length&&!O?a.hd(C,H,M,H,M,N,C,N,L):a.hd(C,N,M,N,M,H,C,H,L),a.Tb(null))};d.prototype.fj=function(a){var b,e;b=0;for(e=this.R.length;b<e;b++)if(this.R[b].X===a)return this.R[b];return null};d.prototype.Oa=function(){var a,b,e,f={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.n,w:this.width,h:this.height,fv:this.fg,
persist:this.Te,fx:[],layers:{}};a=0;for(b=this.N.length;a<b;a++)e=this.N[a],f.fx.push({name:e.name,active:e.jc,params:this.Ca[e.index]});a=0;for(b=this.R.length;a<b;a++)e=this.R[a],f.layers[e.X.toString()]=e.Oa();return f};d.prototype.fb=function(a){var b,e,f,d;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.n=a.a;this.width=a.w;this.height=a.h;this.Te=a.persist;"undefined"!==typeof a.fv&&(this.fg=a.fv);var k=a.fx;b=0;for(e=k.length;b<e;b++)if(f=this.Cl(k[b].name))f.jc=k[b].active,this.Ca[f.index]=
k[b].params;this.pd();b=a.layers;for(d in b)b.hasOwnProperty(d)&&(a=this.fj(parseInt(d,10)))&&a.fb(b[d])};Bb=d;k.prototype.pd=function(){T(this.ga);this.ie=!0;var a,b,e;a=0;for(b=this.N.length;a<b;a++)e=this.N[a],e.jc&&(this.ga.push(e),e.fd||(this.ie=!1))};k.prototype.Cl=function(a){var b,e,f;b=0;for(e=this.N.length;b<e;b++)if(f=this.N[b],f.name===a)return f;return null};k.prototype.Lt=function(){var a,b,e,f,d,k;b=a=0;for(e=this.pc.length;a<e;a++){f=this.pc[a];d=this.b.A[f[1]];k=this.b.pn(d);d=!0;
if(!k||this.eb.fg){f=this.b.we(f,this,!0);if(!f)continue;r.push(f);f.type.global&&(d=!1,this.Tg.push(f.uid))}d&&(this.pc[b]=this.pc[a],b++)}this.pc.length=b;this.b.pb();!this.b.p&&this.N.length&&(this.qb=this.nu);this.Rg=cb(this.qb);this.b.B&&db(this,this.qb,this.b.B);this.jd=!0};k.prototype.yg=function(a,b){var e=Da(this.i,a);0>e||(b&&this.wc&&a.Sb&&a.Sb.right>=a.Sb.left&&(a.Y(),this.ob.update(a,a.Sb,null),a.Sb.set(0,0,-1,-1)),e===this.i.length-1?this.i.pop():(wa(this.i,e),this.Yh(e)),this.jd=!0)};
k.prototype.Ng=function(a,b){a.sd=this.i.length;this.i.push(a);b&&this.wc&&a.Sb&&a.O();this.jd=!0};k.prototype.Mw=function(a){this.i.unshift(a);this.Yh(0)};k.prototype.sw=function(a,b,e){var f=a.zd();b=b.zd();wa(this.i,f);f<b&&b--;e&&b++;b===this.i.length?this.i.push(a):this.i.splice(b,0,a);this.Yh(f<b?f:b)};k.prototype.Yh=function(a){-1===this.me?this.me=a:a<this.me&&(this.me=a);this.jd=this.Uf=!0};k.prototype.sn=function(){if(this.Uf){-1===this.me&&(this.me=0);var a,b,e;if(this.wc)for(a=this.me,
b=this.i.length;a<b;++a)e=this.i[a],e.sd=a,this.ob.ow(e.Sb);else for(a=this.me,b=this.i.length;a<b;++a)this.i[a].sd=a;this.Uf=!1;this.me=-1}};k.prototype.fc=function(a){return this.kv()*(this.b.mc||a?this.b.Og:1)};k.prototype.kv=function(){return(this.scale*this.eb.scale-1)*this.td+1};k.prototype.ec=function(){return this.Rd?0:Ia(this.eb.n+this.n)};var a=[],e=[],f=[];k.prototype.Hl=function(){this.sn();this.ob.Uj(this.ia,this.ja,this.ma,this.la,f);if(!f.length)return p();if(1===f.length){var a=p();
ya(a,f[0]);T(f);return a}for(var b=!0;1<f.length;){for(var a=f,d=void 0,q=void 0,k=void 0,m=void 0,n=void 0,d=0,q=a.length;d<q-1;d+=2){var k=a[d],m=a[d+1],n=p(),l=k,h=m,y=n,v=0,w=0,J=0,r=l.length,ca=h.length,ea=void 0,ma=void 0;for(y.length=r+ca;v<r&&w<ca;++J)ea=l[v],ma=h[w],ea.sd<ma.sd?(y[J]=ea,++v):(y[J]=ma,++w);for(;v<r;++v,++J)y[J]=l[v];for(;w<ca;++w,++J)y[J]=h[w];b||(t(k),t(m));e.push(n)}1===q%2&&(b?(k=p(),ya(k,a[q-1]),e.push(k)):e.push(a[q-1]));ya(a,e);T(e);b=!1}a=f[0];T(f);return a};k.prototype.Xc=
function(a){this.Dd=this.$i||1!==this.opacity||0!==this.qb;var b=this.b.canvas,e=a,f=!1;this.Dd&&(this.b.tj||(this.b.tj=document.createElement("canvas"),b=this.b.tj,b.width=this.b.K,b.height=this.b.J,this.b.lp=b.getContext("2d"),f=!0),b=this.b.tj,e=this.b.lp,b.width!==this.b.K&&(b.width=this.b.K,f=!0),b.height!==this.b.J&&(b.height=this.b.J,f=!0),f&&this.b.ck(e,this.b.ya),this.od&&e.clearRect(0,0,this.b.K,this.b.J));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.od||(e.fillStyle="rgb("+
this.Rc[0]+","+this.Rc[1]+","+this.Rc[2]+")",e.fillRect(0,0,this.b.K,this.b.J));e.save();this.Rd=!0;var f=this.Cb(0,0,!0,!0),d=this.Cb(0,0,!1,!0);this.Rd=!1;this.b.tc&&(f=Math.round(f),d=Math.round(d));this.Yj(f,d,e);var k=this.fc();e.scale(k,k);e.translate(-f,-d);this.wc?(this.jb.left=this.ob.Jb(this.ia),this.jb.top=this.ob.Kb(this.ja),this.jb.right=this.ob.Jb(this.ma),this.jb.bottom=this.ob.Kb(this.la),this.jd||!this.jb.Vg(this.sg)?(t(this.be),f=this.Hl(),this.jd=!1,this.sg.qf(this.jb)):f=this.be):
f=this.i;for(var n,l=null,d=0,k=f.length;d<k;++d)n=f[d],n!==l&&(this.iu(n,e),l=n);this.wc&&(this.be=f);e.restore();this.Dd&&(a.globalCompositeOperation=this.Rg,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};k.prototype.iu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Y();var e=a.da;e.right<this.ia||e.bottom<this.ja||e.left>this.ma||e.top>this.la||(b.globalCompositeOperation=a.Rg,a.Xc(b))}};k.prototype.Bk=function(){this.Rd=!0;var a=this.Cb(0,0,!0,!0),b=this.Cb(0,0,!1,!0);this.Rd=!1;this.b.tc&&
(a=Math.round(a),b=Math.round(b));this.Yj(a,b,null)};k.prototype.Yj=function(a,b,e){var f=this.fc();this.ia=a;this.ja=b;this.ma=a+1/f*this.b.K;this.la=b+1/f*this.b.J;this.ia>this.ma&&(a=this.ia,this.ia=this.ma,this.ma=a);this.ja>this.la&&(a=this.ja,this.ja=this.la,this.la=a);a=this.ec();0!==a&&(e&&(e.translate(this.b.K/2,this.b.J/2),e.rotate(-a),e.translate(this.b.K/-2,this.b.J/-2)),this.le.set(this.ia,this.ja,this.ma,this.la),this.le.offset((this.ia+this.ma)/-2,(this.ja+this.la)/-2),this.Nq.vq(this.le,
a),this.Nq.lo(this.le),this.le.offset((this.ia+this.ma)/2,(this.ja+this.la)/2),this.ia=this.le.left,this.ja=this.le.top,this.ma=this.le.right,this.la=this.le.bottom)};k.prototype.ye=function(a){if(this.Dd=this.$i){this.b.Va||(this.b.Va=a.ac(this.b.K,this.b.J,this.b.ya));if(this.b.Va.pf!==this.b.K||this.b.Va.of!==this.b.J)a.deleteTexture(this.b.Va),this.b.Va=a.ac(this.b.K,this.b.J,this.b.ya);a.Ic(this.b.Va)}this.Rd=!0;var b=this.Cb(0,0,!0,!0),e=this.Cb(0,0,!1,!0);this.Rd=!1;this.b.tc&&(b=Math.round(b),
e=Math.round(e));this.Yj(b,e,null);b=this.fc();a.Hc();a.scale(b,b);a.Zj(-this.ec());a.translate((this.ia+this.ma)/-2,(this.ja+this.la)/-2);a.vc();this.wc?(this.jb.left=this.ob.Jb(this.ia),this.jb.top=this.ob.Kb(this.ja),this.jb.right=this.ob.Jb(this.ma),this.jb.bottom=this.ob.Kb(this.la),this.jd||!this.jb.Vg(this.sg)?(t(this.be),b=this.Hl(),this.jd=!1,this.sg.qf(this.jb)):b=this.be):b=this.i;for(var f,d=null,e=b.length-1;0<=e;--e)f=b[e],f!==d&&(this.ku(b[e],a),d=f);this.wc&&(this.be=b);this.od||(this.cl=
this.b.vf++,a.dk(this.cl),a.mq(1,1,1),a.Do(),a.Zw())};k.prototype.Eb=function(a){var b=0,e=0;if(this.Dd=this.$i||1!==this.opacity||0<this.ga.length||0!==this.qb){this.b.Va||(this.b.Va=a.ac(this.b.K,this.b.J,this.b.ya));if(this.b.Va.pf!==this.b.K||this.b.Va.of!==this.b.J)a.deleteTexture(this.b.Va),this.b.Va=a.ac(this.b.K,this.b.J,this.b.ya);a.Ic(this.b.Va);this.od&&a.clear(0,0,0,0)}this.od||(this.b.ra?(a.dk(this.cl),a.mq(this.Rc[0]/255,this.Rc[1]/255,this.Rc[2]/255),a.Do(),a.nx()):a.clear(this.Rc[0]/
255,this.Rc[1]/255,this.Rc[2]/255,1));this.Rd=!0;var f=this.Cb(0,0,!0,!0),b=this.Cb(0,0,!1,!0);this.Rd=!1;this.b.tc&&(f=Math.round(f),b=Math.round(b));this.Yj(f,b,null);f=this.fc();a.Hc();a.scale(f,f);a.Zj(-this.ec());a.translate((this.ia+this.ma)/-2,(this.ja+this.la)/-2);a.vc();this.wc?(this.jb.left=this.ob.Jb(this.ia),this.jb.top=this.ob.Kb(this.ja),this.jb.right=this.ob.Jb(this.ma),this.jb.bottom=this.ob.Kb(this.la),this.jd||!this.jb.Vg(this.sg)?(t(this.be),b=this.Hl(),this.jd=!1,this.sg.qf(this.jb)):
b=this.be):b=this.i;var d,k,n=null,e=0;for(d=b.length;e<d;++e)k=b[e],k!==n&&(this.ju(b[e],a),n=k);this.wc&&(this.be=b);this.Dd&&(b=this.ga.length?this.ga[0].Pa:0,e=this.ga.length?this.ga[0].index:0,0===this.ga.length||1===this.ga.length&&!a.Fm(b)&&1===this.opacity?(1===this.ga.length?(a.Vb(b),a.Ag(this.eb.eh(),1/this.b.K,1/this.b.J,0,0,1,1,f,this.ec(),this.ia,this.ja,(this.ia+this.ma)/2,(this.ja+this.la)/2,this.b.Qb.U,this.Ca[e]),a.Sj(b)&&(this.b.aa=!0)):a.Vb(0),a.Ic(this.eb.eh()),a.$e(this.opacity),
a.Tb(this.b.Va),a.Ze(this.yb,this.wb),a.Hc(),a.vc(),f=this.b.K/2,b=this.b.J/2,a.Wh(-f,b,f,b,f,-b,-f,-b),a.Tb(null)):this.eb.Lm(a,this,null,this.eb.eh()))};k.prototype.ju=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Y();var e=a.da;e.right<this.ia||e.bottom<this.ja||e.left>this.ma||e.top>this.la||(b.dk(a.vf),a.Yq?this.lu(a,b):(b.Vb(0),b.Ze(a.yb,a.wb),a.Eb(b)))}};k.prototype.ku=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Y();var e=a.da;e.right<this.ia||e.bottom<this.ja||e.left>
this.ma||e.top>this.la||(a.vf=this.b.vf++,0===a.qb&&1===a.opacity&&a.ie&&a.ye&&(b.dk(a.vf),a.ye(b)))}};k.prototype.lu=function(a,b){var e=a.ga[0].Pa,f=a.ga[0].index,d=this.fc();if(1!==a.ga.length||b.Fm(e)||b.Ow(e)||(a.n||a.m.ec())&&b.Th(e)||1!==a.opacity||a.type.qa.Kp)this.eb.Lm(b,this,a,this.Dd?this.b.Va:this.eb.eh()),b.Hc(),b.scale(d,d),b.Zj(-this.ec()),b.translate((this.ia+this.ma)/-2,(this.ja+this.la)/-2),b.vc();else{b.Vb(e);b.Ze(a.yb,a.wb);b.Sj(e)&&(this.b.aa=!0);var k=0,n=0,l=0,h=0;b.Th(e)&&
(h=a.da,k=this.Aa(h.left,h.top,!0,!0),n=this.Aa(h.left,h.top,!1,!0),l=this.Aa(h.right,h.bottom,!0,!0),h=this.Aa(h.right,h.bottom,!1,!0),k=k/windowWidth,n=1-n/windowHeight,l=l/windowWidth,h=1-h/windowHeight);var y;a.ib&&a.ib.M?(y=a.ib.M,e=1/y.width,y=1/y.height):(e=1/a.width,y=1/a.height);b.Ag(this.Dd?this.b.Va:this.eb.eh(),e,y,k,n,l,h,d,this.ec(),this.ia,this.ja,(this.ia+this.ma)/2,(this.ja+this.la)/2,this.b.Qb.U,a.Ca[f]);a.Eb(b)}};k.prototype.Cb=function(a,b,e,f){var d=this.b.devicePixelRatio;this.b.Bf&&
(a*=d,b*=d);var d=this.b.Yp,k=this.b.Zp,d=(this.eb.scrollX-d)*this.Fc+d,k=(this.eb.scrollY-k)*this.Gc+k,n=d,l=k,h=1/this.fc(!f);f?(n-=this.b.K*h/2,l-=this.b.J*h/2):(n-=this.b.width*h/2,l-=this.b.height*h/2);n+=a*h;l+=b*h;b=this.ec();0!==b&&(n-=d,l-=k,a=Math.cos(b),b=Math.sin(b),f=n*a-l*b,l=l*a+n*b,n=f+d,l+=k);return e?n:l};k.prototype.Aa=function(a,b,e,f){var d=this.b.Yp,k=this.b.Zp,n=(this.eb.scrollX-d)*this.Fc+d,l=(this.eb.scrollY-k)*this.Gc+k,k=n,d=l,h=this.ec();if(0!==h){a-=n;b-=l;var y=Math.cos(-h),
h=Math.sin(-h),v=a*y-b*h;b=b*y+a*h;a=v+n;b+=l}n=1/this.fc(!f);f?(k-=this.b.K*n/2,d-=this.b.J*n/2):(k-=this.b.width*n/2,d-=this.b.height*n/2);k=(a-k)/n;d=(b-d)/n;a=this.b.devicePixelRatio;this.b.Bf&&!f&&(k/=a,d/=a);return e?k:d};k.prototype.Oa=function(){var a,b,e,f={s:this.scale,a:this.n,vl:this.ia,vt:this.ja,vr:this.ma,vb:this.la,v:this.visible,bc:this.Rc,t:this.od,px:this.Fc,py:this.Gc,o:this.opacity,zr:this.td,fx:[],cg:this.Tg,instances:[]};a=0;for(b=this.N.length;a<b;a++)e=this.N[a],f.fx.push({name:e.name,
active:e.jc,params:this.Ca[e.index]});return f};k.prototype.fb=function(a){var b,e,f;this.scale=a.s;this.n=a.a;this.ia=a.vl;this.ja=a.vt;this.ma=a.vr;this.la=a.vb;this.visible=a.v;this.Rc=a.bc;this.od=a.t;this.Fc=a.px;this.Gc=a.py;this.opacity=a.o;this.td=a.zr;this.Tg=a.cg||[];ya(this.pc,this.Bq);var d=new ga;b=0;for(f=this.Tg.length;b<f;++b)d.add(this.Tg[b]);e=b=0;for(f=this.pc.length;b<f;++b)d.contains(this.pc[b][2])||(this.pc[e]=this.pc[b],++e);xa(this.pc,e);e=a.fx;b=0;for(f=e.length;b<f;b++)if(a=
this.Cl(e[b].name))a.jc=e[b].active,this.Ca[a.index]=e[b].params;this.pd();this.i.sort(m);this.Uf=!0};Pb=k})();
(function(){function d(a,b){var c,e=a.length;switch(e){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<e;c++)if(a[c]!==b[c])return!1;return!0}}function m(a,b){return a.index-b.index}function k(a){var b,c,e,f;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=x.length&&(x.length=a.length+1);x[a.length]||(x[a.length]=[]);f=x[a.length];b=0;for(c=f.length;b<c;b++)if(e=f[b],d(a,e))return e;f.push(a);return a}
function p(a,b){this.b=a;this.Pq={};this.zo={};this.Ol=!1;this.Qo=new ga;this.jl=[];this.Pk=[];this.name=b[0];var c=b[1];this.ze=[];var e,f;e=0;for(f=c.length;e<f;e++)this.So(c[e],null,this.ze)}function t(a){this.type=a;this.i=[];this.Z=[];this.ka=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ba=[];this.bf=[];this.Oo=this.uk=this.kn=this.jj=this.group=this.Ym=!1;this.Sa=[];this.Oc=[];this.Kc=[];this.ih="";this.jg=this.jj=this.group=!1;this.Ii=null;c[1]&&(this.ih=c[1][1].toLowerCase(),
this.group=!0,this.jj=!!c[1][0],this.Ii=[],this.jg=this.jj,this.b.qe.push(this),this.b.jh[this.ih]=this);this.rc=c[2];this.X=c[4];this.group||(this.b.jo[this.X.toString()]=this);var e=c[5];a=0;for(b=e.length;a<b;a++){var f=new Qb(this,e[a]);f.index=a;this.Sa.push(f);this.$n(f.type)}e=c[6];a=0;for(b=e.length;a<b;a++)f=new Rb(this,e[a]),f.index=a,this.Oc.push(f);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.So(c[a],this,this.Kc);this.pj=!1;this.Sa.length&&(this.pj=null==this.Sa[0].type&&
this.Sa[0].kb==V.prototype.k.Dn)}function b(a,b){var c,e,f;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Pb))for(c=0,e=a.$b.length;c<e;c++)f=a.$b[c],a!==f&&-1===b.indexOf(f)&&b.push(f)}function a(a,b){this.kc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Ga=[];this.L={};this.index=-1;this.Lg=!1;this.kb=this.b.ne(b[1]);this.trigger=0<b[3];this.yo=2===b[3];this.kj=b[5];this.fw=b[6];this.X=b[7];this.b.ue[this.X.toString()]=this;-1===b[0]?(this.type=null,this.Na=this.Qm,this.mf=null,this.Tc=-1):(this.type=this.b.A[b[0]],
this.Na=this.fw?this.gx:this.Pm,b[2]?(this.mf=this.type.dj(b[2]),this.Tc=this.type.yl(b[2])):(this.mf=null,this.Tc=-1),this.kc.parent&&this.kc.parent.ek());this.yo&&(this.Na=this.hx);if(10===b.length){var c,e,f=b[9];c=0;for(e=f.length;c<e;c++){var d=new Sb(this,f[c]);this.W.push(d)}this.Ga.length=f.length}}function e(a,b){this.kc=a;this.sheet=a.sheet;this.b=a.b;this.W=[];this.Ga=[];this.L={};this.index=-1;this.Lg=!1;this.kb=this.b.ne(b[1]);-1===b[0]?(this.type=null,this.Na=this.Qm,this.mf=null,this.Tc=
-1):(this.type=this.b.A[b[0]],this.Na=this.Pm,b[2]?(this.mf=this.type.dj(b[2]),this.Tc=this.type.yl(b[2])):(this.mf=null,this.Tc=-1));this.X=b[3];this.b.pe[this.X.toString()]=this;if(6===b.length){var c,e,f=b[5];c=0;for(e=f.length;c<e;c++){var d=new Sb(this,f[c]);this.W.push(d)}this.Ga.length=f.length}}function f(){n++;z.length===n&&z.push(new Tb);return z[n]}function c(a,b){this.Ec=a;this.kc=a.kc;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.xd=null;this.je=0;this.get=null;this.ro=0;this.eb=
null;this.key=0;this.object=null;this.index=0;this.ii=this.Rf=this.ii=this.Rf=this.Bo=this.xf=this.ji=null;this.Mc=!1;var c,e,f;switch(b[0]){case 0:case 7:this.xd=new Ub(this,b[1]);this.je=0;this.get=this.Av;break;case 1:this.xd=new Ub(this,b[1]);this.je=0;this.get=this.Bv;break;case 5:this.xd=new Ub(this,b[1]);this.je=0;this.get=this.Fv;break;case 3:case 8:this.ro=b[1];this.get=this.yv;break;case 6:this.eb=this.b.jm[b[1]];this.get=this.Gv;break;case 9:this.key=b[1];this.get=this.Ev;break;case 4:this.object=
this.b.A[b[1]];this.get=this.Hv;this.kc.$n(this.object);this.Ec instanceof Rb?this.kc.ek():this.kc.parent&&this.kc.parent.ek();break;case 10:this.index=b[1];a.type&&a.type.G?(this.get=this.Cv,this.Mc=!0):this.get=this.Dv;break;case 11:this.ji=b[1];this.xf=null;this.get=this.zv;break;case 2:case 12:this.Bo=b[1];this.get=this.xv;break;case 13:for(this.get=this.Iv,this.Rf=[],this.ii=[],c=1,e=b.length;c<e;c++)f=new Sb(this.Ec,b[c]),this.Rf.push(f),this.ii.push(0)}}function g(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.ba=[];this.name=c[1];this.Dk=c[2];this.Ql=c[3];this.vh=!!c[4];this.oj=!!c[5];this.X=c[6];this.b.Jg[this.X.toString()]=this;this.data=this.Ql;this.parent?(this.Jf=this.vh||this.oj?-1:this.b.qx++,this.b.qt.push(this)):(this.Jf=-1,this.b.pt.push(this))}function u(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ba=[];this.mh=null;this.Qv=c[1];this.jc=!0}function q(){this.Cq=[];this.reset(null)}var x=[];p.prototype.toString=function(){return this.name};p.prototype.So=function(a,b,c){switch(a[0]){case 0:a=
new Vb(this,b,a);if(a.rc)for(c.push(a),c=0,b=a.Sa.length;c<b;c++)a.Sa[c].trigger&&this.To(a,c);else a.fp()?this.To(a,0):c.push(a);break;case 1:a=new Mb(this,b,a);c.push(a);break;case 2:a=new Wb(this,b,a),c.push(a)}};p.prototype.Ka=function(){var a,b;a=0;for(b=this.ze.length;a<b;a++)this.ze[a].Ka(a<b-1&&this.ze[a+1].pj)};p.prototype.qn=function(){T(this.jl);T(this.Pk);this.Yn(this);T(this.Pk)};p.prototype.Yn=function(a){var b,c,e,f,d=a.jl,g=a.Pk,n=this.Qo.Jd();b=0;for(c=n.length;b<c;++b)e=n[b],f=e.mh,
!e.jc||a===f||-1<g.indexOf(f)||(g.push(f),f.Yn(a),d.push(f))};p.prototype.Na=function(a){this.b.Uy||(this.Ol=!0,a||(this.b.am=!0));var b,c;b=0;for(c=this.ze.length;b<c;b++){var e=this.ze[b];e.Na();this.b.bl(e.ba);this.b.De&&this.b.pb()}a||(this.b.am=!1)};p.prototype.To=function(a,b){a.rc||this.b.yk.push(a);var c,e,f=a.Sa[b],d;f.type?d=f.type.name:d="system";var g=(c=f.yo)?this.zo:this.Pq;g[d]||(g[d]=[]);d=g[d];g=f.kb;if(c){if(f.W.length&&(f=f.W[0],1===f.type&&2===f.xd.type)){f=f.xd.value.toLowerCase();
c=0;for(e=d.length;c<e;c++)if(d[c].method==g){c=d[c].Wg;c[f]?c[f].push([a,b]):c[f]=[[a,b]];return}c={};c[f]=[[a,b]];d.push({method:g,Wg:c})}}else{c=0;for(e=d.length;c<e;c++)if(d[c].method==g){d[c].Wg.push([a,b]);return}X&&g===X.prototype.k.Xf?d.unshift({method:g,Wg:[[a,b]]}):d.push({method:g,Wg:[[a,b]]})}};Cb=p;t.prototype.Nl=function(){return this.ka?this.type.i.length:this.i.length};t.prototype.nc=function(){return this.ka?this.type.i:this.i};t.prototype.Sh=function(a){a&&(a.b.Da().Ja.rc?(this.ka&&
(T(this.i),ya(this.Z,a.type.i),this.ka=!1),a=this.Z.indexOf(a),-1!==a&&(this.i.push(this.Z[a]),this.Z.splice(a,1))):(this.ka=!1,T(this.i),this.i[0]=a))};jb=t;window._c2hh_="01C5C0EE1A9BF0A1A0FFE8B1B00CBCF7767AE4E3";r.prototype.Ka=function(a){var b,c=this.parent;if(this.group)for(this.uk=!0;c;){if(!c.group){this.uk=!1;break}c=c.parent}this.kn=!this.fp()&&(!this.parent||this.parent.group&&this.parent.uk);this.Oo=!!a;this.bf=this.ba.slice(0);for(c=this.parent;c;){a=0;for(b=c.ba.length;a<b;a++)this.lt(c.ba[a]);
c=c.parent}this.ba=k(this.ba);this.bf=k(this.bf);a=0;for(b=this.Sa.length;a<b;a++)this.Sa[a].Ka();a=0;for(b=this.Oc.length;a<b;a++)this.Oc[a].Ka();a=0;for(b=this.Kc.length;a<b;a++)this.Kc[a].Ka(a<b-1&&this.Kc[a+1].pj)};r.prototype.pq=function(a){if(this.jg!==!!a){this.jg=!!a;var b;a=0;for(b=this.Ii.length;a<b;++a)this.Ii[a].Uq();0<b&&this.b.T.wf&&this.b.T.wf.qn()}};r.prototype.$n=function(a){b(a,this.ba)};r.prototype.lt=function(a){b(a,this.bf)};r.prototype.ek=function(){this.Ym=!0;this.parent&&this.parent.ek()};
r.prototype.fp=function(){return this.Sa.length?this.Sa[0].trigger:!1};r.prototype.Na=function(){var a,b,c=!1,e=this.b,f=this.b.Da();f.Ja=this;var d=this.Sa;this.pj||(f.nl=!1);if(this.rc){0===d.length&&(c=!0);f.La=0;for(a=d.length;f.La<a;f.La++)b=d[f.La],b.trigger||(b=b.Na())&&(c=!0);(f.Df=c)&&this.$j()}else{f.La=0;for(a=d.length;f.La<a;f.La++)if(b=d[f.La].Na(),!b){f.Df=!1;this.kn&&e.De&&e.pb();return}f.Df=!0;this.$j()}this.pu(f)};r.prototype.pu=function(a){a.Df&&this.Oo&&(a.nl=!0);this.kn&&this.b.De&&
this.b.pb()};r.prototype.bx=function(a){this.b.Da().Ja=this;this.Sa[a].Na()&&(this.$j(),this.b.Da().Df=!0)};r.prototype.$j=function(){var a=this.b.Da(),b;a.Yb=0;for(b=this.Oc.length;a.Yb<b;a.Yb++)if(this.Oc[a.Yb].Na())return;this.kq()};r.prototype.$w=function(){var a=this.b.Da(),b;for(b=this.Oc.length;a.Yb<b;a.Yb++)if(this.Oc[a.Yb].Na())return;this.kq()};r.prototype.kq=function(){if(this.Kc.length){var a,b,c,e,f=this.Kc.length-1;this.b.Tj(this);if(this.Ym)for(a=0,b=this.Kc.length;a<b;a++)c=this.Kc[a],
(e=!this.uk||!this.group&&a<f)&&this.b.Ue(c.ba),c.Na(),e?this.b.ed(c.ba):this.b.bl(c.ba);else for(a=0,b=this.Kc.length;a<b;a++)this.Kc[a].Na();this.b.Pj()}};r.prototype.cx=function(){var a=this.b.Da();a.Ja=this;var b=!1,c;a.La=0;for(c=this.Sa.length;a.La<c;a.La++)if(this.Sa[a.La].Na())b=!0;else if(!this.rc)return!1;return this.rc?b:!0};r.prototype.Pf=function(){this.b.Xg++;var a=this.b.Da().La,b=this.b.Tj(this);if(!this.rc)for(b.La=a+1,a=this.Sa.length;b.La<a;b.La++)if(!this.Sa[b.La].Na()){this.b.Pj();
return}this.$j();this.b.Pj()};r.prototype.aw=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Sa[b].type===a.type)return!1;return!0};Vb=r;a.prototype.Ka=function(){var a,b,c;a=0;for(b=this.W.length;a<b;a++)c=this.W[a],c.Ka(),c.Mc&&(this.Lg=!0)};a.prototype.hx=function(){return!0};a.prototype.Qm=function(){var a,b;a=0;for(b=this.W.length;a<b;a++)this.Ga[a]=this.W[a].get();return Qa(this.kb.apply(this.b.Fd,this.Ga),this.kj)};a.prototype.gx=function(){var a,b;a=0;for(b=this.W.length;a<
b;a++)this.Ga[a]=this.W[a].get();a=this.kb.apply(this.mf?this.mf:this.type,this.Ga);this.type.Qc();return a};a.prototype.Pm=function(){var a,b,c,e,f,d,g,n,q=this.type,k=q.ea(),m=this.kc.rc&&!this.trigger;b=0;var r=q.Pb,p=q.G,x=q.Ud,t=this.Tc,z=-1<t,u=this.Lg,L=this.W,B=this.Ga,C=this.kj,I=this.kb,H;if(u)for(b=0,f=L.length;b<f;++b)d=L[b],d.Mc||(B[b]=d.get(0));else for(b=0,f=L.length;b<f;++b)B[b]=L[b].get(0);if(k.ka){T(k.i);T(k.Z);H=q.i;a=0;for(e=H.length;a<e;++a){n=H[a];if(u)for(b=0,f=L.length;b<f;++b)d=
L[b],d.Mc&&(B[b]=d.get(a));z?(b=0,p&&(b=n.type.eg[x]),b=I.apply(n.Q[t+b],B)):b=I.apply(n,B);(g=Qa(b,C))?k.i.push(n):m&&k.Z.push(n)}q.finish&&q.finish(!0);k.ka=!1;q.Qc();return k.Nl()}c=0;H=(g=m&&!this.kc.aw(this))?k.Z:k.i;var G=!1;a=0;for(e=H.length;a<e;++a){n=H[a];if(u)for(b=0,f=L.length;b<f;++b)d=L[b],d.Mc&&(B[b]=d.get(a));z?(b=0,p&&(b=n.type.eg[x]),b=I.apply(n.Q[t+b],B)):b=I.apply(n,B);if(Qa(b,C))if(G=!0,g){if(k.i.push(n),r)for(b=0,f=n.siblings.length;b<f;b++)d=n.siblings[b],d.type.ea().i.push(d)}else{H[c]=
n;if(r)for(b=0,f=n.siblings.length;b<f;b++)d=n.siblings[b],d.type.ea().i[c]=d;c++}else if(g){H[c]=n;if(r)for(b=0,f=n.siblings.length;b<f;b++)d=n.siblings[b],d.type.ea().Z[c]=d;c++}else if(m&&(k.Z.push(n),r))for(b=0,f=n.siblings.length;b<f;b++)d=n.siblings[b],d.type.ea().Z.push(d)}xa(H,c);if(r)for(p=q.$b,a=0,e=p.length;a<e;a++)n=p[a].ea(),g?xa(n.Z,c):xa(n.i,c);c=G;if(g&&!G)for(a=0,e=k.i.length;a<e;a++){n=k.i[a];if(u)for(b=0,f=L.length;b<f;b++)d=L[b],d.Mc&&(B[b]=d.get(a));b=z?I.apply(n.Q[t],B):I.apply(n,
B);if(Qa(b,C)){G=!0;break}}q.finish&&q.finish(c||m);return m?G:k.Nl()};Qb=a;e.prototype.Ka=function(){var a,b,c;a=0;for(b=this.W.length;a<b;a++)c=this.W[a],c.Ka(),c.Mc&&(this.Lg=!0)};e.prototype.Qm=function(){var a=this.b,b,c,e=this.W,f=this.Ga;b=0;for(c=e.length;b<c;++b)f[b]=e[b].get();return this.kb.apply(a.Fd,f)};e.prototype.Pm=function(){var a=this.type,b=this.Tc,c=a.Ud,e=this.Lg,f=this.W,d=this.Ga,g=this.kb,n=a.ea().nc(),a=a.G,q=-1<b,k,m,r,p,x,t;if(e)for(m=0,p=f.length;m<p;++m)x=f[m],x.Mc||(d[m]=
x.get(0));else for(m=0,p=f.length;m<p;++m)d[m]=f[m].get(0);k=0;for(r=n.length;k<r;++k){t=n[k];if(e)for(m=0,p=f.length;m<p;++m)x=f[m],x.Mc&&(d[m]=x.get(k));q?(m=0,a&&(m=t.type.eg[c]),g.apply(t.Q[b+m],d)):g.apply(t,d)}return!1};Rb=e;var z=[],n=-1;c.prototype.Ka=function(){var a,b;if(11===this.type)this.xf=this.b.Go(this.ji,this.kc.parent);else if(13===this.type)for(a=0,b=this.Rf.length;a<b;a++)this.Rf[a].Ka();this.xd&&this.xd.Ka()};c.prototype.qw=function(a){this.Mc||!a||a.qa.hk||(this.Mc=!0)};c.prototype.tq=
function(){this.Mc=!0};c.prototype.Av=function(a){this.je=a||0;a=f();this.xd.get(a);n--;return a.data};c.prototype.Bv=function(a){this.je=a||0;a=f();this.xd.get(a);n--;return F(a.data)?a.data:""};c.prototype.Hv=function(){return this.object};c.prototype.yv=function(){return this.ro};c.prototype.Fv=function(a){this.je=a||0;a=f();this.xd.get(a);n--;return a.cb()?this.b.dh(a.data):this.b.Fl(a.data)};c.prototype.Gv=function(){return this.eb};c.prototype.Ev=function(){return this.key};c.prototype.Dv=function(){return this.index};
c.prototype.Cv=function(a){a=a||0;var b=this.Ec.type,c=null,c=b.ea(),e=c.nc();if(e.length)c=e[a%e.length].type;else if(c.Z.length)c=c.Z[a%c.Z.length].type;else if(b.i.length)c=b.i[a%b.i.length].type;else return 0;return this.index+c.Vi[b.Ud]};c.prototype.zv=function(){return this.xf};c.prototype.xv=function(){return this.Bo};c.prototype.Iv=function(){var a,b;a=0;for(b=this.Rf.length;a<b;a++)this.ii[a]=this.Rf[a].get();return this.ii};Sb=c;g.prototype.Ka=function(){this.ba=k(this.ba)};g.prototype.Qf=
function(a){var b=this.b.Fo();this.parent&&!this.vh&&b?(this.Jf>=b.length&&(b.length=this.Jf+1),b[this.Jf]=a):this.data=a};g.prototype.gh=function(){var a=this.b.Fo();return!this.parent||this.vh||!a||this.oj?this.data:this.Jf>=a.length||"undefined"===typeof a[this.Jf]?this.Ql:a[this.Jf]};g.prototype.Na=function(){!this.parent||this.vh||this.oj||this.Qf(this.Ql)};Mb=g;u.prototype.toString=function(){return"include:"+this.mh.toString()};u.prototype.Ka=function(){this.mh=this.b.pl[this.Qv];this.sheet.Qo.add(this);
this.ba=k(this.ba);for(var a=this.parent;a;)a.group&&a.Ii.push(this),a=a.parent;this.Uq()};u.prototype.Na=function(){this.parent&&this.b.Vh(this.b.A);this.mh.Ol||this.mh.Na(!0);this.parent&&this.b.ed(this.b.A)};u.prototype.Uq=function(){for(var a=this.parent;a;){if(a.group&&!a.jg){this.jc=!1;return}a=a.parent}this.jc=!0};Wb=u;q.prototype.reset=function(a){this.Ja=a;this.Yb=this.La=0;T(this.Cq);this.nl=this.Df=!1};q.prototype.Zo=function(){return this.Ja.Ym?!0:this.La<this.Ja.Sa.length-1?!!this.Ja.ba.length:
!1};Lb=q})();
(function(){function d(b,a){this.Ec=b;this.b=b.b;this.type=a[0];this.get=[this.Hu,this.Du,this.Qu,this.Tu,this.su,this.Ru,this.Lu,this.Au,this.Ku,this.Pu,this.tu,this.Ou,this.Bu,this.Mu,this.Iu,this.Ju,this.Eu,this.Fu,this.zu,this.Su,this.Nu,this.Gu,this.yu,this.Cu][this.type];var e=null;this.fe=this.W=this.Ga=this.kb=this.qk=this.second=this.first=this.value=null;this.Tc=-1;this.Zc=null;this.Zq=-1;this.xf=this.ji=null;this.zg=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Ub(b,a[1]);break;case 18:this.first=new Ub(b,a[1]);this.second=new Ub(b,a[2]);this.qk=new Ub(b,a[3]);break;case 19:this.kb=this.b.ne(a[1]);this.kb!==V.prototype.q.random&&this.kb!==V.prototype.q.Gt||this.Ec.tq();this.Ga=[];this.W=[];3===a.length?(e=a[2],this.Ga.length=e.length+1):this.Ga.length=1;break;case 20:this.fe=this.b.A[a[1]];this.Tc=-1;this.kb=this.b.ne(a[2]);this.zg=a[3];ic&&this.kb===ic.prototype.q.pr&&this.Ec.tq();a[4]?this.Zc=new Ub(b,a[4]):this.Zc=null;this.Ga=[];this.W=[];6===a.length?
(e=a[5],this.Ga.length=e.length+1):this.Ga.length=1;break;case 21:this.fe=this.b.A[a[1]];this.zg=a[2];a[3]?this.Zc=new Ub(b,a[3]):this.Zc=null;this.Zq=a[4];break;case 22:this.fe=this.b.A[a[1]];this.fe.dj(a[2]);this.Tc=this.fe.yl(a[2]);this.kb=this.b.ne(a[3]);this.zg=a[4];a[5]?this.Zc=new Ub(b,a[5]):this.Zc=null;this.Ga=[];this.W=[];7===a.length?(e=a[6],this.Ga.length=e.length+1):this.Ga.length=1;break;case 23:this.ji=a[1],this.xf=null}this.Ec.qw(this.fe);4<=this.type&&17>=this.type&&(this.first=new Ub(b,
a[1]),this.second=new Ub(b,a[2]));if(e){var f,c;f=0;for(c=e.length;f<c;f++)this.W.push(new Ub(b,e[f]))}}function m(){++r;t.length===r&&t.push(new Tb);return t[r]}function k(b,a,e){var f,c;f=0;for(c=b.length;f<c;++f)b[f].get(e),a[f+1]=e.data}function p(b,a){this.type=b||Xb.Wf;this.data=a||0;this.Lf=null;this.type==Xb.Wf&&(this.data=Math.floor(this.data))}d.prototype.Ka=function(){23===this.type&&(this.xf=this.Ec.b.Go(this.ji,this.Ec.kc.parent));this.first&&this.first.Ka();this.second&&this.second.Ka();
this.qk&&this.qk.Ka();this.Zc&&this.Zc.Ka();if(this.W){var b,a;b=0;for(a=this.W.length;b<a;b++)this.W[b].Ka()}};var t=[],r=-1;d.prototype.Su=function(b){var a=this.W,e=this.Ga;e[0]=b;b=m();k(a,e,b);--r;this.kb.apply(this.b.Fd,e)};d.prototype.Nu=function(b){var a=this.fe,e=this.Ga,f=this.W,c=this.Zc,d=this.kb,p=this.Ec.je,q=a.ea(),x=q.nc();if(!x.length)if(q.Z.length)x=q.Z;else{this.zg?b.Ub(""):b.I(0);return}e[0]=b;b.Lf=a;b=m();k(f,e,b);c&&(c.get(b),b.cb()&&(p=b.data,x=a.i));--r;a=x.length;if(p>=a||
p<=-a)p%=a;0>p&&(p+=a);d.apply(x[p],e)};d.prototype.yu=function(b){var a=this.fe,e=this.Ga,f=this.W,c=this.Zc,d=this.Tc,p=this.kb,q=this.Ec.je,x=a.ea(),t=x.nc();if(!t.length)if(x.Z.length)t=x.Z;else{this.zg?b.Ub(""):b.I(0);return}e[0]=b;b.Lf=a;b=m();k(f,e,b);c&&(c.get(b),b.cb()&&(q=b.data,t=a.i));--r;f=t.length;if(q>=f||q<=-f)q%=f;0>q&&(q+=f);q=t[q];t=0;a.G&&(t=q.type.eg[a.Ud]);p.apply(q.Q[d+t],e)};d.prototype.Gu=function(b){var a=this.Zc,e=this.fe,f=this.Zq,c=this.Ec.je,d=e.ea(),k=d.nc();if(!k.length)if(d.Z.length)k=
d.Z;else{this.zg?b.Ub(""):b.I(0);return}if(a){d=m();a.get(d);if(d.cb()){c=d.data;k=e.i;0!==k.length&&(c%=k.length,0>c&&(c+=k.length));c=e.El(c);e=c.Ta[f];F(e)?b.Ub(e):b.C(e);--r;return}--r}a=k.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=k[c];k=0;e.G&&(k=c.type.Vi[e.Ud]);e=c.Ta[f+k];F(e)?b.Ub(e):b.C(e)};d.prototype.Hu=function(b){b.type=Xb.Wf;b.data=this.value};d.prototype.Du=function(b){b.type=Xb.Vf;b.data=this.value};d.prototype.Qu=function(b){b.type=Xb.String;b.data=this.value};d.prototype.Tu=function(b){this.first.get(b);
b.cb()&&(b.data=-b.data)};d.prototype.su=function(b){this.first.get(b);var a=m();this.second.get(a);b.cb()&&a.cb()&&(b.data+=a.data,a.lg()&&b.vg());--r};d.prototype.Ru=function(b){this.first.get(b);var a=m();this.second.get(a);b.cb()&&a.cb()&&(b.data-=a.data,a.lg()&&b.vg());--r};d.prototype.Lu=function(b){this.first.get(b);var a=m();this.second.get(a);b.cb()&&a.cb()&&(b.data*=a.data,a.lg()&&b.vg());--r};d.prototype.Au=function(b){this.first.get(b);var a=m();this.second.get(a);b.cb()&&a.cb()&&(b.data/=
a.data,b.vg());--r};d.prototype.Ku=function(b){this.first.get(b);var a=m();this.second.get(a);b.cb()&&a.cb()&&(b.data%=a.data,a.lg()&&b.vg());--r};d.prototype.Pu=function(b){this.first.get(b);var a=m();this.second.get(a);b.cb()&&a.cb()&&(b.data=Math.pow(b.data,a.data),a.lg()&&b.vg());--r};d.prototype.tu=function(b){this.first.get(b);var a=m();this.second.get(a);a.ng()||b.ng()?this.vu(b,a):this.uu(b,a);--r};d.prototype.vu=function(b,a){b.ng()&&a.ng()?this.xu(b,a):this.wu(b,a)};d.prototype.xu=function(b,
a){b.data+=a.data};d.prototype.wu=function(b,a){b.ng()?b.data+=(Math.round(1E10*a.data)/1E10).toString():b.Ub(b.data.toString()+a.data)};d.prototype.uu=function(b,a){b.I(b.data&&a.data?1:0)};d.prototype.Ou=function(b){this.first.get(b);var a=m();this.second.get(a);b.cb()&&a.cb()&&(b.data||a.data?b.I(1):b.I(0));--r};d.prototype.zu=function(b){this.first.get(b);b.data?this.second.get(b):this.qk.get(b)};d.prototype.Bu=function(b){this.first.get(b);var a=m();this.second.get(a);b.I(b.data===a.data?1:0);
--r};d.prototype.Mu=function(b){this.first.get(b);var a=m();this.second.get(a);b.I(b.data!==a.data?1:0);--r};d.prototype.Iu=function(b){this.first.get(b);var a=m();this.second.get(a);b.I(b.data<a.data?1:0);--r};d.prototype.Ju=function(b){this.first.get(b);var a=m();this.second.get(a);b.I(b.data<=a.data?1:0);--r};d.prototype.Eu=function(b){this.first.get(b);var a=m();this.second.get(a);b.I(b.data>a.data?1:0);--r};d.prototype.Fu=function(b){this.first.get(b);var a=m();this.second.get(a);b.I(b.data>=
a.data?1:0);--r};d.prototype.Cu=function(b){var a=this.xf.gh();ka(a)?b.C(a):b.Ub(a)};Ub=d;p.prototype.lg=function(){return this.type===Xb.Vf};p.prototype.cb=function(){return this.type===Xb.Wf||this.type===Xb.Vf};p.prototype.ng=function(){return this.type===Xb.String};p.prototype.vg=function(){this.lg()||(this.ng()&&(this.data=parseFloat(this.data)),this.type=Xb.Vf)};p.prototype.I=function(b){this.type=Xb.Wf;this.data=Math.floor(b)};p.prototype.C=function(b){this.type=Xb.Vf;this.data=b};p.prototype.Ub=
function(b){this.type=Xb.String;this.data=b};p.prototype.gk=function(b){ka(b)?(this.type=Xb.Vf,this.data=b):F(b)?(this.type=Xb.String,this.data=b.toString()):(this.type=Xb.Wf,this.data=0)};Tb=p;Xb={Wf:0,Vf:1,String:2}})();function V(d){this.b=d;this.Xb=[]}
V.prototype.Oa=function(){var d={},m,k,p,t,r,b,a,e;d.waits=[];var f=d.waits,c;m=0;for(k=this.Xb.length;m<k;m++){b=this.Xb[m];c={t:b.time,st:b.zq,s:b.Xm,ev:b.bg.X,sm:[],sols:{}};b.bg.Oc[b.Yb]&&(c.act=b.bg.Oc[b.Yb].X);p=0;for(t=b.ba.length;p<t;p++)c.sm.push(b.ba[p].X);for(r in b.Gb)if(b.Gb.hasOwnProperty(r)){a=this.b.A[parseInt(r,10)];e={sa:b.Gb[r].ak,insts:[]};p=0;for(t=b.Gb[r].Wd.length;p<t;p++)e.insts.push(b.Gb[r].Wd[p].uid);c.sols[a.X.toString()]=e}f.push(c)}return d};
V.prototype.fb=function(d){d=d.waits;var m,k,p,t,r,b,a,e,f,c,g;T(this.Xb);m=0;for(k=d.length;m<k;m++)if(b=d[m],e=this.b.jo[b.ev.toString()]){f=-1;p=0;for(t=e.Oc.length;p<t;p++)if(e.Oc[p].X===b.act){f=p;break}if(-1!==f){a={Gb:{},ba:[],kl:!1};a.time=b.t;a.zq=b.st||"";a.Xm=!!b.s;a.bg=e;a.Yb=f;p=0;for(t=b.sm.length;p<t;p++)(e=this.b.hg(b.sm[p]))&&a.ba.push(e);for(r in b.sols)if(b.sols.hasOwnProperty(r)&&(e=this.b.hg(parseInt(r,10)))){f=b.sols[r];c={ak:f.sa,Wd:[]};p=0;for(t=f.insts.length;p<t;p++)(g=this.b.Gl(f.insts[p]))&&
c.Wd.push(g);a.Gb[e.index.toString()]=c}this.Xb.push(a)}}};
(function(){function d(){}function m(){}function k(){}var p=V.prototype;d.prototype.Or=function(){return!0};d.prototype.In=function(){return!0};d.prototype.xs=function(){return!0};d.prototype.tr=function(b,a,e){return Yb(b,a,e)};d.prototype.Pr=function(b,a,e){var f=this.b.Da(),c=f.Ja,f=f.Zo();b=this.b.Rw(b);if(e<a)if(f)for(;a>=e&&!b.Fg;--a)this.b.Ue(c.ba),b.index=a,c.Pf(),this.b.ed(c.ba);else for(;a>=e&&!b.Fg;--a)b.index=a,c.Pf();else if(f)for(;a<=e&&!b.Fg;++a)this.b.Ue(c.ba),b.index=a,c.Pf(),this.b.ed(c.ba);
else for(;a<=e&&!b.Fg;++a)b.index=a,c.Pf();this.b.Hw();return!1};d.prototype.Nr=function(b){var a=this.b.ej(),e=a.L.Every_lastTime||0,f=this.b.Qb.U;"undefined"===typeof a.L.Every_seconds&&(a.L.Every_seconds=b);var c=a.L.Every_seconds;if(f>=e+c)return a.L.Every_lastTime=e+c,f>=a.L.Every_lastTime+.04&&(a.L.Every_lastTime=f),a.L.Every_seconds=b,!0;f<e-.1&&(a.L.Every_lastTime=f);return!1};d.prototype.yr=function(b,a,e){return Yb(b.gh(),a,e)};d.prototype.as=function(b){return(b=this.b.jh[b.toLowerCase()])&&
b.jg};d.prototype.bs=function(){return this.b.Zd};d.prototype.Dn=function(){var b=this.b.Da();return b.nl?!1:!b.Df};d.prototype.Jn=function(){return!0};d.prototype.ms=function(){return!0};d.prototype.Jk=function(){return!0};d.prototype.Nn=function(){return!0};d.prototype.ys=function(){return!0};d.prototype.ti=function(){return!0};d.prototype.hr=function(b,a,e){return Ma(U(b),U(e))<=U(a)};d.prototype.Zr=function(b,a){return Oa(U(b),U(a))};d.prototype.Yr=function(b,a,e){b=Ka(b);a=Ka(a);e=Ka(e);return Oa(e,
a)?Oa(b,a)&&!Oa(b,e):!(!Oa(b,a)&&Oa(b,e))};p.k=new d;m.prototype.Cr=function(b,a,e,f){if(a&&b&&(a=this.b.so(b,a,e,f))){this.b.ad++;var c;this.b.trigger(Object.getPrototypeOf(b.qa).k.si,a);if(a.Pb)for(e=0,f=a.siblings.length;e<f;e++)c=a.siblings[e],this.b.trigger(Object.getPrototypeOf(c.type.qa).k.si,c);this.b.ad--;b=b.ea();b.ka=!1;T(b.i);b.i[0]=a;if(a.Pb)for(e=0,f=a.siblings.length;e<f;e++)c=a.siblings[e],b=c.type.ea(),b.ka=!1,T(b.i),b.i[0]=c}};m.prototype.Ps=function(b){this.b.T&&this.b.T.scale!==
b&&(this.b.T.scale=b,this.b.T.ko(),this.b.aa=!0)};m.prototype.Ms=function(b,a){this.b.T.Tm(b);this.b.T.Um(a)};m.prototype.Us=function(b,a){0===b.Dk?ka(a)?b.Qf(a):b.Qf(parseFloat(a)):1===b.Dk&&b.Qf(a.toString())};m.prototype.fr=function(b,a){0===b.Dk?ka(a)?b.Qf(b.gh()+a):b.Qf(b.gh()+parseFloat(a)):1===b.Dk&&b.Qf(b.gh()+a.toString())};var t=[],r=[];m.prototype.et=function(b){if(!(0>b)){var a,e,f,c=this.b.Da(),d;t.length?d=t.pop():d={Gb:{},ba:[]};d.kl=!1;d.time=this.b.Qb.U+b;d.zq="";d.Xm=!1;d.bg=c.Ja;
d.Yb=c.Yb+1;b=0;for(a=this.b.A.length;b<a;b++)f=this.b.A[b],e=f.ea(),e.ka&&-1===c.Ja.ba.indexOf(f)||(d.ba.push(f),f=void 0,r.length?f=r.pop():f={Wd:[]},f.ak=!1,f.ak=e.ka,ya(f.Wd,e.i),d.Gb[b.toString()]=f);this.Xb.push(d);return!0}};m.prototype.Zs=function(){0>this.b.ug||(this.b.Bl().Fg=!0)};m.prototype.Ls=function(){if(!this.b.wh&&!this.b.Qg&&this.b.T){this.b.Qg=this.b.T;var b,a,e;b=0;for(a=this.b.qe.length;b<a;b++)e=this.b.qe[b],e.pq(e.jj)}};p.D=new m;k.prototype["int"]=function(b,a){F(a)?(b.I(parseInt(a,
10)),isNaN(b.data)&&(b.data=0)):b.I(a)};k.prototype["float"]=function(b,a){F(a)?(b.C(parseFloat(a)),isNaN(b.data)&&(b.data=0)):b.C(a)};k.prototype.random=function(b,a,e){void 0===e?b.C(Math.random()*a):b.C(Math.random()*(e-a)+a)};k.prototype.sqrt=function(b,a){b.C(Math.sqrt(a))};k.prototype.abs=function(b,a){b.C(Math.abs(a))};k.prototype.round=function(b,a){b.I(Math.round(a))};k.prototype.floor=function(b,a){b.I(Math.floor(a))};k.prototype.ceil=function(b,a){b.I(Math.ceil(a))};k.prototype.sin=function(b,
a){b.C(Math.sin(U(a)))};k.prototype.cos=function(b,a){b.C(Math.cos(U(a)))};k.prototype.tan=function(b,a){b.C(Math.tan(U(a)))};k.prototype.asin=function(b,a){b.C(Ga(Math.asin(a)))};k.prototype.acos=function(b,a){b.C(Ga(Math.acos(a)))};k.prototype.atan=function(b,a){b.C(Ga(Math.atan(a)))};k.prototype.exp=function(b,a){b.C(Math.exp(a))};k.prototype.log10=function(b,a){b.C(Math.log(a)/Math.LN10)};k.prototype.max=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var e,f,c;e=2;for(f=arguments.length;e<
f;e++)c=arguments[e],"number"===typeof c&&a<c&&(a=c);b.C(a)};k.prototype.min=function(b){var a=arguments[1];"number"!==typeof a&&(a=0);var e,f,c;e=2;for(f=arguments.length;e<f;e++)c=arguments[e],"number"===typeof c&&a>c&&(a=c);b.C(a)};k.prototype.tf=function(b){b.C(this.b.tf)};k.prototype.gi=function(b){b.C(this.b.gi)};k.prototype.time=function(b){b.C(this.b.Qb.U)};k.prototype.Gd=function(b){b.I(this.b.Gd)};k.prototype.Hj=function(b){b.I(this.b.Hj)};k.prototype.aj=function(b){b.I(this.b.aj)};k.prototype.mw=
function(b,a){var e,f;if(this.b.Ih.length)if(a){for(f=this.b.ug;0<=f;--f)if(e=this.b.Ih[f],e.name===a){b.I(e.index);return}b.I(0)}else e=this.b.Bl(),b.I(e?e.index:-1);else b.I(0)};k.prototype.n=function(b,a,e,f,c){b.C(Ga(La(a,e,f,c)))};k.prototype.kx=function(b){b.C(this.b.T.scrollX)};k.prototype.mx=function(b){b.C(this.b.T.scrollY)};k.prototype.hw=function(b,a,e,f){b.C(Ra(a,e,f))};k.prototype.Ex=function(b){b.I(this.b.width)};k.prototype.Dx=function(b){b.I(this.b.height)};k.prototype.Ht=function(b,
a,e,f){a<e?b.C(e):a>f?b.C(f):b.C(a)};k.prototype.left=function(b,a,e){b.Ub(F(a)?a.substr(0,e):"")};k.prototype.right=function(b,a,e){b.Ub(F(a)?a.substr(a.length-e):"")};k.prototype.replace=function(b,a,e,f){F(a)&&F(e)&&F(f)?b.Ub(a.replace(new RegExp(Za(e),"gi"),f)):b.Ub(F(a)?a:"")};k.prototype.trim=function(b,a){b.Ub(F(a)?a.trim():"")};k.prototype.Gt=function(b){var a=R(Math.random()*(arguments.length-1));b.gk(arguments[a+1])};k.prototype.xt=function(b,a,e,f){a=U(a);e=U(e);var c=Ma(a,e);Oa(e,a)?b.C(Ja(a+
c*f)):b.C(Ja(a-c*f))};k.prototype.el=function(b){b.C(this.b.el/1E3)};k.prototype.zj=function(b){b.C(this.b.zj)};p.q=new k;p.ax=function(){var b,a,e,f,c,d,k=this.b.Da();b=0;for(e=this.Xb.length;b<e;b++){f=this.Xb[b];if(-1===f.time){if(!f.Xm)continue}else if(f.time>this.b.Qb.U)continue;k.Ja=f.bg;k.Yb=f.Yb;k.La=0;for(a in f.Gb)f.Gb.hasOwnProperty(a)&&(c=this.b.A[parseInt(a,10)].ea(),d=f.Gb[a],c.ka=d.ak,ya(c.i,d.Wd),c=d,T(c.Wd),r.push(c));f.bg.$w();this.b.bl(f.ba);f.kl=!0}a=b=0;for(e=this.Xb.length;b<
e;b++)f=this.Xb[b],this.Xb[a]=f,f.kl?(Ta(f.Gb),T(f.ba),t.push(f)):a++;xa(this.Xb,a)}})();
(function(){ib=function(d,k){var p=d[1],t=d[3],r=d[4],b=d[5],a=d[6],e=d[7],f=d[8];k.k||(k.k={});k.D||(k.D={});k.q||(k.q={});var c=k.k,g=k.D,u=k.q;t&&(c.Ar=function(a,b){return Yb(this.x,a,b)},c.Mx=function(a,b){return Yb(this.y,a,b)},c.Qx=function(){var a=this.m;this.Y();var b=this.da;return!(b.right<a.ia||b.bottom<a.ja||b.left>a.ma||b.top>a.la)},c.Rx=function(){this.Y();var a=this.da,b=this.b.T;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.by=function(a,b,c){var e=this.ea(),f=e.nc();
if(!f.length)return!1;var h=f[0],d=h,g=Pa(h.x,h.y,b,c),k,m,r;k=1;for(m=f.length;k<m;k++)if(h=f[k],r=Pa(h.x,h.y,b,c),0===a&&r<g||1===a&&r>g)g=r,d=h;e.Sh(d);return!0},g.Ws=function(a){this.x!==a&&(this.x=a,this.O())},g.wy=function(a){this.y!==a&&(this.y=a,this.O())},g.Qs=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.O()},g.ty=function(a,b){var c=a.lv(this);if(c){var e;c.bh?(e=c.bh(b,!0),c=c.bh(b,!1)):(e=c.x,c=c.y);if(this.x!==e||this.y!==c)this.x=e,this.y=c,this.O()}},g.Wx=function(a){0!==
a&&(this.x+=Math.cos(this.n)*a,this.y+=Math.sin(this.n)*a,this.O())},g.Vx=function(a,b){0!==b&&(this.x+=Math.cos(U(a))*b,this.y+=Math.sin(U(a))*b,this.O())},u.Mk=function(a){a.C(this.x)},u.Nk=function(a){a.C(this.y)},u.tf=function(a){a.C(this.b.gg(this))});r&&(c.Lx=function(a,b){return Yb(this.width,a,b)},c.Jx=function(a,b){return Yb(this.height,a,b)},g.Vs=function(a){this.width!==a&&(this.width=a,this.O())},g.qy=function(a){this.height!==a&&(this.height=a,this.O())},g.Sn=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.O()},u.Un=function(a){a.C(this.width)},u.Fn=function(a){a.C(this.height)},u.lr=function(a){this.Y();a.C(this.da.left)},u.nr=function(a){this.Y();a.C(this.da.top)},u.mr=function(a){this.Y();a.C(this.da.right)},u.kr=function(a){this.Y();a.C(this.da.bottom)});b&&(c.hr=function(a,b){return Ma(this.n,U(b))<=U(a)},c.Zr=function(a){return Oa(this.n,U(a))},c.Yr=function(a,b){var c=Ka(a),e=Ka(b),f=Ia(this.n);return Oa(e,c)?Oa(f,c)&&!Oa(f,e):!(!Oa(f,c)&&Oa(f,
e))},g.Ns=function(a){a=U(Ha(a));isNaN(a)||this.n===a||(this.n=a,this.O())},g.gy=function(a){0===a||isNaN(a)||(this.n+=U(a),this.n=Ia(this.n),this.O())},g.hy=function(a){0===a||isNaN(a)||(this.n-=U(a),this.n=Ia(this.n),this.O())},g.iy=function(a,b){var c=Na(this.n,U(b),U(a));isNaN(c)||this.n===c||(this.n=c,this.O())},g.jy=function(a,b,c){a=Na(this.n,Math.atan2(c-this.y,b-this.x),U(a));isNaN(a)||this.n===a||(this.n=a,this.O())},g.uy=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.n===
c||(this.n=c,this.O())},u.gr=function(a){a.C(Ja(this.n))});p||(c.xr=function(a,b,c){return Yb(this.Ta[a],b,c)},c.Ox=function(a){return this.Ta[a]},c.cy=function(a,b){var c=this.ea(),e=c.nc();if(!e.length)return!1;var f=e[0],h=f,d=f.Ta[b],g,k,m;g=1;for(k=e.length;g<k;g++)if(f=e[g],m=f.Ta[b],0===a&&m<d||1===a&&m>d)d=m,h=f;c.Sh(h);return!0},c.ay=function(a){var b,c,e,f,h;if(this.b.ej().kj){h=this.ea();if(h.ka)for(h.ka=!1,T(h.i),T(h.Z),e=this.i,b=0,c=e.length;b<c;b++)f=e[b],f.uid===a?h.Z.push(f):h.i.push(f);
else{e=b=0;for(c=h.i.length;b<c;b++)f=h.i[b],h.i[e]=f,f.uid===a?h.Z.push(f):e++;xa(h.i,e)}this.Qc();return!!h.i.length}f=this.b.Gl(a);if(!f)return!1;h=this.ea();if(!h.ka&&-1===h.i.indexOf(f))return!1;if(this.G)for(a=f.type.za,b=0,c=a.length;b<c;b++){if(a[b]===this)return h.Sh(f),this.Qc(),!0}else if(f.type===this)return h.Sh(f),this.Qc(),!0;return!1},c.si=function(){return!0},c.os=function(){return!0},g.Os=function(a,b){var c=this.Ta;ka(c[a])?c[a]=ka(b)?b:parseFloat(b):F(c[a])&&(c[a]=F(b)?b:b.toString())},
g.Ix=function(a,b){var c=this.Ta;ka(c[a])?c[a]=ka(b)?c[a]+b:c[a]+parseFloat(b):F(c[a])&&(c[a]=F(b)?c[a]+b:c[a]+b.toString())},g.$s=function(a,b){var c=this.Ta;ka(c[a])&&(c[a]=ka(b)?c[a]-b:c[a]-parseFloat(b))},g.ky=function(a,b){this.Ta[a]=b?1:0},g.xy=function(a){this.Ta[a]=1-this.Ta[a]},g.Cn=function(){this.b.hf(this)},g.es||(g.es=function(a){var b,c;try{b=JSON.parse(a)}catch(e){return}this.b.wj(this,b,!0);this.Kd&&this.Kd();if(this.Q)for(a=0,b=this.Q.length;a<b;++a)c=this.Q[a],c.Kd&&c.Kd()}),u.Br=
function(a){var b=a.Lf.i.length,c,e,f;c=0;for(e=this.b.Vc.length;c<e;c++)f=this.b.Vc[c],a.Lf.G?0<=f.type.za.indexOf(a.Lf)&&b++:f.type===a.Lf&&b++;a.I(b)},u.fy=function(a){a.I(a.Lf.ea().nc().length)},u.yy=function(a){a.I(this.uid)},u.Nx=function(a){a.I(this.hh())},u.Bn||(u.Bn=function(a){a.Ub(JSON.stringify(this.b.Rm(this,!0)))}));a&&(c.Sx=function(){return this.visible},g.vy=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.aa=!0)},c.Kx=function(a,b){return Yb(eb(100*this.opacity),a,b)},g.ry=
function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.aa=!0)},u.Opacity=function(a){a.C(eb(100*this.opacity))});e&&(c.Px=function(a){return a?this.m===a:!1},c.ey=function(a){var b=this.ea(),c=b.nc();if(!c.length)return!1;var e=c[0],f=e,h,d;h=1;for(d=c.length;h<d;h++)if(e=c[h],0===a){if(e.m.index>f.m.index||e.m.index===f.m.index&&e.zd()>f.zd())f=e}else if(e.m.index<f.m.index||e.m.index===f.m.index&&e.zd()<f.zd())f=e;b.Sh(f);return!0},g.gs=function(){var a=this.m,b=a.i;b.length&&
b[b.length-1]===this||(a.yg(this,!1),a.Ng(this,!1),this.b.aa=!0)},g.Xx=function(){var a=this.m,b=a.i;b.length&&b[0]===this||(a.yg(this,!1),a.Mw(this),this.b.aa=!0)},g.Yx=function(a){a&&a!=this.m&&(this.m.yg(this,!0),this.m=a,a.Ng(this,!0),this.b.aa=!0)},g.ht=function(a,b){var c=0===a;if(b){var e=b.dv(this);e&&e.uid!==this.uid&&(this.m.index!==e.m.index&&(this.m.yg(this,!0),this.m=e.m,e.m.Ng(this,!0)),this.m.sw(this,e,c),this.b.aa=!0)}},u.Ux=function(a){a.I(this.m.Op)},u.Tx=function(a){a.Ub(this.m.name)},
u.zy=function(a){a.I(this.zd())});f&&(g.my=function(a,b){if(this.b.p){var c=this.type.Dl(b);if(!(0>c)){var e=1===a;this.oe[c]!==e&&(this.oe[c]=e,this.pd(),this.b.aa=!0)}}},g.ny=function(a,b,c){if(this.b.p){var e=this.type.Dl(a);0>e||(a=this.type.N[e],e=this.Ca[e],b=Math.floor(b),0>b||b>=e.length||(1===this.b.p.ov(a.Pa,b)&&(c/=100),e[b]!==c&&(e[b]=c,a.jc&&(this.b.aa=!0))))}})};Db=function(){this.Zk=this.Rk=!0;this.type.wi=!0;this.b.aa=!0;var d,k,p=this.Sk;d=0;for(k=p.length;d<k;++d)p[d](this);this.m.wc&&
this.Y()};Eb=function(d){d&&this.Sk.push(d)};Gb=function(){if(this.Rk){var d=this.da,k=this.hb;d.set(this.x,this.y,this.x+this.width,this.y+this.height);d.offset(-this.Nb*this.width,-this.Ob*this.height);this.n?(d.offset(-this.x,-this.y),k.vq(d,this.n),k.offset(this.x,this.y),k.lo(d)):k.Cg(d);d.normalize();this.Rk=!1;this.xx()}};var d=new S(0,0,0,0);Hb=function(){if(this.m.wc){var m=this.m.ob,k=this.da;d.set(m.Jb(k.left),m.Kb(k.top),m.Jb(k.right),m.Kb(k.bottom));this.Sb.Vg(d)||(this.Sb.right<this.Sb.left?
m.update(this,null,d):m.update(this,this.Sb,d),this.Sb.qf(d),this.m.jd=!0)}};Ib=function(){if(this.Zk&&this.Uc){this.Y();var m=this.type.Hi,k=this.da;d.set(m.Jb(k.left),m.Kb(k.top),m.Jb(k.right),m.Kb(k.bottom));this.ve.Vg(d)||(this.ve.right<this.ve.left?m.update(this,null,d):m.update(this,this.ve,d),this.ve.qf(d),this.Zk=!1)}};Fb=function(d,k){return this.da.Ia(d,k)&&this.hb.Ia(d,k)?this.ef?this.ux(d,k):this.S&&!this.S.Je()?(this.S.Nd(this.width,this.height,this.n),this.S.Ia(d-this.x,k-this.y)):!0:
!1};zb=function(){this.type.Ak();return this.Af};Jb=function(){this.m.sn();return this.sd};Kb=function(){T(this.ga);var d,k,p,t=!0;d=0;for(k=this.oe.length;d<k;d++)this.oe[d]&&(p=this.type.N[d],this.ga.push(p),p.fd||(t=!1));this.Yq=!!this.ga.length;this.ie=t};Ab=function(){return"Inst"+this.gq};nb=function(d){if(d&&d.Pb&&d.type!=this){var k,p,t;k=0;for(p=d.siblings.length;k<p;k++)if(t=d.siblings[k],t.type==this)return t}d=this.ea().nc();return d.length?d[0]:null};ob=function(d){var k=this.ea().nc();
return k.length?k[d.hh()%k.length]:null};mb=function(){if(this.Eg&&!this.G){var d,k;d=0;for(k=this.i.length;d<k;d++)this.i[d].Af=d;var p=d,t=this.b.Vc;d=0;for(k=t.length;d<k;++d)t[d].type===this&&(t[d].Af=p++);this.Eg=!1}};xb=function(d){if(d<this.i.length)return this.i[d];d-=this.i.length;var k=this.b.Vc,p,t;p=0;for(t=k.length;p<t;++p)if(k[p].type===this){if(0===d)return k[p];--d}return null};pb=function(){return this.ke[this.wd]};qb=function(){this.wd++;this.wd===this.ke.length?this.ke.push(new jb(this)):
(this.ke[this.wd].ka=!0,T(this.ke[this.wd].Z))};rb=function(){this.wd++;this.wd===this.ke.length&&this.ke.push(new jb(this));var d=this.ke[this.wd],k=this.ke[this.wd-1];k.ka?d.ka=!0:(d.ka=!1,ya(d.i,k.i));T(d.Z)};sb=function(){this.wd--};tb=function(d){var k,p,t,r,b,a=0;if(!this.G)for(k=0,p=this.za.length;k<p;k++)for(b=this.za[k],t=0,r=b.Ba.length;t<r;t++){if(d===b.Ba[t].name)return this.L.lastBehIndex=a,b.Ba[t];a++}k=0;for(p=this.Ba.length;k<p;k++){if(d===this.Ba[k].name)return this.L.lastBehIndex=
a,this.Ba[k];a++}return null};ub=function(d){return this.dj(d)?this.L.lastBehIndex:-1};vb=function(d){var k,p;k=0;for(p=this.N.length;k<p;k++)if(this.N[k].name===d)return k;return-1};wb=function(){if(this.Pb&&!this.G){var d,k,p,t,r,b,a;this.Ak();b=this.ea();var e=b.ka,f=(d=this.b.Da())&&d.Ja&&d.Ja.rc;d=0;for(k=this.$b.length;d<k;d++)if(r=this.$b[d],r!==this&&(r.Ak(),a=r.ea(),a.ka=e,!e)){T(a.i);p=0;for(t=b.i.length;p<t;++p)a.i[p]=r.El(b.i[p].Af);if(f)for(T(a.Z),p=0,t=b.Z.length;p<t;++p)a.Z[p]=r.El(b.Z[p].Af)}}};
yb=function(){return"Type"+this.X};Yb=function(d,k,p){if("undefined"===typeof d||"undefined"===typeof p)return!1;switch(k){case 0:return d===p;case 1:return d!==p;case 2:return d<p;case 3:return d<=p;case 4:return d>p;case 5:return d>=p;default:return!1}}})();var fc={};function jc(d){this.b=d}
(function(){function d(){return a.length?a.pop():[]}function m(b){var f,c;f=0;for(c=b.length;f<c;f++)Array.isArray(b[f])&&m(b[f]);T(b);a.push(b)}function k(){}function p(){}function t(){}var r=jc.prototype;r.ca=function(a){this.qa=a;this.b=a.b};r.ca.prototype.H=function(){};r.P=function(a){this.type=a;this.b=a.b};var b=r.P.prototype,a=[];Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});b.H=function(){this.Lb=this.u[0];this.lc=this.u[1];this.Wc=
this.u[2];this.xb||(this.Md=d());var a=this.Md;a.length=this.Lb;var b,c,g;for(b=0;b<this.Lb;b++)for(a[b]||(a[b]=d()),a[b].length=this.lc,c=0;c<this.lc;c++)for(a[b][c]||(a[b][c]=d()),a[b][c].length=this.Wc,g=0;g<this.Wc;g++)a[b][c][g]=0;this.cc=[];this.yd=[];this.yf=[];this.yc=-1};b.Dc=function(){var a;for(a=0;a<this.Lb;a++)m(this.Md[a]);T(this.Md)};b.Qa=function(a,b,c){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);return isNaN(a)||0>a||a>this.Lb-1||isNaN(b)||0>b||b>this.lc-1||isNaN(c)||0>c||c>this.Wc-
1?0:this.Md[a][b][c]};b.set=function(a,b,c,d){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);isNaN(a)||0>a||a>this.Lb-1||isNaN(b)||0>b||b>this.lc-1||isNaN(c)||0>c||c>this.Wc-1||(this.Md[a][b][c]=d)};b.bv=function(){return JSON.stringify({c2array:!0,size:[this.Lb,this.lc,this.Wc],data:this.Md})};b.Oa=function(){return{size:[this.Lb,this.lc,this.Wc],data:this.Md}};b.fb=function(a){var b=a.size;this.Lb=b[0];this.lc=b[1];this.Wc=b[2];this.Md=a.data};b.he=function(a,b,c){0>a&&(a=0);0>b&&(b=0);0>c&&(c=
0);if(this.Lb!==a||this.lc!==b||this.Wc!==c){this.Lb=a;this.lc=b;this.Wc=c;var g,k,r=this.Md;r.length=a;for(a=0;a<this.Lb;a++)for(ja(r[a])&&(r[a]=d()),r[a].length=b,g=0;g<this.lc;g++)for(ja(r[a][g])&&(r[a][g]=d()),r[a][g].length=c,k=0;k<this.Wc;k++)ja(r[a][g][k])&&(r[a][g][k]=0)}};b.Ho=function(){return 0<=this.yc&&this.yc<this.cc.length?this.cc[this.yc]:0};b.Io=function(){return 0<=this.yc&&this.yc<this.yd.length?this.yd[this.yc]:0};b.gv=function(){return 0<=this.yc&&this.yc<this.yf.length?this.yf[this.yc]:
0};k.prototype.Ar=function(a,b,c){return Yb(this.Qa(a,0,0),b,c)};b.ll=function(a){this.b.Ue(a.ba);a.Pf();this.b.ed(a.ba)};k.prototype.ir=function(a){var b=this.b.Da().Ja;this.yc++;var c=this.yc;c===this.cc.length?(this.cc.push(0),this.yd.push(0),this.yf.push(0)):(this.cc[c]=0,this.yd[c]=0,this.yf[c]=0);switch(a){case 0:for(this.cc[c]=0;this.cc[c]<this.Lb;this.cc[c]++)for(this.yd[c]=0;this.yd[c]<this.lc;this.yd[c]++)for(this.yf[c]=0;this.yf[c]<this.Wc;this.yf[c]++)this.ll(b);break;case 1:for(this.cc[c]=
0;this.cc[c]<this.Lb;this.cc[c]++)for(this.yd[c]=0;this.yd[c]<this.lc;this.yd[c]++)this.ll(b);break;case 2:for(this.cc[c]=0;this.cc[c]<this.Lb;this.cc[c]++)this.ll(b)}this.yc--;return!1};k.prototype.ur=function(a,b){return Yb(this.Qa(this.Ho(),this.Io(),this.gv()),a,b)};r.k=new k;p.prototype.Sn=function(a,b,c){this.he(a,b,c)};p.prototype.Ws=function(a,b){this.set(a,0,0,b)};p.prototype.Xs=function(a,b,c){this.set(a,b,0,c)};r.D=new p;t.prototype.jr=function(a,b,c,d){a.gk(this.Qa(b,c||0,d||0))};t.prototype.Un=
function(a){a.I(this.Lb)};t.prototype.Fn=function(a){a.I(this.lc)};t.prototype.Kr=function(a){a.I(this.Ho())};t.prototype.Lr=function(a){a.I(this.Io())};t.prototype.Bn=function(a){a.Ub(this.bv())};r.q=new t})();function Y(d){this.b=d}
(function(){function d(){b&&a&&window.OfflineClientInfo&&window.OfflineClientInfo.SetMessageCallback(function(a){e.Aw(a)})}function m(){}function k(){}function p(a){console&&console.warn&&console.warn("Fullscreen request failed: ",a);c.setSize(window.innerWidth,window.innerHeight)}var t=Y.prototype;t.ca=function(a){this.qa=a;this.b=a.b};var r=t.ca.prototype;r.H=function(){};var b=!1,a=!1;document.addEventListener("DOMContentLoaded",function(){if(window.C2_RegisterSW&&navigator.serviceWorker){var a=
document.createElement("script");a.onload=function(){b=!0;d()};a.src="offlineClient.js";document.head.appendChild(a)}});var e=null;r.Sp=function(){a=!0;d()};t.P=function(a){this.type=a;this.b=a.b};r=t.P.prototype;r.H=function(){var a=this;window.addEventListener("resize",function(){a.b.trigger(Y.prototype.k.Es,a)});e=this;"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.b.trigger(Y.prototype.k.Bs,a)}),window.addEventListener("offline",function(){a.b.trigger(Y.prototype.k.zs,
a)}));this.b.Xd||(document.addEventListener("appMobi.device.update.available",function(){a.b.trigger(Y.prototype.k.Lk,a)}),document.addEventListener("backbutton",function(){a.b.trigger(Y.prototype.k.ri,a)}),document.addEventListener("menubutton",function(){a.b.trigger(Y.prototype.k.Kn,a)}),document.addEventListener("searchbutton",function(){a.b.trigger(Y.prototype.k.Fs,a)}),document.addEventListener("tizenhwkey",function(b){var c;switch(b.keyName){case "back":c=a.b.trigger(Y.prototype.k.ri,a);!c&&
window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=a.b.trigger(Y.prototype.k.Kn,a))||b.preventDefault()}}));this.b.cm&&"undefined"!==typeof Windows?Windows.UI.Core.SystemNavigationManager.getForCurrentView().addEventListener("backrequested",function(b){a.b.trigger(Y.prototype.k.ri,a)&&(b.handled=!0)}):this.b.dp&&WinJS.Application&&(WinJS.Application.onbackclick=function(){return!!a.b.trigger(Y.prototype.k.ri,a)});this.b.ot(function(b){b?a.b.trigger(Y.prototype.k.Cs,
a):a.b.trigger(Y.prototype.k.Ds,a)})};r.Aw=function(a){a=a.data.type;"downloading-update"===a?this.b.trigger(Y.prototype.k.Is,this):"update-ready"===a||"update-pending"===a?this.b.trigger(Y.prototype.k.Lk,this):"offline-ready"===a&&this.b.trigger(Y.prototype.k.As,this)};m.prototype.Bs=function(){return!0};m.prototype.zs=function(){return!0};m.prototype.Lk=function(){return!0};m.prototype.Ds=function(){return!0};m.prototype.Cs=function(){return!0};m.prototype.Es=function(){return!0};m.prototype.$r=
function(){return!!(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.b.$d)};m.prototype.ri=function(){return!0};m.prototype.Kn=function(){return!0};m.prototype.Fs=function(){return!0};m.prototype.bt=function(){if(this.b.Zl)return!0;var a=this.b.Wk||this.b.canvas;return!!(a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullScreen)};m.prototype.Is=function(){return!0};m.prototype.Lk=function(){return!0};m.prototype.As=function(){return!0};
t.k=new m;var f=!0,c=null;k.prototype.Ks=function(a){this.b.Ua?A("[Construct 2] Requesting fullscreen is not supported on this platform - the request has been ignored"):(2<=a&&(a+=1),6===a&&(a=2),this.b.Zl?this.b.Xo?debuggerFullscreen(!0):!this.b.$d&&window.nwgui&&(window.nwgui.Window.get().enterFullscreen(),this.b.$d=!0,this.b.Be=2<=a?a:0):document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement||document.fullScreen||document.fullScreenElement||(this.b.Be=2<=a?a:0,a=document.documentElement,
f&&(f=!1,c=this.b,a.addEventListener("mozfullscreenerror",p),a.addEventListener("webkitfullscreenerror",p),a.addEventListener("MSFullscreenError",p),a.addEventListener("fullscreenerror",p)),a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen?a.msRequestFullscreen():a.webkitRequestFullScreen&&("undefined"!==typeof Element&&"undefined"!==typeof Element.ALLOW_KEYBOARD_INPUT?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.webkitRequestFullScreen())))};
k.prototype.qr=function(){this.b.Ua?A("[Construct 2] Exiting fullscreen is not supported on this platform - the request has been ignored"):this.b.Zl?this.b.Xo?debuggerFullscreen(!1):this.b.$d&&window.nwgui&&(window.nwgui.Window.get().leaveFullscreen(),this.b.$d=!1):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()};t.D=
new k;t.q=new function(){}})();function ic(d){this.b=d}
(function(){function d(){this.name="";this.Wj=0;this.Qh=[]}function m(){b++;b===r.length&&r.push(new d);return r[b]}function k(){}function p(){}var t=ic.prototype;t.ca=function(a){this.qa=a;this.b=a.b};t.ca.prototype.H=function(){};t.P=function(a){this.type=a;this.b=a.b};var r=[],b=-1;t.P.prototype.H=function(){var a=this;window.c2_callFunction=function(e,f){var c,d,k,r=m();r.name=e.toLowerCase();r.Wj=0;if(f)for(r.Qh.length=f.length,c=0,d=f.length;c<d;++c)k=f[c],r.Qh[c]="number"===typeof k||"string"===
typeof k?k:"boolean"===typeof k?k?1:0:0;else T(r.Qh);a.b.trigger(ic.prototype.k.Hn,a,r.name);b--;return r.Wj}};k.prototype.Hn=function(a){var e=0>b?null:r[b];return e?fb(a,e.name):!1};t.k=new k;t.D=new function(){};p.prototype.pr=function(a,e){var f=m();f.name=e.toLowerCase();f.Wj=0;T(f.Qh);var c,d;c=2;for(d=arguments.length;c<d;c++)f.Qh.push(arguments[c]);this.b.trigger(ic.prototype.k.Hn,this,f.name);b--;a.gk(f.Wj)};t.q=new p})();function kc(d){this.b=d}
(function(){function d(){}function m(){}function k(){}var p=kc.prototype;p.ca=function(d){this.qa=d;this.b=d.b};p.ca.prototype.H=function(){};p.P=function(d){this.type=d;this.b=d.b};var t=p.P.prototype;t.H=function(){this.xb||(this.ml=new window.DungeonGen);this.Xe=this.map=null;this.Si=this.Ti=0;this.Ae=null;this.ql=-1;this.Ni=null};t.Dc=function(){this.Gk()};t.Tn=function(d,b,a,e,f){this.ml.Stop();var c=this;this.Ni=[d,b,a,e,f];this.ml.Start(d,b,a,e,f,function(e){c.Ti=b;c.Si=a;e=e[0];c.map=e[0];
c.Xe=e[1];c.Ni=null;c.b.trigger(kc.prototype.k.Gn,c)})};t.Gk=function(){this.Ni=null;this.ml.Stop()};t.Yf=function(d,b){var a;this.map&&this.map[d]&&(a=this.map[d][b]);null==a&&(a=-1);return a};t.bw=function(d,b){return 0<=d&&d<this.Ti&&0<=b&&b<this.Si};t.Ik=function(d,b){if(!this.bw(d,b))return-1;var a,e=this.Xe.length,f;for(a=0;a<e;a++)if(f=this.Xe[a],d>=f[0]&&d<=f[2]&&b>=f[1]&&b<=f[3])return a;return-1};t.Qy=function(d,b){return-1===this.Yf(d,b)};t.cp=function(d,b){return 1===this.Yf(d,b)};t.Ad=
function(d,b){return 0===this.Yf(d,b)};t.Xv=function(d,b){if(this.cp(d,b)){var a=this.Ad(d,b-1);a||(a=this.Ad(d+1,b));a||(a=this.Ad(d,b+1));a||(a=this.Ad(d-1,b));a||(a=this.Ad(d+1,b-1));a||(a=this.Ad(d+1,b+1));a||(a=this.Ad(d-1,b+1));a||(a=this.Ad(d-1,b-1));return a}return!1};t.Py=function(d,b){return this.cp(d,b)&&!this.Xv(d,b)};t.kg=function(d,b){return-1!==this.Ik(d,b)};t.Ge=function(d,b){return this.Ad(d,b)&&!this.kg(d,b)?!0:!1};t.Iy=function(d,b){if(this.Ad(d,b)&&!this.kg(d,b)){var a=this.kg(d,
b-1);a||(a=this.kg(d+1,b));a||(a=this.kg(d,b+1));a||(a=this.kg(d-1,b));return a}return!1};t.Pv=function(d,b){var a=0;this.Ge(d,b-1)&&(a+=1);this.Ge(d+1,b)&&(a+=1);this.Ge(d,b+1)&&(a+=1);this.Ge(d-1,b)&&(a+=1);return a};t.lf=function(d,b){var a=0;this.Ge(d+1,b)&&(a|=1);this.Ge(d,b+1)&&(a|=2);this.Ge(d-1,b)&&(a|=4);this.Ge(d,b-1)&&(a|=8);return a};t.sv=function(d){return null===d?-1:d[0]};t.Hy=function(d){return null===d?-1:d[2]};t.tv=function(d){return null===d?-1:d[1]};t.gw=function(d){return null===
d?-1:d[3]};t.pv=function(d){return null===d?-1:Math.floor((d[0]+d[2])/2)};t.qv=function(d){return null===d?-1:Math.floor((d[1]+d[3])/2)};t.uv=function(d){return null===d?-1:d[2]-d[0]+1};t.rv=function(d){return null===d?-1:d[3]-d[1]+1};t.Oa=function(){return{map:this.map,rooms:this.Xe,w:this.Ti,h:this.Si,curTsk:this.Ni}};t.fb=function(d){this.map=d.map;this.Xe=d.rooms;this.Ti=d.w;this.Si=d.h;d=d.curTsk;null!==d&&this.Tn.apply(this,d)};p.k=new d;d.prototype.Gn=function(){return!0};d.prototype.Qr=function(){if(null==
this.Xe)return!1;var d=this.b,b=d.Da(),a=b.Ja,b=b.Zo(),e,f=this.Xe.length;for(e=0;e<f;e++)b&&d.Ue(a.ba),this.Ae=this.Xe[e],this.ql=e,a.Pf(),b&&d.ed(a.ba);this.Ae=null;this.ql=-1;return!1};p.D=new m;m.prototype.Rr=function(d,b,a,e,f,c,g,k,q,p,m){this.Tn("Digger",d,b,a,{roomWidth:[e,f],roomHeight:[c,g],corridorLength:[k,q],dugPercentage:p,timeLimit:1E3*m})};m.prototype.Gk=function(){this.Gk()};p.q=new k;k.prototype.Yf=function(d,b,a){d.gk(this.Yf(b,a))};k.prototype.Hr=function(d){d.I(this.sv(this.Ae))};
k.prototype.Ir=function(d){d.I(this.tv(this.Ae))};k.prototype.Dr=function(d){d.I(this.pv(this.Ae))};k.prototype.Er=function(d){d.I(this.qv(this.Ae))};k.prototype.Jr=function(d){d.I(this.uv(this.Ae))};k.prototype.Fr=function(d){d.I(this.rv(this.Ae))};k.prototype.Gr=function(d){d.I(this.ql)};k.prototype.Ik=function(d,b,a){d.I(this.Ik(b,a))}})();function X(d){this.b=d}
(function(){function d(){if(0===this.il.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Dg?b.drawImage(this.M,this.wg,this.xg,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.M,0,0,this.width,this.height);this.il=a.toDataURL("image/png")}return this.il}function m(){}function k(a){a[0]=0;a[1]=0;a[2]=0;u.push(a)}function p(a,b){return a<b?""+a+","+b:""+b+","+a}function t(a,b,c,e){b=b.uid;c=c.uid;var d=p(b,c);if(a.hasOwnProperty(d))a[d][2]=
e;else{var f=u.length?u.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=e;a[d]=f}}function r(a,b,c){b=p(b.uid,c.uid);a.hasOwnProperty(b)&&(k(a[b]),delete a[b])}function b(a,b,c){b=p(b.uid,c.uid);if(a.hasOwnProperty(b))return q=a[b][2],!0;q=-2;return!1}function a(){}var e=X.prototype;e.ca=function(a){this.qa=a;this.b=a.b};var f=e.ca.prototype;f.H=function(){if(!this.G){var a,b,c,e,f,h,g,k,n;this.Pc=[];this.kh=!1;a=0;for(b=this.Zb.length;a<b;a++){f=this.Zb[a];g={};g.name=f[0];g.speed=f[1];g.loop=f[2];g.Mm=f[3];g.Nm=
f[4];g.$p=f[5];g.X=f[6];g.frames=[];c=0;for(e=f[7].length;c<e;c++)h=f[7][c],k={},k.ok=h[0],k.pk=h[1],k.wg=h[2],k.xg=h[3],k.width=h[4],k.height=h[5],k.duration=h[6],k.Nb=h[7],k.Ob=h[8],k.Pl=h[9],k.Oj=h[10],k.aq=h[11],k.Dg=0!==k.width,k.il="",k.Dy=d,n={left:0,top:0,right:1,bottom:1},k.Wm=n,k.wa=null,(n=this.b.Yu(h[0]))?k.M=n:(k.M=new Image,k.M.Jt=h[0],k.M.fl=h[1],k.M.Ct=null,this.b.un(k.M,h[0])),g.frames.push(k),this.Pc.push(k);this.Zb[a]=g}}};f.Wq=function(){var a,b,c;a=0;for(b=this.i.length;a<b;a++)c=
this.i[a],c.Ki=c.ib.wa};f.Ph=function(){if(!this.G){var a,b,c;a=0;for(b=this.Pc.length;a<b;++a)c=this.Pc[a],c.M.Ct=null,c.wa=null;this.kh=!1;this.Wq()}};f.Kj=function(){if(!this.G&&this.i.length){var a,b,c;a=0;for(b=this.Pc.length;a<b;++a)c=this.Pc[a],c.wa=this.b.p.xj(c.M,!1,this.b.ya,c.aq);this.Wq()}};f.yj=function(){if(!this.G&&!this.kh&&this.b.p){var a,b,c;a=0;for(b=this.Pc.length;a<b;++a)c=this.Pc[a],c.wa=this.b.p.xj(c.M,!1,this.b.ya,c.aq);this.kh=!0}};f.zk=function(){if(!this.G&&!this.i.length&&
this.kh){var a,b,c;a=0;for(b=this.Pc.length;a<b;++a)c=this.Pc[a],this.b.p.deleteTexture(c.wa),c.wa=null;this.kh=!1}};var c=[];f.Rj=function(a){var b,e,d;T(c);b=0;for(e=this.Pc.length;b<e;++b)d=this.Pc[b].M,-1===c.indexOf(d)&&(a.drawImage(d,0,0),c.push(d))};e.P=function(a){this.type=a;this.b=a.b;a=this.type.Zb[0].frames[0].Oj;this.xb?this.S.Zh(a):this.S=new $a(a)};var g=e.P.prototype;g.H=function(){this.visible=0===this.u[0];this.Uc=0!==this.u[3];this.xa=this.Eo(this.u[1])||this.type.Zb[0];this.F=
this.u[2];0>this.F&&(this.F=0);this.F>=this.xa.frames.length&&(this.F=this.xa.frames.length-1);var a=this.xa.frames[this.F];this.S.Zh(a.Oj);this.Nb=a.Nb;this.Ob=a.Ob;this.Zf=this.xa.speed;this.xe=this.xa.Nm;1===this.type.Zb.length&&1===this.type.Zb[0].frames.length||0===this.Zf||this.b.Iq(this);this.xb?this.ud.reset():this.ud=new Ya;this.Vd=this.ud.U;this.kf=!0;this.Ld=0;this.jf=!0;this.al=this.co="";this.Et=0;this.$k=-1;this.type.yj();var b,c,e,d,f,h,g,a=0;for(b=this.type.Zb.length;a<b;a++)for(d=
this.type.Zb[a],c=0,e=d.frames.length;c<e;c++)f=d.frames[c],0===f.width&&(f.width=f.M.width,f.height=f.M.height),f.Dg&&(g=f.M,h=f.Wm,h.left=f.wg/g.width,h.top=f.xg/g.height,h.right=(f.wg+f.width)/g.width,h.bottom=(f.xg+f.height)/g.height,0===f.wg&&0===f.xg&&f.width===g.width&&f.height===g.height&&(f.Dg=!1));this.ib=this.xa.frames[this.F];this.Ki=this.ib.wa};g.Oa=function(){var a={a:this.xa.X,f:this.F,cas:this.Zf,fs:this.Vd,ar:this.Ld,at:this.ud.U,rt:this.xe};this.kf||(a.ap=this.kf);this.jf||(a.af=
this.jf);return a};g.fb=function(a){var b=this.av(a.a);b&&(this.xa=b);this.F=a.f;0>this.F&&(this.F=0);this.F>=this.xa.frames.length&&(this.F=this.xa.frames.length-1);this.Zf=a.cas;this.Vd=a.fs;this.Ld=a.ar;this.ud.reset();this.ud.U=a.at;this.kf=a.hasOwnProperty("ap")?a.ap:!0;this.jf=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.xe=a.rt:this.xe=this.xa.Nm;this.ib=this.xa.frames[this.F];this.Ki=this.ib.wa;this.S.Zh(this.ib.Oj);this.Nb=this.ib.Nb;this.Ob=this.ib.Ob};g.Qk=function(a){this.F=
a?0:this.xa.frames.length-1;this.kf=!1;this.co=this.xa.name;this.b.trigger(X.prototype.k.ks,this);this.b.trigger(X.prototype.k.js,this);this.Ld=0};g.lf=function(){return this.ud.U};g.ic=function(){this.ud.add(this.b.gg(this));this.al.length&&this.Qt();0<=this.$k&&this.Rt();var a=this.ud.U,b=this.xa,c=b.frames[this.F],e=c.duration/this.Zf;this.kf&&a>=this.Vd+e&&(this.jf?this.F++:this.F--,this.Vd+=e,this.F>=b.frames.length&&(b.$p?(this.jf=!1,this.F=b.frames.length-2):b.loop?this.F=this.xe:(this.Ld++,
this.Ld>=b.Mm?this.Qk(!1):this.F=this.xe)),0>this.F&&(b.$p?(this.F=1,this.jf=!0,b.loop||(this.Ld++,this.Ld>=b.Mm&&this.Qk(!0))):b.loop?this.F=this.xe:(this.Ld++,this.Ld>=b.Mm?this.Qk(!0):this.F=this.xe)),0>this.F?this.F=0:this.F>=b.frames.length&&(this.F=b.frames.length-1),a>this.Vd+b.frames[this.F].duration/this.Zf&&(this.Vd=a),a=b.frames[this.F],this.Xf(c,a),this.b.aa=!0)};g.Eo=function(a){var b,c,e;b=0;for(c=this.type.Zb.length;b<c;b++)if(e=this.type.Zb[b],fb(e.name,a))return e;return null};g.av=
function(a){var b,c,e;b=0;for(c=this.type.Zb.length;b<c;b++)if(e=this.type.Zb[b],e.X===a)return e;return null};g.Qt=function(){var a=this.xa.frames[this.F],b=this.Eo(this.al);this.al="";!b||fb(b.name,this.xa.name)&&this.kf||(this.xa=b,this.Zf=b.speed,this.xe=b.Nm,0>this.F&&(this.F=0),this.F>=this.xa.frames.length&&(this.F=this.xa.frames.length-1),1===this.Et&&(this.F=0),this.kf=!0,this.Vd=this.ud.U,this.jf=!0,this.Xf(a,this.xa.frames[this.F]),this.b.aa=!0)};g.Rt=function(){var a=this.xa.frames[this.F],
b=this.F;this.F=R(this.$k);0>this.F&&(this.F=0);this.F>=this.xa.frames.length&&(this.F=this.xa.frames.length-1);b!==this.F&&(this.Xf(a,this.xa.frames[this.F]),this.Vd=this.ud.U,this.b.aa=!0);this.$k=-1};g.Xf=function(a,b){var c=a.width,e=a.height,d=b.width,f=b.height;c!=d&&(this.width*=d/c);e!=f&&(this.height*=f/e);this.Nb=b.Nb;this.Ob=b.Ob;this.S.Zh(b.Oj);this.O();this.ib=b;this.Ki=b.wa;c=0;for(e=this.Q.length;c<e;c++)d=this.Q[c],d.Bw&&d.Bw(a,b);this.b.trigger(X.prototype.k.Xf,this)};g.Xc=function(a){a.globalAlpha=
this.opacity;var b=this.ib,c=b.Dg,e=b.M,d=this.x,f=this.y,h=this.width,g=this.height;if(0===this.n&&0<=h&&0<=g)d-=this.Nb*h,f-=this.Ob*g,this.b.tc&&(d=Math.round(d),f=Math.round(f)),c?a.drawImage(e,b.wg,b.xg,b.width,b.height,d,f,h,g):a.drawImage(e,d,f,h,g);else{this.b.tc&&(d=Math.round(d),f=Math.round(f));a.save();var k=0<h?1:-1,n=0<g?1:-1;a.translate(d,f);1===k&&1===n||a.scale(k,n);a.rotate(this.n*k*n);d=0-this.Nb*oa(h);f=0-this.Ob*oa(g);c?a.drawImage(e,b.wg,b.xg,b.width,b.height,d,f,oa(h),oa(g)):
a.drawImage(e,d,f,oa(h),oa(g));a.restore()}};g.ye=function(a){this.Eb(a)};g.Eb=function(a){a.Tb(this.Ki);a.$e(this.opacity);var b=this.ib,c=this.hb;if(this.b.tc){var e=Math.round(this.x)-this.x,d=Math.round(this.y)-this.y;b.Dg?a.hd(c.Za+e,c.$a+d,c.Ab+e,c.Bb+d,c.tb+e,c.ub+d,c.rb+e,c.sb+d,b.Wm):a.Wh(c.Za+e,c.$a+d,c.Ab+e,c.Bb+d,c.tb+e,c.ub+d,c.rb+e,c.sb+d)}else b.Dg?a.hd(c.Za,c.$a,c.Ab,c.Bb,c.tb,c.ub,c.rb,c.sb,b.Wm):a.Wh(c.Za,c.$a,c.Ab,c.Bb,c.tb,c.ub,c.rb,c.sb)};g.iv=function(a){var b=this.ib,c,e;c=
0;for(e=b.Pl.length;c<e;c++)if(fb(a,b.Pl[c][0]))return c;return-1};g.bh=function(a,b){var c=this.ib,e=c.Pl,d;F(a)?d=this.iv(a):d=a-1;d=R(d);if(0>d||d>=e.length)return b?this.x:this.y;var f=(e[d][1]-c.Nb)*this.width,e=e[d][2],e=(e-c.Ob)*this.height,c=Math.cos(this.n);d=Math.sin(this.n);var h=f*c-e*d,e=e*c+f*d,f=h+this.x,e=e+this.y;return b?f:e};var u=[],q=-2,x=[];m.prototype.ns=function(a){if(!a)return!1;var c=this.b,e=c.ej(),d=e.type,f=null;e.L.collmemory?f=e.L.collmemory:(f={},e.L.collmemory=f);
e.L.spriteCreatedDestroyCallback||(e.L.spriteCreatedDestroyCallback=!0,c.Zn(function(a){var b=e.L.collmemory;a=a.uid;var c,d;for(c in b)b.hasOwnProperty(c)&&(d=b[c],d[0]===a||d[1]===a)&&(k(b[c]),delete b[c])}));var h=d.ea(),g=a.ea(),h=h.nc(),n,l,p,m,y,u,z,L=this.b.Gd,B=L-1,C=c.Da().Ja;for(l=0;l<h.length;l++){p=h[l];g.ka?(p.Y(),this.b.zl(p.m,a,p.da,x),n=x,this.b.mt(p,a,n)):n=g.nc();for(m=0;m<n.length;m++)y=n[m],c.cf(p,y)||c.Ft(p,y)?(u=b(f,p,y),u=!u||q<B,t(f,p,y,L),u&&(c.Ue(C.ba),u=d.ea(),z=a.ea(),
u.ka=!1,z.ka=!1,d===a?(u.i.length=2,u.i[0]=p,u.i[1]=y,d.Qc()):(u.i.length=1,z.i.length=1,u.i[0]=p,z.i[0]=y,d.Qc(),a.Qc()),C.Pf(),c.ed(C.ba))):r(f,p,y);T(x)}return!1};var z=null,n=new ga,l=!1,h=[],y=new S(0,0,0,0);f.finish=function(a){if(l){if(a){var b=this.b.Da().Ja.rc;a=z.ea();var c=n.Jd(),e,d;if(a.ka){a.ka=!1;T(a.i);e=0;for(d=c.length;e<d;++e)a.i[e]=c[e];if(b)for(T(a.Z),e=0,d=z.i.length;e<d;++e)c=z.i[e],n.contains(c)||a.Z.push(c)}else if(b)for(b=a.i.length,e=0,d=c.length;e<d;++e)a.i[b+e]=c[e],Ea(a.Z,
c[e]);else ya(a.i,c);z.Qc()}n.clear();l=!1}};m.prototype.cs=function(a){if(a){var b=!1,c,e,d,f=this.b.ej(),g=f.type,f=f.kj;c=a.ea();e=this.b.Da().Ja.rc;var k;c.ka?(this.Y(),y.qf(this.da),y.offset(0,0),this.b.zl(this.m,a,y,h),k=h):k=e?this.b.Zv()&&!c.Z.length&&c.i.length?c.i:c.Z:c.i;z=a;l=g!==a&&!f;c=0;for(e=k.length;c<e;c++)if(d=k[c],this.b.cf(this,d)){b=!0;if(f)break;g!==a&&n.add(d)}T(h);a=b}else a=!1;return a};m.prototype.js=function(a){return fb(this.co,a)};m.prototype.ks=function(){return!0};
m.prototype.Xf=function(){return!0};e.k=new m;e.D=new function(){};a.prototype.Wr=function(a,b){a.C(this.bh(b,!0))};a.prototype.Xr=function(a,b){a.C(this.bh(b,!1))};e.q=new a})();function lc(d){this.b=d}
(function(){function d(){return a.length?a.pop():{}}function m(b){var d,c;d=0;for(c=b.length;d<c;d++)a.push(b[d]);T(b)}function k(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function p(){}var t=lc.prototype;t.H=function(){t.D.Vs=function(a){this.width!==a&&(this.width=a,this.Tf=!0,this.O())}};t.ca=function(a){this.qa=a;this.b=a.b};var r=t.ca.prototype;r.H=function(){};r.Ph=function(){if(!this.G){var a,b,c;a=0;for(b=this.i.length;a<b;a++)c=this.i[a],c.Bd=null,c.Kf=null,
c.gc=null}};t.P=function(a){this.type=a;this.b=a.b;this.xb?T(this.Me):this.Me=[];this.Tf=!0};r=t.P.prototype;r.H=function(){this.text=this.u[0];this.visible=0===this.u[1];this.font=this.u[2];this.color=this.u[3];this.gj=this.u[4];this.Ck=this.u[5];this.vn=0===this.u[7];this.im=this.ee=this.width;this.de=this.height;this.km=this.u[8];this.Zi=this.dg="";this.Fq=this.Gq=this.Uh=0;this.Ew();this.gc=this.Kf=this.Bd=null;this.Mp=!1;this.zh=this.b.Gd;this.xb?this.We.set(0,0,1,1):this.We=new S(0,0,1,1);this.b.p&&
this.b.Iq(this)};r.Ew=function(){var a=this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Uh=parseInt(a[b].substr(0,a[b].length-2));this.Hm=Math.ceil(this.Uh/72*96)+4;0<b&&(this.Zi=a[b-1]);this.dg=a[b+1];for(b+=2;b<a.length;b++)this.dg+=" "+a[b];break}};r.Oa=function(){return{t:this.text,f:this.font,c:this.color,ha:this.gj,va:this.Ck,wr:this.vn,lho:this.km,fn:this.dg,fs:this.Zi,ps:this.Uh,pxh:this.Hm,tw:this.Gq,th:this.Fq,lrt:this.zh}};r.fb=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.gj=a.ha;this.Ck=a.va;this.vn=a.wr;this.km=a.lho;this.dg=a.fn;this.Zi=a.fs;this.Uh=a.ps;this.Hm=a.pxh;this.Gq=a.tw;this.Fq=a.th;this.zh=a.lrt;this.Tf=!0;this.im=this.ee=this.width;this.de=this.height};r.ic=function(){if(this.b.p&&this.gc&&300<=this.b.Gd-this.zh){var a=this.m;this.Y();var b=this.da;if(b.right<a.ia||b.bottom<a.ja||b.left>a.ma||b.top>a.la)this.b.p.deleteTexture(this.gc),this.Bd=this.Kf=this.gc=null}};r.Dc=function(){this.Bd=this.Kf=null;this.b.p&&
this.gc&&this.b.p.deleteTexture(this.gc);this.gc=null};r.lf=function(){this.font=this.Zi+" "+this.Uh.toString()+"pt "+this.dg;this.Tf=!0;this.b.aa=!0};r.Xc=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=Math.abs(this.m.fc()),a.save(),a.scale(c,c));if(this.Tf||this.width!==this.im)this.type.qa.ft(this.text,this.Me,a,this.width,this.vn),this.Tf=!1,this.im=this.width;this.Y();var c=b?0:this.hb.Za,d=b?0:this.hb.$a;this.b.tc&&(c=
c+.5|0,d=d+.5|0);0===this.n||b||(a.save(),a.translate(c,d),a.rotate(this.n),d=c=0);var k=d+this.height,p=this.Hm,p=p+this.km,m,t;1===this.Ck?d+=Math.max(this.height/2-this.Me.length*p/2,0):2===this.Ck&&(d+=Math.max(this.height-this.Me.length*p-2,0));for(t=0;t<this.Me.length&&!(m=c,1===this.gj?m=c+(this.width-this.Me[t].width)/2:2===this.gj&&(m=c+(this.width-this.Me[t].width)),a.fillText(this.Me[t].text,m,d),d+=p,d>=k-p);t++);(0!==this.n||b)&&a.restore();this.zh=this.b.Gd};r.Eb=function(a){if(!(1>
this.width||1>this.height)){var b=this.Tf||this.Mp;this.Mp=!1;var c=this.m.fc(),d=this.m.ec(),k=this.We,p=c*this.width,m=c*this.height,t=Math.ceil(p),n=Math.ceil(m),l=Math.abs(t),h=Math.abs(n),y=this.b.K/2,v=this.b.J/2;this.Kf||(this.Bd=document.createElement("canvas"),this.Bd.width=l,this.Bd.height=h,this.ee=l,this.de=h,b=!0,this.Kf=this.Bd.getContext("2d"));if(l!==this.ee||h!==this.de)this.Bd.width=l,this.Bd.height=h,this.gc&&(a.deleteTexture(this.gc),this.gc=null),b=!0;b&&(this.Kf.clearRect(0,
0,l,h),this.Xc(this.Kf,!0),this.gc||(this.gc=a.ac(l,h,this.b.ya,this.b.Zd)),a.$q(this.Bd,this.gc,this.b.Zd));this.ee=l;this.de=h;a.Tb(this.gc);a.$e(this.opacity);a.Hc();a.translate(-y,-v);a.vc();var w=this.hb,b=this.m.Aa(w.Za,w.$a,!0,!0),l=this.m.Aa(w.Za,w.$a,!1,!0),h=this.m.Aa(w.Ab,w.Bb,!0,!0),y=this.m.Aa(w.Ab,w.Bb,!1,!0),v=this.m.Aa(w.tb,w.ub,!0,!0),r=this.m.Aa(w.tb,w.ub,!1,!0),D=this.m.Aa(w.rb,w.sb,!0,!0),w=this.m.Aa(w.rb,w.sb,!1,!0);if(this.b.tc||0===this.n&&0===d)var ca=(b+.5|0)-b,ea=(l+.5|0)-
l,b=b+ca,l=l+ea,h=h+ca,y=y+ea,v=v+ca,r=r+ea,D=D+ca,w=w+ea;0===this.n&&0===d?(h=b+t,y=l,v=h,r=l+n,D=b,w=r,k.right=1,k.bottom=1):(k.right=p/t,k.bottom=m/n);a.hd(b,l,h,y,v,r,D,w,k);a.Hc();a.scale(c,c);a.Zj(-this.m.ec());a.translate((this.m.ia+this.m.ma)/-2,(this.m.ja+this.m.la)/-2);a.vc();this.zh=this.b.Gd}};var b=[];t.ct=function(a){T(b);for(var d="",c,g=0;g<a.length;)if(c=a.charAt(g),"\n"===c)d.length&&(b.push(d),d=""),b.push("\n"),++g;else if(" "===c||"\t"===c||"-"===c){do d+=a.charAt(g),g++;while(g<
a.length&&(" "===a.charAt(g)||"\t"===a.charAt(g)));b.push(d);d=""}else g<a.length&&(d+=c,g++);d.length&&b.push(d)};var a=[];t.ft=function(a,b,c,g,k){if(a&&a.length)if(2>=g)m(b);else{if(100>=a.length&&-1===a.indexOf("\n")){var p=c.measureText(a).width;if(p<=g){m(b);b.push(d());b[0].text=a;b[0].width=p;return}}this.gt(a,b,c,g,k)}else m(b)};t.gt=function(e,f,c,g,p){p&&(this.ct(e),e=b);var m="",t,r,n,l=0;for(n=0;n<e.length;n++)"\n"===e[n]?(l>=f.length&&f.push(d()),m=k(m),r=f[l],r.text=m,r.width=c.measureText(m).width,
l++,m=""):(t=m,m+=e[n],r=c.measureText(m).width,r>=g&&(l>=f.length&&f.push(d()),t=k(t),r=f[l],r.text=t,r.width=c.measureText(t).width,l++,m=e[n],p||" "!==m||(m="")));m.length&&(l>=f.length&&f.push(d()),m=k(m),r=f[l],r.text=m,r.width=c.measureText(m).width,l++);for(n=l;n<f.length;n++)a.push(f[n]);f.length=l};t.k=new function(){};p.prototype.Ss=function(a){ka(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Tf=!0,this.b.aa=!0)};t.D=new p;t.q=new function(){}})();
function mc(d){this.b=d}
(function(){var d=mc.prototype;d.ca=function(d){this.qa=d;this.b=d.b};var m=d.ca.prototype;m.H=function(){this.G||(this.M=new Image,this.M.fl=this.pk,this.b.un(this.M,this.ok),this.wa=this.pattern=null)};m.Ph=function(){this.G||(this.wa=null)};m.Kj=function(){if(!this.G&&this.i.length){this.wa||(this.wa=this.b.p.xj(this.M,!0,this.b.ya,this.bn));var d,p;d=0;for(p=this.i.length;d<p;d++)this.i[d].wa=this.wa}};m.yj=function(){this.G||this.wa||!this.b.p||(this.wa=this.b.p.xj(this.M,!0,this.b.ya,this.bn))};
m.zk=function(){this.G||this.i.length||!this.wa||(this.b.p.deleteTexture(this.wa),this.wa=null)};m.Rj=function(d){d.drawImage(this.M,0,0)};d.P=function(d){this.type=d;this.b=d.b};m=d.P.prototype;m.H=function(){this.visible=0===this.u[0];this.We=new S(0,0,0,0);this.Po=!1;this.M=this.type.M;this.b.p?(this.type.yj(),this.wa=this.type.wa):(this.type.pattern||(this.type.pattern=this.b.ua.createPattern(this.type.M,"repeat")),this.pattern=this.type.pattern)};m.Kd=function(){this.Po=!1;this.M=this.type.M};
m.Dc=function(){this.b.p&&this.Po&&this.wa&&(this.b.p.deleteTexture(this.wa),this.wa=null)};m.Xc=function(d){d.globalAlpha=this.opacity;d.save();d.fillStyle=this.pattern;var p=this.x,m=this.y;this.b.tc&&(p=Math.round(p),m=Math.round(m));var r=-(this.Nb*this.width),b=-(this.Ob*this.height),a=r%this.M.width,e=b%this.M.height;0>a&&(a+=this.M.width);0>e&&(e+=this.M.height);d.translate(p,m);d.rotate(this.n);d.translate(a,e);d.fillRect(r-a,b-e,this.width,this.height);d.restore()};m.ye=function(d){this.Eb(d)};
m.Eb=function(d){d.Tb(this.wa);d.$e(this.opacity);var p=this.We;p.right=this.width/this.M.width;p.bottom=this.height/this.M.height;var m=this.hb;if(this.b.tc){var r=Math.round(this.x)-this.x,b=Math.round(this.y)-this.y;d.hd(m.Za+r,m.$a+b,m.Ab+r,m.Bb+b,m.tb+r,m.ub+b,m.rb+r,m.sb+b,p)}else d.hd(m.Za,m.$a,m.Ab,m.Bb,m.tb,m.ub,m.rb,m.sb,p)};d.k=new function(){};d.D=new function(){};d.q=new function(){}})();function nc(d){this.b=d}
(function(){function d(){this.tk=this.id=-1;this.fo=this.ag=this.ki=this.lh=!1;this.fa=new S(0,0,0,0)}function m(a){1E4>x.length&&x.push(a)}function k(){this.id=-1;this.fa=new S(0,0,0,0);this.uc=null}function p(a){1E4>z.length&&z.push(a)}function t(a,b,c){var d;return n.length?(d=n.pop(),d.j=a,d.x=b,d.y=c,d.left=d.x*d.j.Ra*d.j.Ya,d.top=d.y*d.j.ab*d.j.Xa,d.clear(),d.Xh=!1,d):new r(a,b,c)}function r(a,b,c){this.j=a;this.x=b;this.y=c;this.left=this.x*this.j.Ra*this.j.Ya;this.top=this.y*this.j.ab*this.j.Xa;
this.Hd=[];this.mb=[];this.Db=[];this.Xh=!1;var d,e;a=0;for(b=this.j.ab;a<b;++a){e=[];c=0;for(d=this.j.Ra;c<d;++c)e.push(-1);this.Hd.push(e)}}function b(a){switch(a){case 0:return 0;case 1:return c;case 2:return g;case 3:return c|u;case 4:return c|g;case 5:return g|u;case 6:return c|g|u;case 7:return u;default:return 0}}function a(){}var e=nc.prototype;e.ca=function(a){this.qa=a;this.b=a.b};var f=e.ca.prototype;f.H=function(){var a,b,c;if(!this.G&&(this.M=new Image,this.M.fl=this.pk,this.b.un(this.M,
this.ok),this.rf=[],this.hl=!1,this.nd=[],this.Jq=!1,this.sk&&this.sk.length))for(a=0,b=this.sk.length;a<b;++a)(c=this.sk[a])?this.nd.push({uc:c,Yi:[[[null,null],[null,null]],[[null,null],[null,null]]]}):this.nd.push(null)};f.se=function(a,b,c,d,e,f){if(!(0>a||a>=this.nd.length)&&this.nd[a]){var g=this.nd[a].Yi;a=new $a(this.nd[a].uc);a.Nd(b,c,0);f&&a.Ot();d&&a.rw(b/2);e&&a.Zu(c/2);g[d?1:0][e?1:0][f?1:0]=a}};f.Lo=function(a){if(-1===a)return null;var b=a&q;return 0>b||b>=this.nd.length||!this.nd[b]?
null:this.nd[b].Yi[a&c?1:0][a&g?1:0][a&u?1:0]};f.wl=function(){var a,b,c=this.b.p;if(c)for(a=0,b=this.rf.length;a<b;++a)c.deleteTexture(this.rf[a]);T(this.rf);this.hl=!1};f.rm=function(a,b,c,d,e,f,g){if(!(this.hl||0>=a||0>=b)){this.wl();var k=this.M.width,n=this.M.height,l;for(l=d;l+b<=n;l+=b+f)for(d=c;d+a<=k;d+=a+e)this.rf.push(this.Mr(d,l,a,b,g));this.hl=!0}};f.Mr=function(a,b,c,d,e){if(this.b.p)return this.Hk(a,b,c,d,!1,!1,!1,e);var f=[[[null,null],[null,null]],[[null,null],[null,null]]];f[0][0][0]=
this.Hk(a,b,c,d,!1,!1,!1,e);return{Yi:f,x:a,y:b,Bx:c,Lv:d}};f.En=function(a,b,c,d,e){if(0>a||a>=this.rf.length)return null;a=this.rf[a];var f=a.Yi;b=b?1:0;c=c?1:0;d=d?1:0;var g=f[b][c][d];if(g)return g;g=this.Hk(a.x,a.y,a.Bx,a.Lv,0!==b,0!==c,0!==d,e);return f[b][c][d]=g};f.Hk=function(a,b,c,d,e,f,g,k){var n=c,l=d;this.b.p&&!k&&(la(n)||(n=na(n)),la(l)||(l=na(l)));var m=document.createElement("canvas");m.width=n;m.height=l;var p=m.getContext("2d");if(this.b.ua)return e?f?(g?(p.rotate(Math.PI/2),p.scale(-1,
1)):p.scale(-1,-1),p.translate(-n,-l)):g?(p.rotate(Math.PI/2),p.translate(0,-l)):(p.scale(-1,1),p.translate(-n,0)):f?g?(p.rotate(-Math.PI/2),p.translate(-n,0)):(p.scale(1,-1),p.translate(0,-l)):g&&(p.scale(-1,1),p.rotate(Math.PI/2)),p.drawImage(this.M,a,b,c,d,0,0,n,l),k?m:this.b.ua.createPattern(m,"repeat");p.drawImage(this.M,a,b,c,d,0,0,n,l);a=this.b.p.ac(n,l,this.b.ya,!1,!k);this.b.p.$q(m,a);return a};f.Ph=function(){this.G||this.wl()};f.Kj=function(){};f.yj=function(){};f.zk=function(){this.G||
this.i.length||this.wl()};f.Rj=function(){};e.P=function(a){this.type=a;this.b=a.b};var f=e.P.prototype,c=-2147483648,g=1073741824,u=536870912,q=536870911,x=[],z=[],n=[];r.prototype.clear=function(){var a,b,c,d,e;this.Hd.length=this.j.ab;a=0;for(b=this.Hd.length;a<b;++a)for(e=this.Hd[a],e||(e=[],this.Hd[a]=e),e.length=this.j.Ra,c=0,d=e.length;c<d;++c)e[c]=-1};r.prototype.Jh=function(){if(!this.Xh){var a=this.j.Ya,b=this.j.Xa;if(!(0>=a||0>=b)){var e,f,n,l,t,r;e=0;for(f=this.mb.length;e<f;++e)m(this.mb[e]);
e=0;for(f=this.Db.length;e<f;++e)p(this.Db[e]);T(this.mb);T(this.Db);var ma=Math.min(this.j.Cc,Math.floor(this.j.width/a)),P=Math.min(this.j.cd,Math.floor(this.j.height/b)),ma=ma-this.left/a,P=P-this.top/b;ma>this.j.Ra&&(ma=this.j.Ra);P>this.j.ab&&(P=this.j.ab);var W=this.j.Ye,E=null;e=0;for(f=P;e<f;++e){t=this.Hd[e];n=0;for(l=ma;n<l;++n)r=t[n],-1===r?E&&(this.mb.push(E),E=null):W||!E||r!==E.id?(E&&this.mb.push(E),E=x.length?x.pop():new d,E.id=r,E.tk=r&q,E.lh=0!==(r&c),E.ki=0!==(r&g),E.ag=0!==(r&
u),E.fo=E.lh||E.ki||E.ag,E.fa.left=n*a+this.left,E.fa.top=e*b+this.top,E.fa.right=E.fa.left+a,E.fa.bottom=E.fa.top+b):E.fa.right+=a;E&&(this.mb.push(E),E=null)}var E=null,K=!1;e=0;for(f=P;e<f;++e){t=this.Hd[e];n=0;for(l=ma;n<l;++n)r=t[n],-1===r?E&&(this.Db.push(E),E=null,K=!1):(P=this.j.type.Lo(r),!E||P||K?(E&&this.Db.push(E),E=z.length?z.pop():new k,E.id=r,E.uc=P?P:null,r=E.fa,r.left=n*a+this.left,r.top=e*b+this.top,r.right=r.left+a,r.bottom=r.top+b,K=!!P):E.fa.right+=a);E&&(this.Db.push(E),E=null,
K=!1)}if(!W)for(f=this.mb.length,e=0;e<f;++e)for(l=this.mb[e],a=e+1;a<f;++a)if(n=this.mb[a],!(n.fa.top<l.fa.bottom)){if(n.fa.top>l.fa.bottom)break;if(n.fa.right>l.fa.right||n.fa.left>l.fa.left)break;n.id===l.id&&n.fa.left===l.fa.left&&n.fa.right===l.fa.right&&(m(this.mb[a]),this.mb.splice(a,1),--f,l.fa.bottom+=b,--a)}f=this.Db.length;for(e=0;e<f;++e)if(l=this.Db[e],!l.uc)for(t=l.fa,a=e+1;a<f;++a)if(n=this.Db[a],l=n.fa,!(l.top<t.bottom)){if(l.top>t.bottom)break;if(l.right>t.right||l.left>t.left)break;
n.uc||l.left!==t.left||l.right!==t.right||(p(this.Db[a]),this.Db.splice(a,1),--f,t.bottom+=b,--a)}this.Xh=!0}}};r.prototype.fk=function(a,b,c){this.Hd[b][a]!==c&&(this.Hd[b][a]=c,this.Xh=!1,this.j.yi=!0,this.j.Rh=!0,this.j.b.aa=!0)};f.H=function(){var a,b,c;this.visible=0===this.u[0];this.Ya=this.u[1];this.Xa=this.u[2];this.cn=this.u[3];this.gn=this.u[4];this.dn=this.u[5];this.hn=this.u[6];this.Ye=0!==this.u[7];this.Cc=this.Mq;this.cd=this.Lq;this.ee=this.width;this.de=this.height;var d=this.Ya,e=
this.Xa;0===d&&(d=1);0===e&&(e=1);this.Ra=Math.ceil(this.b.Fa/d);this.ab=Math.ceil(this.b.Ea/e);if(!this.type.Jq)for(this.type.Jq=!0,a=0,b=this.type.nd.length;a<b;++a)if(c=this.type.nd[a])this.type.se(a,d,e,!1,!1,!1),this.type.se(a,d,e,!1,!1,!0),this.type.se(a,d,e,!1,!0,!1),this.type.se(a,d,e,!1,!0,!0),this.type.se(a,d,e,!0,!1,!1),this.type.se(a,d,e,!0,!1,!0),this.type.se(a,d,e,!0,!0,!1),this.type.se(a,d,e,!0,!0,!0);this.xb||(this.Ib=[]);this.Fj(!0);this.sq(this.Kq);this.type.rm(this.Ya,this.Xa,this.cn,
this.gn,this.dn,this.hn,this.Ye);this.Rh=!1;this.yi=!0;this.qm()};f.qm=function(){if(this.yi){var a,b,c,d,e;a=0;for(b=this.Ib.length;a<b;++a)for(e=this.Ib[a],c=0,d=e.length;c<d;++c)e[c].Jh();this.yi=!1}};f.bk=function(){var a,b,c,d,e;a=0;for(b=this.Ib.length;a<b;++a)for(e=this.Ib[a],c=0,d=e.length;c<d;++c)e[c].Xh=!1;this.yi=!0};f.Fj=function(a){var b=R(this.width/this.Ya),c=R(this.height/this.Xa);if(!(b<=this.Cc&&c<=this.cd)||a){var d;a?(a=Math.ceil(this.cd/this.ab),d=Math.ceil(this.Cc/this.Ra)):
(a=this.Ib.length,d=Math.ceil(this.Cc/this.Ra),c>this.cd&&(this.cd=c,a=Math.ceil(this.cd/this.ab)),b>this.Cc&&(this.Cc=b,d=Math.ceil(this.Cc/this.Ra)),this.bk(),this.Rh=!0,this.b.aa=!0);for(var e,b=0;b<a;++b)if(e=this.Ib[b])for(c=e.length;c<d;++c)e.push(t(this,c,b));else{e=[];for(c=0;c<d;++c)e.push(t(this,c,b));this.Ib[b]=e}}};f.Xk=function(a,b){if(0>a||0>b)return null;var c=R(b/this.ab);if(c>=this.Ib.length)return null;var c=this.Ib[c],d=R(a/this.Ra);return d>=c.length?null:c[d]};f.Yk=function(a,
b){if(0>a||0>b||b>=this.Ib.length)return null;var c=this.Ib[b];return a>=c.length?null:c[a]};f.sq=function(a){var b=[];a=a.split(",");var d,e,f,n,k;d=0;for(e=a.length;d<e;++d)if(f=a[d],n=f.indexOf("x"),-1<n)for(k=parseInt(f.substring(0,n),10),f=f.substring(n+1),n=parseInt(f,10),-1<f.indexOf("h")&&(n|=c),-1<f.indexOf("v")&&(n|=g),-1<f.indexOf("d")&&(n|=u);0<k;--k)b.push(n);else n=parseInt(f,10),-1<f.indexOf("h")&&(n|=c),-1<f.indexOf("v")&&(n|=g),-1<f.indexOf("d")&&(n|=u),b.push(n);for(d=a=0;d<this.cd;++d)for(e=
0;e<this.Cc;++e)k=b[a++],(f=this.Xk(e,d))&&f.fk(e%this.Ra,d%this.ab,k)};f.wv=function(){var a="";if(0>=this.Cc||0>=this.cd)return a;var b=1,d=this.Kl(0,0),e,f,n,k,l,p,m,t;k=R(this.width/this.Ya);f=R(this.height/this.Xa);for(e=0;e<f;++e)for(n=0===e?1:0;n<k;++n)l=this.Kl(n,e),l===d?++b:(-1===d?(p=-1,d=t=m=!1):(p=d&q,m=0!==(d&c),t=0!==(d&g),d=0!==(d&u)),a=1===b?a+(""+p):a+(""+b+"x"+p),m&&(a+="h"),t&&(a+="v"),d&&(a+="d"),a+=",",b=1,d=l);-1===d?(p=-1,d=t=m=!1):(p=d&q,m=0!==(d&c),t=0!==(d&g),d=0!==(d&u));
a=1===b?a+(""+p):a+(""+b+"x"+p);m&&(a+="h");t&&(a+="v");d&&(a+="d");return a};f.Kl=function(a,b){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Cc||b>=this.cd)return-1;var c=this.Xk(a,b);return c?c.Hd[b%this.ab][a%this.Ra]:-1};f.fk=function(a,b,c){a=Math.floor(a);b=Math.floor(b);if(0>a||0>b||a>=this.Cc||b>=this.cd)return-1;var d=this.Xk(a,b);if(!d)return-1;d.fk(a%this.Ra,b%this.ab,c)};f.cr=function(a){return Math.floor((a-this.x)/(this.Ra*this.Ya))};f.dr=function(a){return Math.floor((a-this.y)/
(this.ab*this.Xa))};f.Fx=function(a){return Math.floor((a-this.x)/this.Ya)};f.Gx=function(a){return Math.floor((a-this.y)/this.Xa)};f.Al=function(a,b){var c=this.dr(a.top),d=this.cr(a.right),e=this.dr(a.bottom),f,g,n;for(f=this.cr(a.left);f<=d;++f)for(g=c;g<=e;++g)if(n=this.Yk(f,g))n.Jh(),Ca(b,n.Db)};f.ux=function(a,b){var c=this.Kl(this.Fx(a),this.Gx(b));if(-1===c)return!1;c=this.type.Lo(c);if(!c)return!0;var d=Math.floor((b-this.y)/this.Xa)*this.Xa+this.y;a-=Math.floor((a-this.x)/this.Ya)*this.Ya+
this.x;return c.Ia(a,b-d)};f.lf=function(a){var b,c,d,e,f,g;b=0;for(c=this.Ib.length;b<c;++b)for(f=this.Ib[b],d=0,e=f.length;d<e;++d)g=f[d],g.Jh(),Ca(a,g.Db)};f.Dc=function(){var a,b,c,d,e;a=0;for(b=this.Ib.length;a<b;++a){e=this.Ib[a];c=0;for(d=e.length;c<d;++c){for(var f=e[c],g=void 0,k=void 0,g=0,k=f.mb.length;g<k;++g)m(f.mb[g]);T(f.mb);g=0;for(k=f.Db.length;g<k;++g)p(f.Db[g]);T(f.Db);1E3>n.length&&n.push(f)}T(e)}T(this.Ib)};f.Oa=function(){this.Fj();return{w:R(this.width/this.Ya),h:R(this.height/
this.Xa),d:this.wv()}};f.fb=function(a){this.Cc=a.w;this.cd=a.h;this.Fj(!0);this.sq(a.d);this.Rh=!0;this.bk()};f.Xc=function(a){if(!(0>=this.Ya||0>=this.Xa)){this.type.rm(this.Ya,this.Xa,this.cn,this.gn,this.dn,this.hn,this.Ye);if(this.width!==this.ee||this.height!==this.de)this.Rh=!0,this.bk(),this.qm(),this.ee=this.width,this.de=this.height;a.globalAlpha=this.opacity;var b=this.m,c=b.ia,d=b.ja,e=b.ma,b=b.la,f=this.x,g=this.y,n=this.Ye,k;this.b.tc&&(f=Math.round(f),g=Math.round(g));var l=this.Ra*
this.Ya,p=this.ab*this.Xa,m=Math.floor((c-f)/l),l=Math.floor((e-f)/l),t=Math.floor((d-g)/p),p=Math.floor((b-g)/p),r=f%this.Ya,q=g%this.Xa;this.Ye&&(q=r=0);if(0!==r||0!==q)a.save(),a.translate(r,q),f-=r,g-=q,c-=r,d-=q,e-=r,b-=q;for(var u,x,z,C,I,H,G,M,aa;m<=l;++m)for(u=t;u<=p;++u)if(x=this.Yk(m,u))for(x.Jh(),z=0,C=x.mb.length;z<C;++z)I=x.mb[z],-1!==I.id&&(k=I.fa,H=k.left+f,G=k.top+g,M=k.right+f,k=k.bottom+g,H>e||M<c||G>b||k<d||(aa=this.type.En(I.tk,I.lh,I.ki,I.ag,this.Ye),n?a.drawImage(aa,H,G):(a.fillStyle=
this.type.En(I.tk,I.lh,I.ki,I.ag,this.Ye),a.fillRect(H,G,M-H,k-G))));0===r&&0===q||a.restore()}};var l=new S(0,0,1,1);f.ye=function(a){this.Eb(a)};f.Eb=function(a){if(!(0>=this.Ya||0>=this.Xa)){this.type.rm(this.Ya,this.Xa,this.cn,this.gn,this.dn,this.hn,this.Ye);if(this.width!==this.ee||this.height!==this.de)this.Rh=!0,this.bk(),this.qm(),this.ee=this.width,this.de=this.height;a.$e(this.opacity);var b=this.type.rf,c=this.m,d=c.ia,e=c.ja,f=c.ma,c=c.la,g=this.x,n=this.y,k;this.b.tc&&(g=Math.round(g),
n=Math.round(n));var p=this.Ra*this.Ya,m=this.ab*this.Xa,t=Math.floor((f-g)/p),r=Math.floor((e-n)/m),m=Math.floor((c-n)/m),q,u,x,z,B,C,I,H,G,M,aa,N,da,O,Ba,lb,kb;for(Ba=Math.floor((d-g)/p);Ba<=t;++Ba)for(lb=r;lb<=m;++lb)if(kb=this.Yk(Ba,lb))for(kb.Jh(),p=0,q=kb.mb.length;p<q;++p)u=kb.mb[p],-1!==u.id&&(k=u.fa,x=k.left+g,z=k.top+n,B=k.right+g,k=k.bottom+n,x>f||B<d||z>c||k<e||(a.Tb(b[u.tk]),l.right=(B-x)/this.Ya,l.bottom=(k-z)/this.Xa,u.fo?(u.ag&&(O=l.right,l.right=l.bottom,l.bottom=O),I=C=0,H=l.right,
G=0,M=l.right,aa=l.bottom,N=0,da=l.bottom,u.ag&&(O=N,N=H,H=O,O=da,da=G,G=O),u.lh&&(O=C,C=H,H=O,O=I,I=G,G=O,O=N,N=M,M=O,O=da,da=aa,aa=O),u.ki&&(O=C,C=N,N=O,O=I,I=da,da=O,O=H,H=M,M=O,O=G,G=aa,aa=O),a.Uw(x,z,B,z,B,k,x,k,C,I,H,G,M,aa,N,da)):a.hd(x,z,B,z,B,k,x,k,l)))}};e.k=new function(){};a.prototype.Ts=function(a,c,d,e){this.Fj();this.fk(a,c,d&q|b(e))};e.D=new a;e.q=new function(){}})();function Z(d){this.b=d}
(function(){function d(a){f=a.x;c=a.y;g=a.z}function m(a,b,c,d){var e;e=u.length?u.pop():new k;e.init(a,b,c,d);return e}function k(){this.bi=this.id=this.Gf=this.Ff=this.y=this.x=this.lk=this.kk=this.hm=this.time=this.$m=0;this.hi=this.xk=!1}function p(a){return a.sourceCapabilities&&a.sourceCapabilities.firesTouchEvents||a.originalEvent&&a.originalEvent.sourceCapabilities&&a.originalEvent.sourceCapabilities.firesTouchEvents}function t(){}function r(){}var b=Z.prototype;b.ca=function(a){this.qa=a;
this.b=a.b};b.ca.prototype.H=function(){};b.P=function(a){this.type=a;this.b=a.b;this.touches=[];this.vm=!1};var a=b.P.prototype,e={left:0,top:0};a.$g=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var f=0,c=0,g=0,u=[];k.prototype.init=function(a,b,c,d){var e=Ua();this.$m=this.hm=this.time=e;this.kk=a;this.lk=b;this.x=a;this.y=b;this.Ff=a;this.Gf=b;this.pressure=this.height=this.width=0;this.id=c;this.bi=d;this.hi=this.xk=!1};k.prototype.update=
function(a,b,c,d,e,f){this.hm=this.time;this.time=a;this.Ff=this.x;this.Gf=this.y;this.x=b;this.y=c;this.width=d;this.height=e;this.pressure=f;!this.hi&&15<=Pa(this.kk,this.lk,this.x,this.y)&&(this.hi=!0)};k.prototype.pw=function(a,b){!this.xk&&500<=Ua()-this.$m&&!this.hi&&15>Pa(this.kk,this.lk,this.x,this.y)&&(this.xk=!0,a.Id=this.bi,a.Gg=this.id,a.ig=b,a.b.trigger(Z.prototype.k.vs,a),a.Pd=this.x,a.Qd=this.y,a.b.trigger(Z.prototype.k.ws,a),a.ig=0)};var q=-1E3,x=-1E3,z=-1E4;k.prototype.Gp=function(a,
b){if(!this.xk){var c=Ua();333>=c-this.$m&&!this.hi&&15>Pa(this.kk,this.lk,this.x,this.y)&&(a.Id=this.bi,a.Gg=this.id,a.ig=b,666>=c-z&&25>Pa(q,x,this.x,this.y)?(a.b.trigger(Z.prototype.k.qs,a),a.Pd=this.x,a.Qd=this.y,a.b.trigger(Z.prototype.k.ss,a),x=q=-1E3,z=-1E4):(a.b.trigger(Z.prototype.k.Gs,a),a.Pd=this.x,a.Qd=this.y,a.b.trigger(Z.prototype.k.Hs,a),q=this.x,x=this.y,z=c),a.ig=0)}};a.H=function(){this.cw=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.ig=this.Gg=this.Id=
this.Qd=this.Pd=this.Xn=this.Wn=this.Vn=this.kt=this.jt=this.it=this.Nj=this.Mj=this.Lj=0;this.zx=0!==this.u[0];var a=0<this.b.Mb?document:this.b.canvas,b=document;this.b.Xd?b=a=window.Canvas:this.b.zc&&(b=a=window);var c=this;"undefined"!==typeof PointerEvent?(a.addEventListener("pointerdown",function(a){c.Up(a)},!1),a.addEventListener("pointermove",function(a){c.Tp(a)},!1),b.addEventListener("pointerup",function(a){c.Jj(a,!1)},!1),b.addEventListener("pointercancel",function(a){c.Jj(a,!0)},!1),this.b.canvas&&
(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.b.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Up(a)},!1),a.addEventListener("MSPointerMove",function(a){c.Tp(a)},!1),b.addEventListener("MSPointerUp",
function(a){c.Jj(a,!1)},!1),b.addEventListener("MSPointerCancel",function(a){c.Jj(a,!0)},!1),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(a.addEventListener("touchstart",function(a){c.Wp(a)},!1),a.addEventListener("touchmove",function(a){c.Vp(a)},!1),b.addEventListener("touchend",function(a){c.zm(a,!1)},!1),b.addEventListener("touchcancel",function(a){c.zm(a,!0)},
!1));if(this.cw){var e=function(a){a=a.reading;c.Vn=a.accelerationX;c.Wn=a.accelerationY;c.Xn=a.accelerationZ},f=function(a){a=a.reading;c.Lj=a.yawDegrees;c.Mj=a.pitchDegrees;c.Nj=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",
function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",e),k&&k.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),k&&k.addEventListener("readingchanged",f))},!1)}else window.addEventListener("deviceorientation",function(a){c.Lj=a.alpha||0;c.Mj=a.beta||0;c.Nj=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.it=a.accelerationIncludingGravity.x||0,c.jt=a.accelerationIncludingGravity.y||
0,c.kt=a.accelerationIncludingGravity.z||0);a.acceleration&&(c.Vn=a.acceleration.x||0,c.Wn=a.acceleration.y||0,c.Xn=a.acceleration.z||0)},!1);this.zx&&!this.b.Ua&&(jQuery(document).mousemove(function(a){c.yw(a)}),jQuery(document).mousedown(function(a){c.xw(a)}),jQuery(document).mouseup(function(a){c.zw(a)}));!this.b.qj&&this.b.Ac&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(d,null,{frequency:40});this.b.vx(this)};a.Tp=function(a){if(a.pointerType!==
a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.$g(a.pointerId),c=Ua();if(0<=b){var d=this.b.Ua?e:jQuery(this.b.canvas).offset(),b=this.touches[b];2>c-b.time||b.update(c,a.pageX-d.left,a.pageY-d.top,a.width||0,a.height||0,a.pressure||0)}}};a.Up=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&gb(a)&&a.preventDefault();var b=this.b.Ua?e:jQuery(this.b.canvas).offset(),c=a.pageX-b.left,b=a.pageY-b.top;Ua();
this.Id=this.touches.length;this.Gg=a.pointerId;this.touches.push(m(c,b,a.pointerId,this.Id));this.b.Ie=!0;this.b.trigger(Z.prototype.k.Mn,this);this.b.trigger(Z.prototype.k.Rn,this);this.Pd=c;this.Qd=b;this.b.trigger(Z.prototype.k.Kk,this);this.b.Ie=!1}};a.Jj=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&gb(a)&&a.preventDefault();var c=this.$g(a.pointerId);this.Id=0<=c?this.touches[c].bi:-1;this.Gg=0<=c?this.touches[c].id:-1;this.b.Ie=!0;this.b.trigger(Z.prototype.k.Ln,
this);this.b.trigger(Z.prototype.k.Qn,this);0<=c&&(b||this.touches[c].Gp(this,c),100>u.length&&u.push(this.touches[c]),this.touches.splice(c,1));this.b.Ie=!1}};a.Vp=function(a){a.preventDefault&&a.preventDefault();var b=Ua(),c,d,f,g;c=0;for(d=a.changedTouches.length;c<d;c++)if(f=a.changedTouches[c],g=this.$g(f.identifier),0<=g){var k=this.b.Ua?e:jQuery(this.b.canvas).offset();g=this.touches[g];2>b-g.time||g.update(b,f.pageX-k.left,f.pageY-k.top,2*(f.Sy||f.Zy||f.Ky||f.Ny||0),2*(f.Ty||f.$y||f.Ly||f.Oy||
0),f.Cy||f.Yy||f.Jy||f.My||0)}};a.Wp=function(a){a.preventDefault&&gb(a)&&a.preventDefault();var b=this.b.Ua?e:jQuery(this.b.canvas).offset();Ua();this.b.Ie=!0;var c,d,f,g;c=0;for(d=a.changedTouches.length;c<d;c++)if(f=a.changedTouches[c],g=this.$g(f.identifier),-1===g){g=f.pageX-b.left;var k=f.pageY-b.top;this.Id=this.touches.length;this.Gg=f.identifier;this.touches.push(m(g,k,f.identifier,this.Id));this.b.trigger(Z.prototype.k.Mn,this);this.b.trigger(Z.prototype.k.Rn,this);this.Pd=g;this.Qd=k;this.b.trigger(Z.prototype.k.Kk,
this)}this.b.Ie=!1};a.zm=function(a,b){a.preventDefault&&gb(a)&&a.preventDefault();this.b.Ie=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.$g(e.identifier),0<=e&&(this.Id=this.touches[e].bi,this.Gg=this.touches[e].id,this.b.trigger(Z.prototype.k.Ln,this),this.b.trigger(Z.prototype.k.Qn,this),b||this.touches[e].Gp(this,e),100>u.length&&u.push(this.touches[e]),this.touches.splice(e,1));this.b.Ie=!1};a.lf=function(){return this.b.Ac&&0===this.Lj&&0!==g?90*g:this.Lj};
a.Pv=function(){return this.b.Ac&&0===this.Mj&&0!==c?90*c:this.Mj};a.gw=function(){return this.b.Ac&&0===this.Nj&&0!==f?90*f:this.Nj};a.xw=function(a){p(a)||(this.Wp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),this.vm=!0)};a.yw=function(a){this.vm&&!p(a)&&this.Vp({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};a.zw=function(a){a.preventDefault&&this.b.Mo&&!this.b.Zd&&a.preventDefault();this.b.Mo=!0;p(a)||(this.zm({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]}),
this.vm=!1)};a.rk=function(){var a,b,c,d=Ua();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.hm=d),c.pw(this,a)};t.prototype.Rn=function(){return!0};t.prototype.Qn=function(){return!0};t.prototype.Kk=function(a){return a?this.b.nk(a,this.Pd,this.Qd):!1};t.prototype.Mn=function(a){a=Math.floor(a);return a===this.Id};t.prototype.Ln=function(a){a=Math.floor(a);return a===this.Id};t.prototype.vs=function(){return!0};t.prototype.Gs=function(){return!0};t.prototype.qs=function(){return!0};
t.prototype.ws=function(a){return a?this.b.nk(a,this.Pd,this.Qd):!1};t.prototype.Hs=function(a){return a?this.b.nk(a,this.Pd,this.Qd):!1};t.prototype.ss=function(a){return a?this.b.nk(a,this.Pd,this.Qd):!1};b.k=new t;r.prototype.Mk=function(a,b){var c=this.ig;if(0>c||c>=this.touches.length)a.C(0);else{var d,e,f,g,k;ja(b)?(d=this.b.dh(0),e=d.scale,f=d.td,g=d.Fc,k=d.n,d.scale=1,d.td=1,d.Fc=1,d.n=0,a.C(d.Cb(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.td=f,d.Fc=g,d.n=k):(d=ka(b)?this.b.dh(b):
this.b.Fl(b))?a.C(d.Cb(this.touches[c].x,this.touches[c].y,!0)):a.C(0)}};r.prototype.Nk=function(a,b){var c=this.ig;if(0>c||c>=this.touches.length)a.C(0);else{var d,e,f,g,k;ja(b)?(d=this.b.dh(0),e=d.scale,f=d.td,g=d.Gc,k=d.n,d.scale=1,d.td=1,d.Gc=1,d.n=0,a.C(d.Cb(this.touches[c].x,this.touches[c].y,!1)),d.scale=e,d.td=f,d.Gc=g,d.n=k):(d=ka(b)?this.b.dh(b):this.b.Fl(b))?a.C(d.Cb(this.touches[c].x,this.touches[c].y,!1)):a.C(0)}};b.q=new r})();
Math.sign=Math.sign||function(d){d=+d;return 0===d||isNaN(d)?Number(d):0<d?1:-1};function oc(d){this.b=d}
(function(){function d(){this.oa=this.ta=this.qi=this.pi=this.rd=this.qd=0;this.nf=new S(0,0,0,0);this.Hb=0;this.Ee=!1;this.ij=this.hj=0;this.uid=-1;this.Se=0}function m(a,b){var c=1/a.ta,d=1/a.oa,e=Math.sign(c),f=Math.sign(d),g=(b.left+b.right)/2,k=(b.top+b.bottom)/2,p=(b.right-b.left)/2+0,m=(b.bottom-b.top)/2+0,t=(g-e*p-a.qd)*c,r=(k-f*m-a.rd)*d,c=(g+e*p-a.qd)*c,d=(k+f*m-a.rd)*d;if(t>d||r>c)return!1;k=t>r?t:r;if(k>=a.Hb||0>=(c<d?c:d))return!1;a.Hb=Math.max(k,0);a.Ee=!0;a.Se=t>r?Math.atan2(0,-e):
Math.atan2(-f,0);return!0}function k(a,b,c,d,e,f,g,k){g=g-e;k=k-f;c=k*(c-a)-g*(d-b);return 0===c?0:((e-a)*k+(b-f)*g)/c}function p(a,b,c,d){var e=b.na;if(b.Ia(a.qd-c,a.rd-d))return a.Hb=0,a.Ee=!0,a.Se=Math.atan2(-a.oa,-a.ta),!0;var f,g,p,m,t,r,q=!1;f=0;for(b=b.Fb;f<b;f++)g=2*f,p=(f+1)%b*2,m=e[g]+c,g=e[g+1]+d,t=e[p]+c,r=e[p+1]+d,ta(a.qd,a.rd,a.pi,a.qi,m,g,t,r)&&(p=k(a.qd,a.rd,a.pi,a.qi,m,g,t,r),p<a.Hb&&(q=!0,a.Hb=p,a.Ee=!0,a.Se=0===(0<=(g-a.rd)*(t-m)-(m-a.qd)*(r-g)?0:1)?Math.atan2(m-t,r-g):Math.atan2(t-
m,g-r)));return q}function t(a,b){if(b&&b.Uc&&(b.Y(),b.da.Tl(a.nf))){var c=!1;if(b.ef){b.Al(a.nf,g);var d,e,f,t=b.x,r=b.y,q=!1,c=0;for(d=g.length;c<d;++c)e=g[c],f=e.fa,a.nf.Ul(f,t,r)&&(u.qf(f),u.offset(t,r),e.uc?p(a,e.uc,u.left,u.top)&&(q=!0):m(a,u)&&(q=!0));T(g);c=q}else if(b.S&&!b.S.Je())c=b.S,c.Nd(b.width,b.height,b.n),c=p(a,c,b.x,b.y);else if(0===b.n)c=m(a,b.da);else if(c=b.hb,d=!1,c.Ia(a.qd,a.rd))a.Hb=0,a.Ee=!0,a.Se=Math.atan2(-a.oa,-a.ta),c=!0;else{var D;for(e=0;4>e;e++)t=c.Qa(e,!0),r=c.Qa(e,
!1),q=c.Qa(e+1,!0),D=c.Qa(e+1,!1),ta(a.qd,a.rd,a.pi,a.qi,t,r,q,D)&&(f=k(a.qd,a.rd,a.pi,a.qi,t,r,q,D),f<a.Hb&&(d=!0,a.Hb=f,a.Ee=!0,a.Se=Math.atan2(t-q,D-r)));c=d}c&&(a.uid=b.uid)}}function r(){}function b(){}function a(){}var e=oc.prototype;e.ca=function(a){this.qa=a;this.b=a.b};e.ca.prototype.H=function(){this.dd=[]};e.P=function(a){this.type=a;this.b=a.b};var f=e.P.prototype,c=d.prototype;c.or=function(a){this.hj=this.qd+this.ta*this.Hb;this.ij=this.rd+this.oa*this.Hb;if(0!==a){var b=Math.atan2(-this.oa,
-this.ta);this.hj+=Math.cos(b)*a;this.ij+=Math.sin(b)*a}};c.lf=function(){return 2*this.Se-Math.atan2(-this.oa,-this.ta)};var g=[],u=new S(0,0,0,0);f.H=function(){this.Ij=this.u[0];this.gf=0!==this.u[1];this.padding=Fa(this.u[2],0,1);this.vk=new d};f.Dc=function(){};f.Oa=function(){return{}};f.fb=function(){};var q=[];f.Sr=function(){var a=this.vk,b;if(0===this.Ij)this.gf?this.b.Jl(null,a.nf,q):(a=this.b.ik)&&Ca(q,a.Kh.Jd());else if(this.gf)this.b.fh(null,this.type.dd,a.nf,q);else for(a=0,b=this.type.dd.length;a<
b;++a)Ca(q,this.type.dd[a].i)};r.prototype.Vr=function(){return this.vk.Ee};e.k=new r;b.prototype.dt=function(a,b,c,d){var e=this.vk;e.qd=a;e.rd=b;e.pi=c;e.qi=d;e.ta=c-a;e.oa=d-b;e.nf.set(a,b,c,d);e.nf.normalize();e.Hb=1;e.Ee=!1;var f;this.Sr();if(0===this.Ij)for(a=0,b=q.length;a<b;++a)f=q[a],f.L.solidEnabled&&t(e,f);else for(a=0,b=q.length;a<b;++a)f=q[a],t(e,f);T(q);e.Ee?e.or(this.padding):(e.hj=c,e.ij=d,e.uid=-1,e.Se=Math.atan2(-e.oa,-e.ta))};e.D=new b;a.prototype.hs=function(a){a.C(Ga(this.vk.Se))};
e.q=new a})();function pc(d){this.b=d}
(function(){var d=pc.prototype;d.ca=function(d){this.behavior=d;this.b=d.b};d.ca.prototype.H=function(){};d.P=function(d,p){this.type=d;this.behavior=d.behavior;this.j=p;this.b=d.b};var m=d.P.prototype;m.H=function(){this.ao=this.u[0];this.bo=this.u[1];this.ut=this.u[2];this.tt=this.u[3];this.j.Y();this.wn=this.j.da.left;this.zn=this.j.da.top;this.xn=this.b.Fa-this.j.da.left;this.yn=this.b.Ea-this.j.da.top;this.Km=this.b.Fa-this.j.da.right;this.Tk=this.b.Ea-this.j.da.bottom;this.enabled=0!==this.u[4]};
m.Oa=function(){return{xleft:this.wn,ytop:this.zn,xright:this.xn,ybottom:this.yn,rdiff:this.Km,bdiff:this.Tk,enabled:this.enabled}};m.fb=function(d){this.wn=d.xleft;this.zn=d.ytop;this.xn=d.xright;this.yn=d.ybottom;this.Km=d.rdiff;this.Tk=d.bdiff;this.enabled=d.enabled};m.ic=function(){if(this.enabled){var d,p=this.j.m,m=this.j,r=this.j.da;0===this.ao?(m.Y(),d=p.ia+this.wn-r.left,0!==d&&(m.x+=d,m.O())):1===this.ao&&(m.Y(),d=p.ma-this.xn-r.left,0!==d&&(m.x+=d,m.O()));0===this.bo?(m.Y(),d=p.ja+this.zn-
r.top,0!==d&&(m.y+=d,m.O())):1===this.bo&&(m.Y(),d=p.la-this.yn-r.top,0!==d&&(m.y+=d,m.O()));1===this.ut&&(m.Y(),d=p.ma-this.Km-r.right,0!==d&&(m.width+=d,0>m.width&&(m.width=0),m.O()));1===this.tt&&(m.Y(),d=p.la-this.Tk-r.bottom,0!==d&&(m.height+=d,0>m.height&&(m.height=0),m.O()))}};d.k=new function(){};d.D=new function(){};d.q=new function(){}})();function qc(d){this.b=d}
(function(){function d(){}var m=qc.prototype;m.ca=function(d){this.behavior=d;this.b=d.b};m.ca.prototype.H=function(){};m.P=function(d,k){this.type=d;this.behavior=d.behavior;this.j=k;this.b=d.b};var k=m.P.prototype;k.H=function(){var d=this.u[0];this.vi=this.u[1];this.cj=this.u[2];this.Bt=0!==this.u[3];this.Vm=0!==this.u[4];this.ta=Math.cos(this.j.n)*d;this.oa=Math.sin(this.j.n)*d;this.Ff=this.j.x;this.Gf=this.j.y;this.og=this.j.n;this.wk=0;this.enabled=0!==this.u[5]};k.Oa=function(){return{acc:this.vi,
g:this.cj,dx:this.ta,dy:this.oa,lx:this.Ff,ly:this.Gf,lka:this.og,t:this.wk,e:this.enabled}};k.fb=function(d){this.vi=d.acc;this.cj=d.g;this.ta=d.dx;this.oa=d.dy;this.Ff=d.lx;this.Gf=d.ly;this.og=d.lka;this.wk=d.t;this.enabled=d.e};k.ic=function(){if(this.enabled){var d=this.b.gg(this.j),k,m;this.j.n!==this.og&&(this.Vm&&(k=Pa(0,0,this.ta,this.oa),this.ta=Math.cos(this.j.n)*k,this.oa=Math.sin(this.j.n)*k),this.og=this.j.n);0!==this.vi&&(k=Pa(0,0,this.ta,this.oa),m=0===this.ta&&0===this.oa?this.j.n:
La(0,0,this.ta,this.oa),k+=this.vi*d,0>k&&(k=0),this.ta=Math.cos(m)*k,this.oa=Math.sin(m)*k);0!==this.cj&&(this.oa+=this.cj*d);this.Ff=this.j.x;this.Gf=this.j.y;if(0!==this.ta||0!==this.oa)if(this.j.x+=this.ta*d,this.j.y+=this.oa*d,this.wk+=Pa(0,0,this.ta*d,this.oa*d),this.Vm&&(this.j.n=La(0,0,this.ta,this.oa),this.j.O(),this.og=this.j.n),this.j.O(),this.Bt&&(k=this.b.Sf(this.j)))this.b.Ww(this.j,k),k=Pa(0,0,this.ta,this.oa),m=this.b.Dt(this.j,this.Ff,this.Gf),this.ta=Math.cos(m)*k,this.oa=Math.sin(m)*
k,this.j.x+=this.ta*d,this.j.y+=this.oa*d,this.j.O(),this.Vm&&(this.og=this.j.n=m,this.j.O()),this.b.Sw(this.j,this.ta/k,this.oa/k,Math.max(2.5*k*d,30))||this.b.Tw(this.j)}};m.k=new function(){};d.prototype.Rs=function(d){var k=La(0,0,this.ta,this.oa);this.ta=Math.cos(k)*d;this.oa=Math.sin(k)*d};m.D=new d;m.q=new function(){}})();function rc(d){this.b=d}
(function(){function d(){}function m(){}var k=rc.prototype;k.ca=function(d){this.behavior=d;this.b=d.b};k.ca.prototype.H=function(){};k.P=function(d,k){this.type=d;this.behavior=d.behavior;this.j=k;this.b=d.b};var p=k.P.prototype;p.H=function(){this.Ok=1===this.u[0];this.rq=!1;this.Yg=this.u[1];this.ni=this.u[2];this.Ui=this.u[3];this.Nt=this.u[4];this.hc=this.Ok?0:3;this.xb?this.Jc.reset():this.Jc=new Ya;this.Qe=this.j.opacity?this.j.opacity:1;this.Ok&&(0===this.Yg?(this.hc=1,0===this.ni&&(this.hc=
2)):(this.j.opacity=0,this.b.aa=!0))};p.Oa=function(){return{fit:this.Yg,wt:this.ni,fot:this.Ui,s:this.hc,st:this.Jc.U,mo:this.Qe}};p.fb=function(d){this.Yg=d.fit;this.ni=d.wt;this.Ui=d.fot;this.hc=d.s;this.Jc.reset();this.Jc.U=d.st;this.Qe=d.mo};p.ic=function(){this.Jc.add(this.b.gg(this.j));0===this.hc&&(this.j.opacity=this.Jc.U/this.Yg*this.Qe,this.b.aa=!0,this.j.opacity>=this.Qe&&(this.j.opacity=this.Qe,this.hc=1,this.Jc.reset(),this.b.trigger(rc.prototype.k.ts,this.j)));1===this.hc&&this.Jc.U>=
this.ni&&(this.hc=2,this.Jc.reset(),this.b.trigger(rc.prototype.k.Js,this.j));2===this.hc&&0!==this.Ui&&(this.j.opacity=this.Qe-this.Jc.U/this.Ui*this.Qe,this.b.aa=!0,0>this.j.opacity&&(this.j.opacity=0,this.hc=3,this.Jc.reset(),this.b.trigger(rc.prototype.k.us,this.j),1===this.Nt&&this.b.hf(this.j)))};p.fu=function(){this.hc=0;this.Jc.reset();0===this.Yg?(this.hc=1,0===this.ni&&(this.hc=2)):(this.j.opacity=0,this.b.aa=!0)};d.prototype.us=function(){return!0};d.prototype.ts=function(){return!0};d.prototype.Js=
function(){return!0};k.k=new d;m.prototype.Ys=function(){this.Ok||this.rq||(this.Qe=this.j.opacity?this.j.opacity:1,this.rq=!0);3===this.hc&&this.fu()};k.D=new m;k.q=new function(){}})();function sc(d){this.b=d}
(function(){function d(){}var m=sc.prototype;m.ca=function(d){this.behavior=d;this.b=d.b};var k=m.ca.prototype;k.H=function(){this.dd=[]};k.lf=function(d){var b,a,e;b=0;for(a=d.Q.length;b<a;++b)if(e=d.Q[b],e instanceof sc.prototype.P&&e.type===this)return e;return null};m.P=function(d,b){this.type=d;this.behavior=d.behavior;this.j=b;this.b=d.b};k=m.P.prototype;k.H=function(){this.Ij=this.u[0];this.nb=this.u[1];this.dl=U(this.u[2]);this.gf=0!==this.u[3]};k.Dc=function(){};k.Oa=function(){var d={r:this.nb,
c:this.dl,t:[]},b,a;b=0;for(a=this.type.dd.length;b<a;b++)d.t.push(this.type.dd[b].X);return d};k.fb=function(d){this.nb=d.r;this.dl=d.c;T(this.type.dd);var b,a,e;b=0;for(a=d.t.length;b<a;b++)(e=this.b.hg(d.t[b]))&&this.type.dd.push(e)};k.ic=function(){};var p=[],t=new S(0,0,0,0);k.Ov=function(d,b){var a=this.j.x,e=this.j.y,f=this.j.n;0>this.j.width&&(f+=Math.PI);if(Pa(a,e,d,b)>this.nb||Ma(f,La(a,e,d,b))>this.dl/2)return!1;var c,g;t.set(a,e,d,b);t.normalize();if(0===this.Ij)for(this.gf?this.b.Jl(this.j.m,
t,p):(f=this.b.ik)&&Ca(p,f.Kh.Jd()),f=0,c=p.length;f<c;++f){if(g=p[f],g.L.solidEnabled&&g!==this.j&&this.b.Dq(a,e,d,b,g))return T(p),!1}else{if(this.gf)this.b.fh(this.j.m,this.type.dd,t,p);else for(f=0,c=this.type.dd.length;f<c;++f)Ca(p,this.type.dd[f].i);f=0;for(c=p.length;f<c;++f)if(g=p[f],g!==this.j&&this.b.Dq(a,e,d,b,g))return T(p),!1}T(p);return!0};new ga;new ga;d.prototype.Tr=function(d,b){return this.Ov(d,b)};m.k=new d;m.D=new function(){};m.q=new function(){}})();function tc(d){this.b=d}
(function(){var d=tc.prototype;d.ca=function(d){this.behavior=d;this.b=d.b};d.ca.prototype.H=function(){};d.P=function(d,m){this.type=d;this.behavior=d.behavior;this.j=m;this.b=d.b};var m=d.P.prototype;m.H=function(){this.Wb={}};m.Dc=function(){Ta(this.Wb)};m.Oa=function(){var d={},m,t;for(m in this.Wb)this.Wb.hasOwnProperty(m)&&(t=this.Wb[m],d[m]={c:t.current.U,t:t.total.U,d:t.duration,r:t.iq});return d};m.fb=function(d){this.Wb={};for(var m in d)d.hasOwnProperty(m)&&(this.Wb[m]={current:new Ya,
total:new Ya,duration:d[m].d,iq:d[m].r},this.Wb[m].current.U=d[m].c,this.Wb[m].total.U=d[m].t)};m.ic=function(){var d=this.b.gg(this.j),m,t;for(m in this.Wb)this.Wb.hasOwnProperty(m)&&(t=this.Wb[m],t.current.add(d),t.total.add(d))};m.rk=function(){var d,m;for(d in this.Wb)this.Wb.hasOwnProperty(d)&&(m=this.Wb[d],m.current.U>=m.duration&&(m.iq?m.current.U-=m.duration:delete this.Wb[d]))};d.k=new function(){};d.D=new function(){};d.q=new function(){}})();function uc(d){this.b=d}
(function(){function d(){}function m(){}var k=uc.prototype;k.ca=function(b){this.behavior=b;this.b=b.b};k.ca.prototype.H=function(){this.ld=[]};k.P=function(b,a){this.type=b;this.behavior=b.behavior;this.j=a;this.b=b.b};var p=k.P.prototype;p.H=function(){this.nb=this.u[0];this.Ve=this.u[1];this.Xj=0!==this.u[2];this.Om=U(this.u[3]);this.mk=this.u[4];this.Qj=0!==this.u[5];this.Gm=this.u[6];this.enabled=0!==this.u[7];this.gf=0!==this.u[8];this.rj=0;this.Yc=this.Ve;this.currentTarget=null;this.lm=-1;
this.Nf=this.Mf=0;this.pg=[0,0,0,0];this.kd=0;this.ah=!0;var b=this;this.xb||(this.Lp=function(a){b.ww(a)});this.b.Zn(this.Lp)};p.Oa=function(){var b={r:this.nb,rof:this.Ve,re:this.Xj,rs:this.Om,tm:this.mk,pa:this.Qj,ps:this.Gm,en:this.enabled,lct:this.rj,ftc:this.Yc,target:this.currentTarget?this.currentTarget.uid:-1,ox:this.Mf,oy:this.Nf,ls:this.pg,sc:this.kd,targs:[]},a,d;a=0;for(d=this.type.ld.length;a<d;a++)b.targs.push(this.type.ld[a].X);return b};p.fb=function(b){this.nb=b.r;this.Ve=b.rof;
this.Xj=b.re;this.Om=b.rs;this.mk=b.tm;this.Qj=b.pa;this.Gm=b.ps;this.enabled=b.en;this.rj=b.lct;this.Yc=b.ftc||0;this.lm=b.target;this.Mf=b.ox;this.Nf=b.oy;this.pg=b.ls;this.kd=b.sc;T(this.type.ld);var a,d,f;a=0;for(d=b.targs.length;a<d;a++)(f=this.b.hg(b.targs[a]))&&this.type.ld.push(f)};p.Kd=function(){-1===this.lm?this.currentTarget=null:this.currentTarget=this.b.Gl(this.lm)};p.ww=function(b){this.currentTarget==b&&(this.currentTarget=null)};p.Dc=function(){this.currentTarget=null;this.b.Xw(this.Lp)};
p.nt=function(b){4>this.kd?(this.pg[this.kd]=b,this.kd++):(this.pg.shift(),this.pg.push(b))};p.vv=function(){for(var b=0,a=0;a<this.kd;a++)b+=this.pg[a];return b/this.kd};p.Yo=function(b){var a=this.j,d=b.x-a.x;b=b.y-a.y;return d*d+b*b<=this.nb*this.nb};var t=new S(0,0,0,0),r=[];p.kw=function(){var b,a,d;t.left=this.j.x-this.nb;t.top=this.j.y-this.nb;t.right=this.j.x+this.nb;t.bottom=this.j.y+this.nb;if(this.gf)this.b.fh(null,this.type.ld,t,r);else for(b=0,a=this.type.ld.length;b<a;++b)Ca(r,this.type.ld[b].i);
b=0;for(a=r.length;b<a;++b)if(d=r[b],this.Yo(d)){this.currentTarget=d;T(r);return}T(r)};p.lw=function(){var b,a,d,f,c,g=this.j.x,k=this.j.y,m=this.nb*this.nb;this.currentTarget=null;t.left=g-this.nb;t.top=k-this.nb;t.right=g+this.nb;t.bottom=k+this.nb;if(this.gf)this.b.fh(null,this.type.ld,t,r);else for(b=0,a=this.type.ld.length;b<a;++b)Ca(r,this.type.ld[b].i);b=0;for(a=r.length;b<a;++b)d=r[b],f=g-d.x,c=k-d.y,f=f*f+c*c,f<m&&(this.currentTarget=d,m=f);r.length=0};p.ic=function(){var b=this.b.gg(this.j),
a=this.b.Qb.U,d=this.j;if(this.enabled){this.currentTarget&&!this.Yo(this.currentTarget)&&(this.currentTarget=null,this.kd=0,this.ah=!0);a>=this.rj+.1&&((this.rj=a,0!==this.mk||this.currentTarget)?1===this.mk&&(a=this.currentTarget,this.lw(),this.currentTarget&&this.currentTarget!==a&&(this.kd=0,this.ah=!0,this.Mf=this.currentTarget.x,this.Nf=this.currentTarget.y,this.b.trigger(uc.prototype.k.Pn,this.j))):(this.kw(),this.currentTarget&&(this.kd=0,this.ah=!0,this.Mf=this.currentTarget.x,this.Nf=this.currentTarget.y,
this.b.trigger(uc.prototype.k.Pn,this.j))));this.Yc+=b;if(this.currentTarget){a=La(d.x,d.y,this.currentTarget.x,this.currentTarget.y);if(this.Qj){var f=d.x,c=d.y,g=this.currentTarget.x,k=this.currentTarget.y,m=La(g,k,this.Mf,this.Nf);this.ah||this.nt(Pa(g,k,this.Mf,this.Nf)/b);var p=this.vv(),r=k-c,n=g-f,f=(p*Math.sin(m)*(f-g)-p*Math.cos(m)*(c-k))/this.Gm,r=Math.asin(f/Math.sqrt(r*r+n*n))-Math.atan2(r,-n)+Math.PI;isNaN(r)||(a=r)}this.Xj&&(d.n=Na(d.n,a,this.Om*b),d.O());this.Yc>=this.Ve&&(!this.Xj||
.1>=Ga(Ma(d.n,a)))&&(!this.Qj||4<=this.kd)&&(this.Yc-=this.Ve,this.Yc>=this.Ve&&(this.Yc=0),this.b.trigger(uc.prototype.k.On,this.j));this.currentTarget&&(this.Mf=this.currentTarget.x,this.Nf=this.currentTarget.y);this.ah=!1}this.Yc>this.Ve&&(this.Yc=this.Ve)}};d.prototype.Ur=function(){return!!this.currentTarget};d.prototype.On=function(){return!0};d.prototype.Pn=function(){return!0};k.k=new d;m.prototype.er=function(b){var a=this.type.ld;if(-1===a.indexOf(b)){var d,f,c;d=0;for(f=a.length;d<f;d++)if(c=
a[d],c.G&&-1!==c.Re.indexOf(b))return;a.push(b)}};k.D=new m;k.q=new function(){}})();function hc(d){this.b=d}(function(){var d=hc.prototype;d.ca=function(d){this.behavior=d;this.b=d.b};d.ca.prototype.H=function(){};d.P=function(d,m){this.type=d;this.behavior=d.behavior;this.j=m;this.b=d.b};var m=d.P.prototype;m.H=function(){this.j.L.solidEnabled=0!==this.u[0]};m.ic=function(){};d.k=new function(){};d.D=new function(){}})();
function gc(){return[jc,Y,ic,oc,kc,nc,X,lc,Z,mc,pc,tc,hc,sc,uc,qc,rc,V.prototype.k.In,kc.prototype.D.Rr,X.prototype.D.Cn,mc.prototype.D.Cn,mc.prototype.D.Sn,V.prototype.q.Ex,V.prototype.q.Dx,V.prototype.k.bs,V.prototype.D.Ps,kc.prototype.k.Gn,jc.prototype.k.ir,jc.prototype.D.Xs,jc.prototype.q.Kr,jc.prototype.q.Lr,kc.prototype.q.Yf,V.prototype.q["int"],jc.prototype.k.ur,nc.prototype.D.Ts,jc.prototype.q.jr,kc.prototype.k.Qr,V.prototype.D.Cr,kc.prototype.q.Hr,kc.prototype.q.Jr,kc.prototype.q.Ir,kc.prototype.q.Fr,
mc.prototype.D.gs,V.prototype.k.tr,kc.prototype.q.Gr,V.prototype.D.Ms,X.prototype.q.Mk,X.prototype.q.Nk,V.prototype.D.Us,uc.prototype.D.er,X.prototype.D.ht,kc.prototype.q.Dr,kc.prototype.q.Er,V.prototype.D.et,rc.prototype.D.Ys,V.prototype.k.as,V.prototype.k.Or,X.prototype.D.Qs,X.prototype.D.Ns,X.prototype.q.gr,X.prototype.q.Br,X.prototype.k.cs,V.prototype.q.hw,V.prototype.q.kx,V.prototype.q.Ht,mc.prototype.q.lr,mc.prototype.q.Un,mc.prototype.q.mr,V.prototype.q.tf,V.prototype.q.mx,mc.prototype.q.nr,
mc.prototype.q.Fn,mc.prototype.q.kr,V.prototype.k.Dn,V.prototype.q.cos,V.prototype.q.sin,V.prototype.k.yr,uc.prototype.k.Ur,V.prototype.q.xt,X.prototype.k.xr,sc.prototype.k.Tr,Z.prototype.q.Mk,Z.prototype.q.Nk,X.prototype.D.Os,V.prototype.q.n,V.prototype.k.Nr,V.prototype.D.fr,V.prototype.k.Pr,oc.prototype.D.dt,V.prototype.q.mw,oc.prototype.k.Vr,V.prototype.D.Zs,oc.prototype.q.hs,lc.prototype.D.Ss,X.prototype.k.ns,Z.prototype.k.Kk,Y.prototype.k.bt,Y.prototype.k.$r,Y.prototype.D.qr,Y.prototype.D.Ks,
V.prototype.q.aj,uc.prototype.k.On,X.prototype.q.Wr,X.prototype.q.Xr,X.prototype.D.$s,qc.prototype.D.Rs,V.prototype.D.Ls]};
