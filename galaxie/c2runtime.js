// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var aa,ca,da,ea,y,fa,ga,ha,F,ja,ka,M,la,oa,Q,pa,qa,R,ra,sa,ta,ua,T,va,wa,ya,za,Aa,U,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,V,Sb,Tb={},Ub={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});
(function(){function e(a,b,d,t){this.set(a,b,d,t)}function m(){this.ib=this.hb=this.kb=this.jb=this.wb=this.ub=this.Ua=this.Ta=0}function n(a,b,d,t){a<b?d<t?(v=a<d?a:d,w=b>t?b:t):(v=a<t?a:t,w=b>d?b:d):d<t?(v=b<d?b:d,w=a>t?a:t):(v=b<t?b:t,w=a>d?a:d)}function p(){this.items=this.yc=null;this.Bf=0;W&&(this.yc=new Set);this.We=[];this.fd=!0}function u(a){P[S++]=a}function r(){this.ha=this.wh=this.y=this.Oh=0}function c(a){this.za=[];this.mg=this.og=this.pg=this.ng=0;this.Xf(a)}function b(a,b){this.Sh=
a;this.Rh=b;this.cells={}}function h(a,b){this.Sh=a;this.Rh=b;this.cells={}}function f(a,b,d){var t;return I.length?(t=I.pop(),t.wi=a,t.x=b,t.y=d,t):new ca(a,b,d)}function a(a,b,d){this.wi=a;this.x=b;this.y=d;this.Fa=new da}function d(a,b,d){var t;return z.length?(t=z.pop(),t.wi=a,t.x=b,t.y=d,t):new ea(a,b,d)}function l(a,b,d){this.wi=a;this.x=b;this.y=d;this.Fa=[];this.Fe=!0;this.wc=new da;this.$e=!1}function g(a,b){return a.pc-b.pc}y=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};aa=function(a){return a};ga=function(a){return"undefined"===typeof a};ha=function(a){return"number"===typeof a};F=function(a){return"string"===typeof a};ja=function(a){return 0<a&&0===(a-1&a)};ka=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};M=function(a){return 0>a?-a:a};la=function(a,b){return a<b?a:b};oa=Math.PI;Q=function(a){return 0<=a?a|0:(a|0)-1};pa=function(a){var b=a|0;return b===a?b:b+1};qa=function(a,
b,d,t,x,E,g,f){var l,k,c,h;a<d?(k=a,l=d):(k=d,l=a);x<g?(h=x,c=g):(h=g,c=x);if(l<h||k>c)return!1;b<t?(k=b,l=t):(k=t,l=b);E<f?(h=E,c=f):(h=f,c=E);if(l<h||k>c)return!1;l=x-a+g-d;k=E-b+f-t;a=d-a;b=t-b;x=g-x;E=f-E;f=M(b*x-E*a);return M(x*k-E*l)>f?!1:M(a*k-b*l)<=f};e.prototype.set=function(a,b,d,t){this.left=a;this.top=b;this.right=d;this.bottom=t};e.prototype.ef=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};e.prototype.width=function(){return this.right-this.left};
e.prototype.height=function(){return this.bottom-this.top};e.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};e.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};e.prototype.Nk=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};e.prototype.Ep=function(a,b,d){return!(a.right+b<
this.left||a.bottom+d<this.top||a.left+b>this.right||a.top+d>this.bottom)};e.prototype.mb=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};e.prototype.jf=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};R=e;m.prototype.Wf=function(a){this.Ta=a.left;this.Ua=a.top;this.ub=a.right;this.wb=a.top;this.jb=a.right;this.kb=a.bottom;this.hb=a.left;this.ib=a.bottom};m.prototype.mm=function(a,b){if(0===b)this.Wf(a);else{var d=
Math.sin(b),t=Math.cos(b),x=a.left*d,g=a.top*d,f=a.right*d,d=a.bottom*d,l=a.left*t,k=a.top*t,c=a.right*t,t=a.bottom*t;this.Ta=l-g;this.Ua=k+x;this.ub=c-g;this.wb=k+f;this.jb=c-d;this.kb=t+f;this.hb=l-d;this.ib=t+x}};m.prototype.offset=function(a,b){this.Ta+=a;this.Ua+=b;this.ub+=a;this.wb+=b;this.jb+=a;this.kb+=b;this.hb+=a;this.ib+=b;return this};var v=0,w=0;m.prototype.bk=function(a){n(this.Ta,this.ub,this.jb,this.hb);a.left=v;a.right=w;n(this.Ua,this.wb,this.kb,this.ib);a.top=v;a.bottom=w};m.prototype.mb=
function(a,b){var d=this.Ta,t=this.Ua,x=this.ub-d,g=this.wb-t,f=this.jb-d,l=this.kb-t,k=a-d,c=b-t,h=x*x+g*g,v=x*f+g*l,g=x*k+g*c,e=f*f+l*l,q=f*k+l*c,w=1/(h*e-v*v),x=(e*g-v*q)*w,h=(h*q-v*g)*w;if(0<=x&&0<h&&1>x+h)return!0;x=this.hb-d;g=this.ib-t;h=x*x+g*g;v=x*f+g*l;g=x*k+g*c;w=1/(h*e-v*v);x=(e*g-v*q)*w;h=(h*q-v*g)*w;return 0<=x&&0<h&&1>x+h};m.prototype.bd=function(a,b){if(b)switch(a){case 0:return this.Ta;case 1:return this.ub;case 2:return this.jb;case 3:return this.hb;case 4:return this.Ta;default:return this.Ta}else switch(a){case 0:return this.Ua;
case 1:return this.wb;case 2:return this.kb;case 3:return this.ib;case 4:return this.Ua;default:return this.Ua}};m.prototype.wl=function(){return(this.Ta+this.ub+this.jb+this.hb)/4};m.prototype.xl=function(){return(this.Ua+this.wb+this.kb+this.ib)/4};m.prototype.Mk=function(a){var b=a.wl(),d=a.xl();if(this.mb(b,d))return!0;b=this.wl();d=this.xl();if(a.mb(b,d))return!0;var t,x,g,f,l,k,h,c;for(h=0;4>h;h++)for(c=0;4>c;c++)if(b=this.bd(h,!0),d=this.bd(h,!1),t=this.bd(h+1,!0),x=this.bd(h+1,!1),g=a.bd(c,
!0),f=a.bd(c,!1),l=a.bd(c+1,!0),k=a.bd(c+1,!1),qa(b,d,t,x,g,f,l,k))return!0;return!1};ra=m;sa=function(a,b){for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);return a};ta=function(a,b){var d,t;b=Q(b);if(!(0>b||b>=a.length)){d=b;for(t=a.length-1;d<t;d++)a[d]=a[d+1];ua(a,t)}};ua=function(a,b){a.length=b};T=function(a){ua(a,0)};va=function(a,b){T(a);var d,t;d=0;for(t=b.length;d<t;++d)a[d]=b[d]};wa=function(a,b){a.push.apply(a,b)};ya=function(a,b){var d,t;d=0;for(t=a.length;d<t;++d)if(a[d]===b)return d;
return-1};za=function(a,b){var d=ya(a,b);-1!==d&&ta(a,d)};Aa=function(a,b,d){return a<b?b:a>d?d:a};U=function(a){return a/(180/oa)};Da=function(a){return 180/oa*a};Ea=function(a){a%=360;0>a&&(a+=360);return a};Fa=function(a){a%=2*oa;0>a&&(a+=2*oa);return a};Ga=function(a){return Ea(Da(a))};Ha=function(a){return Fa(U(a))};Ia=function(a,b,d,t){return Math.atan2(t-b,d-a)};Ja=function(a,b){if(a===b)return 0;var d=Math.sin(a),t=Math.cos(a),x=Math.sin(b),g=Math.cos(b),d=d*x+t*g;return 1<=d?0:-1>=d?oa:Math.acos(d)};
Ka=function(a,b,d){var t=Math.sin(a),x=Math.cos(a),g=Math.sin(b),f=Math.cos(b);return Math.acos(t*g+x*f)>d?0<x*g-t*f?Fa(a+d):Fa(a-d):Fa(b)};La=function(a,b){var d=Math.sin(a),t=Math.cos(a),x=Math.sin(b),g=Math.cos(b);return 0>=t*x-d*g};Ma=function(a,b,d,t){a=d-a;b=t-b;return Math.sqrt(a*a+b*b)};Na=function(a,b){return!a!==!b};Oa=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Pa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var L=+new Date;Qa=function(){if("undefined"!==
typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-L};var k=!1,q=k=!1,xa=!1;"undefined"!==typeof window&&(k=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),k=!k&&/safari/i.test(navigator.userAgent),q=/(iphone|ipod|ipad)/i.test(navigator.userAgent),xa=window.c2ejecta);
var W=!k&&!xa&&!q&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.Lc()?!1:W?this.yc.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(W)this.yc.has(a)||(this.yc.add(a),this.fd=!1);else{var b=a.toString(),d=this.items;d?d.hasOwnProperty(b)||(d[b]=a,this.Bf++,this.fd=!1):(this.items={},this.items[b]=a,this.Bf=1,this.fd=!1)}};p.prototype.remove=function(a){if(!this.Lc())if(W)this.yc.has(a)&&(this.yc["delete"](a),
this.fd=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Bf--,this.fd=!1)}};p.prototype.clear=function(){this.Lc()||(W?this.yc.clear():(this.items=null,this.Bf=0),T(this.We),this.fd=!0)};p.prototype.Lc=function(){return 0===this.count()};p.prototype.count=function(){return W?this.yc.size:this.Bf};var P=null,S=0;p.prototype.Gq=function(){if(!this.fd){if(W)T(this.We),P=this.We,S=0,this.yc.forEach(u),P=null,S=0;else{var a=this.We;T(a);var b,d=0,t=this.items;
if(t)for(b in t)t.hasOwnProperty(b)&&(a[d++]=t[b])}this.fd=!0}};p.prototype.Gd=function(){this.Gq();return this.We};da=p;new da;Sa=function(a,b){W?Ta(a,b.yc):Ua(a,b.Gd())};Ta=function(a,b){var d,t,x,g;t=d=0;for(x=a.length;d<x;++d)g=a[d],b.has(g)||(a[t++]=g);ua(a,t)};Ua=function(a,b){var d,t,x,g;t=d=0;for(x=a.length;d<x;++d)g=a[d],-1===ya(b,g)&&(a[t++]=g);ua(a,t)};r.prototype.add=function(a){this.y=a-this.Oh;this.wh=this.ha+this.y;this.Oh=this.wh-this.ha-this.y;this.ha=this.wh};r.prototype.reset=function(){this.ha=
this.wh=this.y=this.Oh=0};Va=r;Wa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};c.prototype.Xf=function(a){this.Tl=a;this.jc=a.length/2;this.za.length=a.length;this.rg=this.sg=-1;this.ek=0};c.prototype.De=function(){return!this.Tl.length};c.prototype.Z=function(){for(var a=this.za,b=a[0],d=b,t=a[1],x=t,g,f,l=1,k=this.jc;l<k;++l)f=2*l,g=a[f],f=a[f+1],g<b&&(b=g),g>d&&(d=g),f<t&&(t=f),f>x&&(x=f);this.ng=b;this.og=d;this.pg=t;this.mg=x};c.prototype.Wf=function(a,b,d){this.za.length=
8;this.jc=4;var t=this.za;t[0]=a.left-b;t[1]=a.top-d;t[2]=a.right-b;t[3]=a.top-d;t[4]=a.right-b;t[5]=a.bottom-d;t[6]=a.left-b;t[7]=a.bottom-d;this.sg=a.right-a.left;this.rg=a.bottom-a.top;this.Z()};c.prototype.Re=function(a,b,d,t,x){this.za.length=8;this.jc=4;var g=this.za;g[0]=a.Ta-b;g[1]=a.Ua-d;g[2]=a.ub-b;g[3]=a.wb-d;g[4]=a.jb-b;g[5]=a.kb-d;g[6]=a.hb-b;g[7]=a.ib-d;this.sg=t;this.rg=x;this.Z()};c.prototype.lm=function(a){this.jc=a.jc;va(this.za,a.za);this.ng=a.ng;this.pg-a.pg;this.og=a.og;this.mg=
a.mg};c.prototype.ve=function(a,b,d){if(this.sg!==a||this.rg!==b||this.ek!==d){this.sg=a;this.rg=b;this.ek=d;var t,g,f,l,k,h=0,c=1,v=this.Tl,e=this.za;0!==d&&(h=Math.sin(d),c=Math.cos(d));d=0;for(f=this.jc;d<f;d++)t=2*d,g=t+1,l=v[t]*a,k=v[g]*b,e[t]=l*c-k*h,e[g]=k*c+l*h;this.Z()}};c.prototype.mb=function(a,b){var d=this.za;if(a===d[0]&&b===d[1])return!0;var t,g,f,l=this.jc,k=this.ng-110,h=this.pg-101,c=this.og+131,v=this.mg+120,e,q,w=0,m=0;for(t=0;t<l;t++)g=2*t,f=(t+1)%l*2,e=d[g],g=d[g+1],q=d[f],f=
d[f+1],qa(k,h,a,b,e,g,q,f)&&w++,qa(c,v,a,b,e,g,q,f)&&m++;return 1===w%2||1===m%2};c.prototype.vf=function(a,b,d){var t=a.za,g=this.za;if(this.mb(t[0]+b,t[1]+d)||a.mb(g[0]-b,g[1]-d))return!0;var f,l,k,h,c,v,e,q,w,m,L,p;f=0;for(h=this.jc;f<h;f++)for(l=2*f,k=(f+1)%h*2,q=g[l],l=g[l+1],w=g[k],m=g[k+1],k=0,e=a.jc;k<e;k++)if(c=2*k,v=(k+1)%e*2,L=t[c]+b,c=t[c+1]+d,p=t[v]+b,v=t[v+1]+d,qa(q,l,w,m,L,c,p,v))return!0;return!1};Xa=c;b.prototype.qd=function(a,b,d){var t;t=this.cells[a];return t?(t=t[b])?t:d?(t=f(this,
a,b),this.cells[a][b]=t):null:d?(t=f(this,a,b),this.cells[a]={},this.cells[a][b]=t):null};b.prototype.Za=function(a){return Q(a/this.Sh)};b.prototype.$a=function(a){return Q(a/this.Rh)};b.prototype.update=function(a,b,d){var t,g,f,l,k;if(b)for(t=b.left,g=b.right;t<=g;++t)for(f=b.top,l=b.bottom;f<=l;++f)if(!d||!d.mb(t,f))if(k=this.qd(t,f,!1))k.remove(a),k.Lc()&&(k.Fa.clear(),1E3>I.length&&I.push(k),this.cells[t][f]=null);if(d)for(t=d.left,g=d.right;t<=g;++t)for(f=d.top,l=d.bottom;f<=l;++f)b&&b.mb(t,
f)||this.qd(t,f,!0).Ei(a)};b.prototype.Xl=function(a,b){var d,t,g,f,l,k;d=this.Za(a.left);g=this.$a(a.top);t=this.Za(a.right);for(l=this.$a(a.bottom);d<=t;++d)for(f=g;f<=l;++f)(k=this.qd(d,f,!1))&&k.dump(b)};Ya=b;h.prototype.qd=function(a,b,g){var t;t=this.cells[a];return t?(t=t[b])?t:g?(t=d(this,a,b),this.cells[a][b]=t):null:g?(t=d(this,a,b),this.cells[a]={},this.cells[a][b]=t):null};h.prototype.Za=function(a){return Q(a/this.Sh)};h.prototype.$a=function(a){return Q(a/this.Rh)};h.prototype.update=
function(a,b,d){var t,g,f,l,k;if(b)for(t=b.left,g=b.right;t<=g;++t)for(f=b.top,l=b.bottom;f<=l;++f)if(!d||!d.mb(t,f))if(k=this.qd(t,f,!1))k.remove(a),k.Lc()&&(k.reset(),1E3>z.length&&z.push(k),this.cells[t][f]=null);if(d)for(t=d.left,g=d.right;t<=g;++t)for(f=d.top,l=d.bottom;f<=l;++f)b&&b.mb(t,f)||this.qd(t,f,!0).Ei(a)};h.prototype.Xl=function(a,b,d,t,g){var f,l;a=this.Za(a);b=this.$a(b);d=this.Za(d);for(f=this.$a(t);a<=d;++a)for(t=b;t<=f;++t)(l=this.qd(a,t,!1))&&l.dump(g)};h.prototype.Qp=function(a){var b,
d,t,g,f;b=a.left;t=a.top;d=a.right;for(g=a.bottom;b<=d;++b)for(a=t;a<=g;++a)if(f=this.qd(b,a,!1))f.Fe=!1};Za=h;var I=[];a.prototype.Lc=function(){return this.Fa.Lc()};a.prototype.Ei=function(a){this.Fa.add(a)};a.prototype.remove=function(a){this.Fa.remove(a)};a.prototype.dump=function(a){wa(a,this.Fa.Gd())};ca=a;var z=[];l.prototype.Lc=function(){if(!this.Fa.length)return!0;if(this.Fa.length>this.wc.count())return!1;this.hi();return!0};l.prototype.Ei=function(a){this.wc.contains(a)?(this.wc.remove(a),
this.wc.Lc()&&(this.$e=!1)):this.Fa.length?(this.Fa[this.Fa.length-1].uc()>a.uc()&&(this.Fe=!1),this.Fa.push(a)):(this.Fa.push(a),this.Fe=!0)};l.prototype.remove=function(a){this.wc.add(a);this.$e=!0;30<=this.wc.count()&&this.hi()};l.prototype.hi=function(){this.$e&&(this.wc.count()===this.Fa.length?this.reset():(Sa(this.Fa,this.wc),this.wc.clear(),this.$e=!1))};l.prototype.lo=function(){this.Fe||(this.Fa.sort(g),this.Fe=!0)};l.prototype.reset=function(){T(this.Fa);this.Fe=!0;this.wc.clear();this.$e=
!1};l.prototype.dump=function(a){this.hi();this.lo();this.Fa.length&&a.push(this.Fa)};ea=l;var D="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");$a=function(a){return 0>=a||11<=a?"source-over":D[a-1]};ab=function(a,b,d){if(d)switch(a.Ba=d.ONE,a.ua=d.ONE_MINUS_SRC_ALPHA,b){case 1:a.Ba=d.ONE;a.ua=d.ONE;break;case 3:a.Ba=d.ONE;a.ua=d.ZERO;break;case 4:a.Ba=d.ONE_MINUS_DST_ALPHA;a.ua=d.ONE;break;case 5:a.Ba=d.DST_ALPHA;a.ua=
d.ZERO;break;case 6:a.Ba=d.ZERO;a.ua=d.SRC_ALPHA;break;case 7:a.Ba=d.ONE_MINUS_DST_ALPHA;a.ua=d.ZERO;break;case 8:a.Ba=d.ZERO;a.ua=d.ONE_MINUS_SRC_ALPHA;break;case 9:a.Ba=d.DST_ALPHA;a.ua=d.ONE_MINUS_SRC_ALPHA;break;case 10:a.Ba=d.ONE_MINUS_DST_ALPHA,a.ua=d.SRC_ALPHA}};bb=function(a){return Math.round(1E6*a)/1E6};cb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};db=function(a){a=a.target;return!a||a===document||a===
window||document&&document.body&&a===document.body||cb(a.tagName,"canvas")?!0:!1}})();var Vb="undefined"!==typeof Float32Array?Float32Array:Array;function Wb(e){var m=new Vb(3);e&&(m[0]=e[0],m[1]=e[1],m[2]=e[2]);return m}function Xb(e){var m=new Vb(16);e&&(m[0]=e[0],m[1]=e[1],m[2]=e[2],m[3]=e[3],m[4]=e[4],m[5]=e[5],m[6]=e[6],m[7]=e[7],m[8]=e[8],m[9]=e[9],m[10]=e[10],m[11]=e[11],m[12]=e[12],m[13]=e[13],m[14]=e[14],m[15]=e[15]);return m}
function Yb(e,m){m[0]=e[0];m[1]=e[1];m[2]=e[2];m[3]=e[3];m[4]=e[4];m[5]=e[5];m[6]=e[6];m[7]=e[7];m[8]=e[8];m[9]=e[9];m[10]=e[10];m[11]=e[11];m[12]=e[12];m[13]=e[13];m[14]=e[14];m[15]=e[15]}function Zb(e,m){var n=m[0],p=m[1];m=m[2];e[0]*=n;e[1]*=n;e[2]*=n;e[3]*=n;e[4]*=p;e[5]*=p;e[6]*=p;e[7]*=p;e[8]*=m;e[9]*=m;e[10]*=m;e[11]*=m}
function $b(e,m,n,p){p||(p=Xb());var u,r,c,b,h,f,a,d,l=e[0],g=e[1];e=e[2];r=n[0];c=n[1];u=n[2];n=m[1];f=m[2];l===m[0]&&g===n&&e===f?(e=p,e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1):(n=l-m[0],f=g-m[1],a=e-m[2],d=1/Math.sqrt(n*n+f*f+a*a),n*=d,f*=d,a*=d,m=c*a-u*f,u=u*n-r*a,r=r*f-c*n,(d=Math.sqrt(m*m+u*u+r*r))?(d=1/d,m*=d,u*=d,r*=d):r=u=m=0,c=f*r-a*u,b=a*m-n*r,h=n*u-f*m,(d=Math.sqrt(c*c+b*b+h*h))?(d=1/d,c*=d,b*=d,h*=d):h=b=c=0,
p[0]=m,p[1]=c,p[2]=n,p[3]=0,p[4]=u,p[5]=b,p[6]=f,p[7]=0,p[8]=r,p[9]=h,p[10]=a,p[11]=0,p[12]=-(m*l+u*g+r*e),p[13]=-(c*l+b*g+h*e),p[14]=-(n*l+f*g+a*e),p[15]=1)}
(function(){function e(b,h,f){this.sd=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Q=!!f;this.Lg=this.wf=!1;this.Zh=0;this.Gh=1;this.Kj=1E3;this.Nq=(this.Kj-this.Gh)/32768;this.Ph=Wb([0,0,100]);this.fl=Wb([0,0,0]);this.Hm=Wb([0,1,0]);this.ig=Wb([1,1,1]);this.pk=!0;this.bh=Xb();this.Eb=Xb();this.Si=Xb();this.Yh=Xb();this.e=b;this.Ik()}function m(b,h,f){this.e=b;this.Yf=h;this.name=f;this.Ob=b.getAttribLocation(h,"aPos");this.yd=b.getAttribLocation(h,
"aTex");this.dl=b.getUniformLocation(h,"matP");this.Xg=b.getUniformLocation(h,"matMV");this.Le=b.getUniformLocation(h,"opacity");this.Ui=b.getUniformLocation(h,"colorFill");this.el=b.getUniformLocation(h,"samplerFront");this.Gf=b.getUniformLocation(h,"samplerBack");this.de=b.getUniformLocation(h,"destStart");this.be=b.getUniformLocation(h,"destEnd");this.If=b.getUniformLocation(h,"seconds");this.Wi=b.getUniformLocation(h,"pixelWidth");this.Vi=b.getUniformLocation(h,"pixelHeight");this.Ff=b.getUniformLocation(h,
"layerScale");this.Ef=b.getUniformLocation(h,"layerAngle");this.Jf=b.getUniformLocation(h,"viewOrigin");this.Hf=b.getUniformLocation(h,"scrollPos");this.zp=!!(this.Wi||this.Vi||this.If||this.Gf||this.de||this.be||this.Ff||this.Ef||this.Jf||this.Hf);this.nl=this.ol=-999;this.ah=1;this.jl=this.il=0;this.ll=this.hl=this.gl=1;this.rl=this.ql=this.pl=this.tl=this.sl=this.kl=0;this.Ri=[];this.ml=Xb();this.Le&&b.uniform1f(this.Le,1);this.Ui&&b.uniform4f(this.Ui,1,1,1,1);this.el&&b.uniform1i(this.el,0);this.Gf&&
b.uniform1i(this.Gf,1);this.de&&b.uniform2f(this.de,0,0);this.be&&b.uniform2f(this.be,1,1);this.Ff&&b.uniform1f(this.Ff,1);this.Ef&&b.uniform1f(this.Ef,0);this.Jf&&b.uniform2f(this.Jf,0,0);this.Hf&&b.uniform2f(this.Hf,0,0);this.If&&b.uniform1f(this.If,0);this.Sd=!1}function n(b,h){return b[0]===h[0]&&b[1]===h[1]&&b[2]===h[2]&&b[3]===h[3]&&b[4]===h[4]&&b[5]===h[5]&&b[6]===h[6]&&b[7]===h[7]&&b[8]===h[8]&&b[9]===h[9]&&b[10]===h[10]&&b[11]===h[11]&&b[12]===h[12]&&b[13]===h[13]&&b[14]===h[14]&&b[15]===
h[15]}function p(b,h){this.type=b;this.j=h;this.e=h.e;this.vc=this.Ya=this.Kl=0;this.B=this.Rb=null;this.nm=[]}var u=Xb();e.prototype.Ik=function(){var b=this.e,h;this.Yk=1;this.Zd=this.vd=null;this.xg=1;b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);b.enable(b.BLEND);b.blendFunc(b.ONE,b.ONE_MINUS_SRC_ALPHA);b.disable(b.CULL_FACE);b.disable(b.STENCIL_TEST);b.disable(b.DITHER);this.Q?(b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL)):b.disable(b.DEPTH_TEST);this.Zk=b.ONE;this.Xk=b.ONE_MINUS_SRC_ALPHA;
this.Eh=new Float32Array(8E3*(this.Q?3:2));this.yh=new Float32Array(16E3);this.Pl=new Float32Array(32E3);this.cj=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,this.cj);b.bufferData(b.ARRAY_BUFFER,this.Pl.byteLength,b.DYNAMIC_DRAW);this.hg=Array(4);this.ag=Array(4);for(h=0;4>h;h++)this.hg[h]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.hg[h]),b.bufferData(b.ARRAY_BUFFER,this.Eh.byteLength,b.DYNAMIC_DRAW),this.ag[h]=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,this.ag[h]),b.bufferData(b.ARRAY_BUFFER,
this.yh.byteLength,b.DYNAMIC_DRAW);this.Ec=0;this.Cp=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.Cp);for(var f=new Uint16Array(12E3),a=h=0;12E3>h;)f[h++]=a,f[h++]=a+1,f[h++]=a+2,f[h++]=a,f[h++]=a+2,f[h++]=a+3,a+=4;b.bufferData(b.ELEMENT_ARRAY_BUFFER,f,b.STATIC_DRAW);this.dj=this.Ue=this.Vc=0;this.ga=[];h=this.Q?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";f=this.ff({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},h,"<default>");this.ga.push(f);f=this.ff({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ga.push(f);f=this.ff({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},h,"<earlyz>");this.ga.push(f);f=this.ff({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
h,"<fill>");this.ga.push(f);for(var d in ac)ac.hasOwnProperty(d)&&this.ga.push(this.ff(ac[d],h,d));b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,null);this.cd=[];this.Dc=0;this.Ra=!1;this.lk=this.Df=-1;this.ye=null;this.gi=b.createFramebuffer();this.zg=this.nh=null;this.Zj=!1;this.Q&&(this.zg=b.createRenderbuffer());this.Fd=Wb([0,0,0]);this.ul=b.getParameter(b.ALIASED_POINT_SIZE_RANGE)[1];2048<this.ul&&(this.ul=2048);this.Oa(0)};m.prototype.Gj=function(b){n(this.ml,b)||(Yb(b,this.ml),this.e.uniformMatrix4fv(this.Xg,
!1,b))};e.prototype.ff=function(b,h,f){var a=this.e,d=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(d,b.src);a.compileShader(d);if(!a.getShaderParameter(d,a.COMPILE_STATUS))return a.deleteShader(d),null;var l=a.createShader(a.VERTEX_SHADER);a.shaderSource(l,h);a.compileShader(l);if(!a.getShaderParameter(l,a.COMPILE_STATUS))return a.deleteShader(d),a.deleteShader(l),null;h=a.createProgram();a.attachShader(h,d);a.attachShader(h,l);a.linkProgram(h);if(!a.getProgramParameter(h,a.LINK_STATUS))return a.deleteShader(d),
a.deleteShader(l),a.deleteProgram(h),null;a.useProgram(h);a.deleteShader(d);a.deleteShader(l);f=new m(a,h,f);f.ei=b.ei||0;f.fi=b.fi||0;f.kk=!!b.kk;f.gc=!!b.gc;f.Vj=!!b.Vj;f.C=b.C||[];b=0;for(d=f.C.length;b<d;b++)f.C[b][1]=a.getUniformLocation(h,f.C[b][0]),f.Ri.push(0),a.uniform1f(f.C[b][1],0);return f};e.prototype.ti=function(b){var h,f;h=0;for(f=this.ga.length;h<f;h++)if(this.ga[h].name===b)return h;return-1};e.prototype.Sl=function(b,h,f){var a=this.Eb,d=this.bh,l=[0,0,0,0,0,0,0,0];l[0]=a[0]*b+
a[4]*h+a[12];l[1]=a[1]*b+a[5]*h+a[13];l[2]=a[2]*b+a[6]*h+a[14];l[3]=a[3]*b+a[7]*h+a[15];l[4]=d[0]*l[0]+d[4]*l[1]+d[8]*l[2]+d[12]*l[3];l[5]=d[1]*l[0]+d[5]*l[1]+d[9]*l[2]+d[13]*l[3];l[6]=d[2]*l[0]+d[6]*l[1]+d[10]*l[2]+d[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],f[0]=(.5*l[4]+.5)*this.width,f[1]=(.5*l[5]+.5)*this.height)};e.prototype.Qc=function(b,h,f){if(this.width!==b||this.height!==h||f){this.nd();f=this.e;this.width=b;this.height=h;f.viewport(0,0,b,h);$b(this.Ph,
this.fl,this.Hm,this.Eb);if(this.Q){var a=-b/2;b=b/2;var d=h/2;h=-h/2;var l=this.Gh,g=this.Kj,c=this.bh;c||(c=Xb());var e=b-a,m=h-d,k=g-l;c[0]=2/e;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/m;c[6]=0;c[7]=0;c[8]=0;c[9]=0;c[10]=-2/k;c[11]=0;c[12]=-(a+b)/e;c[13]=-(h+d)/m;c[14]=-(g+l)/k;c[15]=1;this.ig[0]=1;this.ig[1]=1}else h=b/h,a=this.Gh,b=this.Kj,c=this.bh,g=a*Math.tan(45*Math.PI/360),h*=g,d=-h,l=-g,c||(c=Xb()),e=h-d,m=g-l,k=b-a,c[0]=2*a/e,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=2*a/m,c[6]=0,c[7]=0,c[8]=(h+d)/e,
c[9]=(g+l)/m,c[10]=-(b+a)/k,c[11]=-1,c[12]=0,c[13]=0,c[14]=-(b*a*2)/k,c[15]=0,a=[0,0],b=[0,0],this.Sl(0,0,a),this.Sl(1,1,b),this.ig[0]=1/(b[0]-a[0]),this.ig[1]=-1/(b[1]-a[1]);a=0;for(b=this.ga.length;a<b;a++)d=this.ga[a],d.Sd=!1,d.dl&&(f.useProgram(d.Yf),f.uniformMatrix4fv(d.dl,!1,this.bh));f.useProgram(this.ga[this.Df].Yf);f.bindTexture(f.TEXTURE_2D,null);f.activeTexture(f.TEXTURE1);f.bindTexture(f.TEXTURE_2D,null);f.activeTexture(f.TEXTURE0);this.Zd=this.vd=null;this.zg&&(f.bindFramebuffer(f.FRAMEBUFFER,
this.gi),f.bindRenderbuffer(f.RENDERBUFFER,this.zg),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_COMPONENT16,this.width,this.height),this.Zj||(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.zg),this.Zj=!0),f.bindRenderbuffer(f.RENDERBUFFER,null),f.bindFramebuffer(f.FRAMEBUFFER,null),this.nh=null)}};e.prototype.Fb=function(){$b(this.Ph,this.fl,this.Hm,this.Eb);Zb(this.Eb,this.ig)};e.prototype.translate=function(b,c){if(0!==b||0!==c){this.Fd[0]=b;this.Fd[1]=c;this.Fd[2]=
0;var f=this.Eb,a=this.Fd,d=a[0],l=a[1],a=a[2];f[12]=f[0]*d+f[4]*l+f[8]*a+f[12];f[13]=f[1]*d+f[5]*l+f[9]*a+f[13];f[14]=f[2]*d+f[6]*l+f[10]*a+f[14];f[15]=f[3]*d+f[7]*l+f[11]*a+f[15]}};e.prototype.scale=function(b,c){if(1!==b||1!==c)this.Fd[0]=b,this.Fd[1]=c,this.Fd[2]=1,Zb(this.Eb,this.Fd)};e.prototype.Uf=function(b){if(0!==b){var c=this.Eb,f,a=Math.sin(b);b=Math.cos(b);var d=c[0],l=c[1],g=c[2],e=c[3],w=c[4],m=c[5],k=c[6],q=c[7];f?c!==f&&(f[8]=c[8],f[9]=c[9],f[10]=c[10],f[11]=c[11],f[12]=c[12],f[13]=
c[13],f[14]=c[14],f[15]=c[15]):f=c;f[0]=d*b+w*a;f[1]=l*b+m*a;f[2]=g*b+k*a;f[3]=e*b+q*a;f[4]=d*-a+w*b;f[5]=l*-a+m*b;f[6]=g*-a+k*b;f[7]=e*-a+q*b}};e.prototype.xb=function(){if(!n(this.Si,this.Eb)){var b=this.qb();b.type=5;b.B?Yb(this.Eb,b.B):b.B=Xb(this.Eb);Yb(this.Eb,this.Si);this.Ra=!1}};e.prototype.qh=function(b){this.Q&&(32760<b&&(b=32760),this.Zh=this.Ph[2]-this.Gh-b*this.Nq)};p.prototype.Un=function(){var b=this.e,c=this.j;0!==this.Ya?(b.depthMask(!0),b.colorMask(!1,!1,!1,!1),b.disable(b.BLEND),
b.bindFramebuffer(b.FRAMEBUFFER,c.gi),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.clear(b.DEPTH_BUFFER_BIT),b.bindFramebuffer(b.FRAMEBUFFER,null),c.Lg=!0):(b.depthMask(!1),b.colorMask(!0,!0,!0,!0),b.enable(b.BLEND),c.Lg=!1)};p.prototype.Yn=function(){this.e.bindTexture(this.e.TEXTURE_2D,this.Rb)};p.prototype.Zn=function(){var b=this.e;b.activeTexture(b.TEXTURE1);b.bindTexture(b.TEXTURE_2D,this.Rb);b.activeTexture(b.TEXTURE0)};p.prototype.Vn=function(){var b=this.Kl,
c=this.j;c.xg=b;c=c.ye;c.Le&&c.ah!==b&&(c.ah=b,this.e.uniform1f(c.Le,b))};p.prototype.Pn=function(){this.e.drawElements(this.e.TRIANGLES,this.vc,this.e.UNSIGNED_SHORT,this.Ya)};p.prototype.Rn=function(){this.e.blendFunc(this.Ya,this.vc)};p.prototype.$n=function(){var b,c,f,a=this.j.ga,d=this.j.lk;b=0;for(c=a.length;b<c;b++)f=a[b],b===d&&f.Xg?(f.Gj(this.B),f.Sd=!0):f.Sd=!1;Yb(this.B,this.j.Yh)};p.prototype.Qn=function(){var b=this.e,c=this.j;this.Rb?(c.Zd===this.Rb&&(b.activeTexture(b.TEXTURE1),b.bindTexture(b.TEXTURE_2D,
null),c.Zd=null,b.activeTexture(b.TEXTURE0)),b.bindFramebuffer(b.FRAMEBUFFER,c.gi),c.Lg||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,this.Rb,0)):(c.Q||b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),b.bindFramebuffer(b.FRAMEBUFFER,null))};p.prototype.Nn=function(){var b=this.e,c=this.Ya;0===c?(b.clearColor(this.B[0],this.B[1],this.B[2],this.B[3]),b.clear(b.COLOR_BUFFER_BIT)):1===c?(b.enable(b.SCISSOR_TEST),b.scissor(this.B[0],this.B[1],this.B[2],
this.B[3]),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.disable(b.SCISSOR_TEST)):b.clear(b.DEPTH_BUFFER_BIT)};p.prototype.Tn=function(){var b=this.e;0!==this.Ya?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST)};p.prototype.On=function(){var b=this.e,c=this.j;c.Q&&b.disable(b.DEPTH_TEST);var f=c.ga[1];b.useProgram(f.Yf);!f.Sd&&f.Xg&&(f.Gj(c.Yh),f.Sd=!0);b.enableVertexAttribArray(f.Ob);b.bindBuffer(b.ARRAY_BUFFER,c.cj);b.vertexAttribPointer(f.Ob,4,b.FLOAT,!1,0,0);b.drawArrays(b.POINTS,this.Ya/
4,this.vc);f=c.ye;b.useProgram(f.Yf);0<=f.Ob&&(b.enableVertexAttribArray(f.Ob),b.bindBuffer(b.ARRAY_BUFFER,c.hg[c.Ec]),b.vertexAttribPointer(f.Ob,c.Q?3:2,b.FLOAT,!1,0,0));0<=f.yd&&(b.enableVertexAttribArray(f.yd),b.bindBuffer(b.ARRAY_BUFFER,c.ag[c.Ec]),b.vertexAttribPointer(f.yd,2,b.FLOAT,!1,0,0));c.Q&&b.enable(b.DEPTH_TEST)};p.prototype.Wn=function(){var b=this.e,c=this.j,f=c.ga[this.Ya];c.lk=this.Ya;c.ye=f;b.useProgram(f.Yf);!f.Sd&&f.Xg&&(f.Gj(c.Yh),f.Sd=!0);f.Le&&f.ah!==c.xg&&(f.ah=c.xg,b.uniform1f(f.Le,
c.xg));0<=f.Ob&&(b.enableVertexAttribArray(f.Ob),b.bindBuffer(b.ARRAY_BUFFER,c.hg[c.Ec]),b.vertexAttribPointer(f.Ob,c.Q?3:2,b.FLOAT,!1,0,0));0<=f.yd&&(b.enableVertexAttribArray(f.yd),b.bindBuffer(b.ARRAY_BUFFER,c.ag[c.Ec]),b.vertexAttribPointer(f.yd,2,b.FLOAT,!1,0,0))};p.prototype.Sn=function(){var b=this.B;this.e.uniform4f(this.j.ye.Ui,b[0],b[1],b[2],b[3])};p.prototype.Xn=function(){var b,c,f=this.j.ye,a=this.e;b=this.B;f.Gf&&this.j.Zd!==this.Rb&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,
this.Rb),this.j.Zd=this.Rb,a.activeTexture(a.TEXTURE0));var d=b[0];f.Wi&&d!==f.ol&&(f.ol=d,a.uniform1f(f.Wi,d));d=b[1];f.Vi&&d!==f.nl&&(f.nl=d,a.uniform1f(f.Vi,d));d=b[2];c=b[3];!f.de||d===f.il&&c===f.jl||(f.il=d,f.jl=c,a.uniform2f(f.de,d,c));d=b[4];c=b[5];!f.be||d===f.gl&&c===f.hl||(f.gl=d,f.hl=c,a.uniform2f(f.be,d,c));d=b[6];f.Ff&&d!==f.ll&&(f.ll=d,a.uniform1f(f.Ff,d));d=b[7];f.Ef&&d!==f.kl&&(f.kl=d,a.uniform1f(f.Ef,d));d=b[8];c=b[9];!f.Jf||d===f.sl&&c===f.tl||(f.sl=d,f.tl=c,a.uniform2f(f.Jf,d,
c));d=b[10];c=b[11];!f.Hf||d===f.pl&&c===f.ql||(f.pl=d,f.ql=c,a.uniform2f(f.Hf,d,c));d=b[12];f.If&&d!==f.rl&&(f.rl=d,a.uniform1f(f.If,d));if(f.C.length)for(b=0,c=f.C.length;b<c;b++)d=this.nm[b],d!==f.Ri[b]&&(f.Ri[b]=d,a.uniform1f(f.C[b][1],d))};e.prototype.qb=function(){this.Dc===this.cd.length&&this.cd.push(new p(0,this));return this.cd[this.Dc++]};e.prototype.nd=function(){if(0!==this.Dc&&!this.e.isContextLost()){var b=this.e;0<this.dj&&(b.bindBuffer(b.ARRAY_BUFFER,this.cj),b.bufferSubData(b.ARRAY_BUFFER,
0,this.Pl.subarray(0,this.dj)),c&&0<=c.Ob&&"<point>"===c.name&&b.vertexAttribPointer(c.Ob,4,b.FLOAT,!1,0,0));if(0<this.Vc){var c=this.ye;b.bindBuffer(b.ARRAY_BUFFER,this.hg[this.Ec]);b.bufferSubData(b.ARRAY_BUFFER,0,this.Eh.subarray(0,this.Vc));c&&0<=c.Ob&&"<point>"!==c.name&&b.vertexAttribPointer(c.Ob,this.Q?3:2,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,this.ag[this.Ec]);b.bufferSubData(b.ARRAY_BUFFER,0,this.yh.subarray(0,this.Ue));c&&0<=c.yd&&"<point>"!==c.name&&b.vertexAttribPointer(c.yd,2,b.FLOAT,
!1,0,0)}for(var f,b=0,c=this.Dc;b<c;b++)switch(f=this.cd[b],f.type){case 1:f.Pn();break;case 2:f.Yn();break;case 3:f.Vn();break;case 4:f.Rn();break;case 5:f.$n();break;case 6:f.Qn();break;case 7:f.Nn();break;case 8:f.On();break;case 9:f.Wn();break;case 10:f.Xn();break;case 11:f.Zn();break;case 12:f.Sn();break;case 13:f.Tn();break;case 14:f.Un()}this.dj=this.Ue=this.Vc=this.Dc=0;this.Lg=this.Ra=!1;this.Ec++;4<=this.Ec&&(this.Ec=0)}};e.prototype.me=function(b){if(b!==this.Yk&&!this.wf){var c=this.qb();
c.type=3;this.Yk=c.Kl=b;this.Ra=!1}};e.prototype.Ha=function(b){if(b!==this.vd){var c=this.qb();c.type=2;this.vd=c.Rb=b;this.Ra=!1}};e.prototype.zc=function(b,c){if((b!==this.Zk||c!==this.Xk)&&!this.wf){var f=this.qb();f.type=4;f.Ya=b;f.vc=c;this.Zk=b;this.Xk=c;this.Ra=!1}};e.prototype.rj=function(){this.zc(this.e.ONE,this.e.ONE_MINUS_SRC_ALPHA)};e.prototype.ie=function(b,c,f,a,d,l,g,e){15992<=this.Vc&&this.nd();var w=this.Vc,m=this.Ue,k=this.Eh,q=this.yh,p=this.Zh;if(this.Ra)this.cd[this.Dc-1].vc+=
6;else{var n=this.qb();n.type=1;n.Ya=this.Q?w:w/2*3;n.vc=6;this.Ra=!0}this.Q?(k[w++]=b,k[w++]=c,k[w++]=p,k[w++]=f,k[w++]=a,k[w++]=p,k[w++]=d,k[w++]=l,k[w++]=p,k[w++]=g,k[w++]=e,k[w++]=p):(k[w++]=b,k[w++]=c,k[w++]=f,k[w++]=a,k[w++]=d,k[w++]=l,k[w++]=g,k[w++]=e);q[m++]=0;q[m++]=0;q[m++]=1;q[m++]=0;q[m++]=1;q[m++]=1;q[m++]=0;q[m++]=1;this.Vc=w;this.Ue=m};e.prototype.je=function(b,c,f,a,d,l,g,e,w){15992<=this.Vc&&this.nd();var m=this.Vc,k=this.Ue,q=this.Eh,p=this.yh,n=this.Zh;if(this.Ra)this.cd[this.Dc-
1].vc+=6;else{var r=this.qb();r.type=1;r.Ya=this.Q?m:m/2*3;r.vc=6;this.Ra=!0}var r=w.left,u=w.top,I=w.right;w=w.bottom;this.Q?(q[m++]=b,q[m++]=c,q[m++]=n,q[m++]=f,q[m++]=a,q[m++]=n,q[m++]=d,q[m++]=l,q[m++]=n,q[m++]=g,q[m++]=e,q[m++]=n):(q[m++]=b,q[m++]=c,q[m++]=f,q[m++]=a,q[m++]=d,q[m++]=l,q[m++]=g,q[m++]=e);p[k++]=r;p[k++]=u;p[k++]=I;p[k++]=u;p[k++]=I;p[k++]=w;p[k++]=r;p[k++]=w;this.Vc=m;this.Ue=k};e.prototype.Oa=function(b){if(this.Df!==b){if(!this.ga[b]){if(0===this.Df)return;b=0}var c=this.qb();
c.type=9;this.Df=c.Ya=b;this.Ra=!1}};e.prototype.Sf=function(b){b=this.ga[b];return!(!b.de&&!b.be)};e.prototype.gj=function(b){b=this.ga[b];return!!(b.de||b.be||b.kk)};e.prototype.fj=function(b){return this.ga[b].gc};e.prototype.hq=function(b){b=this.ga[b];return 0!==b.ei||0!==b.fi};e.prototype.gp=function(b){return this.ga[b].ei};e.prototype.hp=function(b){return this.ga[b].fi};e.prototype.ip=function(b,c){return this.ga[b].C[c][2]};e.prototype.kh=function(b){return this.ga[b].Vj};e.prototype.ne=
function(b,c,f,a,d,l,g,e,m,p,k,q,n,r,u){var S=this.ga[this.Df],I,z;if(S.zp||u.length){I=this.qb();I.type=10;I.B?Yb(this.Eb,I.B):I.B=Xb();z=I.B;z[0]=c;z[1]=f;z[2]=a;z[3]=d;z[4]=l;z[5]=g;z[6]=e;z[7]=m;z[8]=p;z[9]=k;z[10]=q;z[11]=n;z[12]=r;S.Gf?I.Rb=b:I.Rb=null;if(u.length)for(f=I.nm,f.length=u.length,b=0,c=u.length;b<c;b++)f[b]=u[b];this.Ra=!1}};e.prototype.clear=function(b,c,f,a){var d=this.qb();d.type=7;d.Ya=0;d.B||(d.B=Xb());d.B[0]=b;d.B[1]=c;d.B[2]=f;d.B[3]=a;this.Ra=!1};e.prototype.clearRect=function(b,
c,f,a){if(!(0>f||0>a)){var d=this.qb();d.type=7;d.Ya=1;d.B||(d.B=Xb());d.B[0]=b;d.B[1]=c;d.B[2]=f;d.B[3]=a;this.Ra=!1}};e.prototype.im=function(b){if(this.Q&&(b=!!b,this.wf!==b)){var c=this.qb();c.type=14;c.Ya=b?1:0;this.Ra=!1;this.wf=b;this.nh=null;this.wf?this.Oa(2):this.Oa(0)}};e.prototype.hm=function(b){if(this.Q){var c=this.qb();c.type=13;c.Ya=b?1:0;this.Ra=!1}};e.prototype.xk=function(){Yb(this.Si,u);this.Fb();this.xb();var b=this.width/2,c=this.height/2;this.ie(-b,c,b,c,b,-c,-b,-c);Yb(u,this.Eb);
this.xb()};e.prototype.gm=function(b,c,f){this.Oa(3);var a=this.qb();a.type=12;a.B||(a.B=Xb());a.B[0]=b;a.B[1]=c;a.B[2]=f;a.B[3]=1;this.Ra=!1};e.prototype.wq=function(){this.Oa(0)};e.prototype.mq=function(){this.Oa(2)};e.prototype.gq=function(){this.nd();this.e.flush()};var r=[],c={};e.prototype.Fn=function(){T(r);c={}};e.prototype.cl=function(b,e,f){var a;a=!1;e=!!e;var d=b.src+","+a+","+e+(a?",undefined":""),l=null;if("undefined"!==typeof b.src&&c.hasOwnProperty(d))return l=c[d],l.qg++,l;this.nd();
var g=this.e,v=ja(b.width)&&ja(b.height),l=g.createTexture();g.bindTexture(g.TEXTURE_2D,l);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var m=g.RGBA,p=g.RGBA,k=g.UNSIGNED_BYTE;if(f&&!this.sd)switch(f){case 1:p=m=g.RGB;break;case 2:k=g.UNSIGNED_SHORT_4_4_4_4;break;case 3:k=g.UNSIGNED_SHORT_5_5_5_1;break;case 4:p=m=g.RGB,k=g.UNSIGNED_SHORT_5_6_5}if(!v&&a){f=document.createElement("canvas");f.width=ka(b.width);f.height=ka(b.height);var q=f.getContext("2d");q.webkitImageSmoothingEnabled=e;q.mozImageSmoothingEnabled=
e;q.msImageSmoothingEnabled=e;q.imageSmoothingEnabled=e;q.drawImage(b,0,0,b.width,b.height,0,0,f.width,f.height);g.texImage2D(g.TEXTURE_2D,0,m,p,k,f)}else g.texImage2D(g.TEXTURE_2D,0,m,p,k,b);a?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));e?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR),v&&
this.pk?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR_MIPMAP_LINEAR),g.generateMipmap(g.TEXTURE_2D)):g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST));g.bindTexture(g.TEXTURE_2D,null);this.vd=null;l.ed=b.width;l.dd=b.height;l.qg=1;l.dk=d;r.push(l);return c[d]=l};e.prototype.Va=function(b,c,f,a){this.nd();var d=this.e;this.sd&&(a=!1);var l=d.createTexture();
d.bindTexture(d.TEXTURE_2D,l);d.texImage2D(d.TEXTURE_2D,0,d.RGBA,b,c,0,d.RGBA,a?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,null);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,f?d.LINEAR:d.NEAREST);d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,f?d.LINEAR:d.NEAREST);d.bindTexture(d.TEXTURE_2D,null);this.vd=null;l.ed=b;l.dd=c;r.push(l);return l};e.prototype.Kq=function(b,
c,f){this.nd();var a=this.e;this.sd&&(f=!1);a.bindTexture(a.TEXTURE_2D,c);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,f?a.UNSIGNED_SHORT_4_4_4_4:a.UNSIGNED_BYTE,b)}catch(d){console&&console.error&&console.error("Error updating WebGL texture: ",d)}a.bindTexture(a.TEXTURE_2D,null);this.vd=null};e.prototype.deleteTexture=function(b){b&&("undefined"!==typeof b.qg&&1<b.qg?b.qg--:(this.nd(),b===this.vd&&(this.e.bindTexture(this.e.TEXTURE_2D,null),this.vd=
null),b===this.Zd&&(this.e.activeTexture(this.e.TEXTURE1),this.e.bindTexture(this.e.TEXTURE_2D,null),this.e.activeTexture(this.e.TEXTURE0),this.Zd=null),za(r,b),"undefined"!==typeof b.dk&&delete c[b.dk],this.e.deleteTexture(b)))};e.prototype.Aa=function(b){if(b!==this.nh){var c=this.qb();c.type=6;this.nh=c.Rb=b;this.Ra=!1}};eb=e})();
(function(){function e(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Kc=(this.Mg=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.Wd=!!a.dc;this.Fp="undefined"!==typeof window.AppMobi||
this.Wd;this.Zb=!!window.c2cocoonjs;this.$b=!!window.c2ejecta;this.Zb&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.$b&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.Db=this.Wd||this.Zb||this.$b;this.Ng=
/edge\//i.test(navigator.userAgent);this.sd=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Ng;this.Rk=/tizen/i.test(navigator.userAgent);this.Pk=/android/i.test(navigator.userAgent)&&!this.Rk&&!this.sd&&!this.Ng;this.Wk=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.sd&&!this.Ng;this.Lp=/ipad/i.test(navigator.userAgent);this.Qi=this.Wk||this.Lp||this.$b;this.Hi=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.sd&&!this.Ng;this.Ok=/amazonwebappplatform/i.test(navigator.userAgent);this.Hp=/firefox/i.test(navigator.userAgent);this.td="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Uk=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Kp=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.Ce=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Oi=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Tk=!!window.cr_windows10;this.Sk=this.Uk||this.Kp||this.Oi||this.Tk;this.Gp=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Qk=this.Pk&&!this.Hi&&!this.Mg&&!this.Hp&&!this.Ok&&!this.Db;this.devicePixelRatio=1;this.Xd=this.Kc||this.Mg||this.Fp||this.Zb||this.Pk||this.Qi||this.Ce||this.Oi||this.Gp||this.Rk||this.$b;this.Xd||
(this.Xd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Ni=!!(this.Qi&&this.Kc&&window.indexedDB);this.yi=null;this.Ap="";this.Ni&&(this.yi=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.td||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.td=!0);this.canvas=a;this.fk=document.getElementById("c2canvasdiv");
this.j=this.e=null;this.vi="(unavailable)";this.Q=!1;this.Od=0;this.G=null;this.ji="";this.Eg=!1;this.Gl=this.Hl=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.Wd&&(window.c2runtime=this);this.td&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());
this.Qk&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.p=this.width;this.n=this.height;this.vg=this.width;this.hf=this.height;this.Ie=window.innerWidth;this.He=window.innerHeight;this.So=!1;this.N=!0;this.zf=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.ca=[];this.Ti={};this.cc=[];this.di={};this.Hc=[];this.Ye=[];this.Bh=[];this.wn=[];this.xn=[];this.Md={};this.Ji=
this.rd=!1;this.ac=0;this.Ii=this.Li=!1;this.rc=[];this.xf=!1;this.Mc=this.Sa=this.Ug=this.qj="";this.$f=this.qm=!1;this.Dg=[];this.md=this.Nd=0;this.yl=30;this.Xh=this.Kf=0;this.eg=1;this.Nb=new Va;this.Fh=new Va;this.fh=this.Gg=this.mf=this.bg=this.ae=this.ii=this.Rg=0;this.Uh=null;this.Ag=[];this.ci=[];this.Bg=-1;this.Xi=[[]];this.Cj=this.Yg=0;this.mh(null);this.Yi=[];this.$g=-1;this.nf=this.Cl=this.Nf=0;this.vh=[];this.zj=this.hj=-1;this.Qg=!0;this.Wg=0;this.yf=!1;this.zq=0;this.df=null;this.El=
new da;this.$i=new da;this.Fl=new da;this.Zl=[];this.mc=new Xa([]);this.wj=new Xa([]);this.ue=[];this.Kg={};this.hd={};this.$c={};this.Xe={};this.ak={};this.bl=this.Tg=this.na=this.wa=this.al=this.Sg=this.P=null;this.Ve=this.Pi=!1;this.ki=[null,null];this.Rd=0;this.Pc={};this.Zf=this.wd=null;this.rm="";this.eh=[];this.lq()}}function m(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function n(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",
{keyPath:"slot"})}function u(a,b,d,g){try{var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=p;c.onerror=g;c.onsuccess=function(c){c=c.target.result;c.onerror=g;c.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=d}}catch(f){g(f)}}function r(a,b,d){try{var g=indexedDB.open("_C2SaveStates");g.onupgradeneeded=p;g.onerror=d;g.onsuccess=function(g){g=g.target.result;g.onerror=d;var c=g.transaction(["saves"]).objectStore("saves").get(a);c.onsuccess=function(){c.result?
b(c.result.data):b(null)}}}catch(c){d(c)}}function c(){y("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function b(a){var b,d={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof da||a[b]&&"undefined"!==typeof a[b].Rr||"spriteCreatedDestroyCallback"!==b&&(d[b]=a[b]);return d}var h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;e.prototype.lq=function(){var a=this;if(this.Ni)this.yi?this.yi.startServer({port:0,localhost_only:!0},function(b){a.Ap=b;a.uk(function(b){a.Ke(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)}):this.uk(function(b){a.Ke(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.Ce?b=new ActiveXObject("Microsoft.XMLHTTP"):b=new XMLHttpRequest;var d="data.js";
if(this.Uk||this.Ce||this.Oi||this.Tk)d="data.json";b.open("GET",d,!0);var g=!1;if(!this.Db&&"response"in b&&"responseType"in b)try{b.responseType="json",g="json"===b.responseType}catch(c){g=!1}if(!g&&"responseType"in b)try{b.responseType="text"}catch(f){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(l){}this.Ce?b.onreadystatechange=function(){4===b.readyState&&a.Ke(JSON.parse(b.responseText))}:(b.onload=function(){if(g)a.Ke(b.response);else if(a.$b){var d=
b.responseText,d=d.substr(d.indexOf("{"));a.Ke(JSON.parse(d))}else a.Ke(JSON.parse(b.responseText))},b.onerror=function(a){fa("Error requesting "+d+":");fa(a)});b.send()}};e.prototype.Dp=function(){var a=this,b,d,g,c,f,l,k,e,q;this.Yd=(!this.Db||this.$b||this.Kc)&&this.Iq&&!this.Qk;0===this.ob&&this.Qi&&(this.Yd=!1);this.devicePixelRatio=this.Yd?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Pa();d=!(!this.So&&(!this.Jh||this.td||
this.Sk||this.Ce||this.Mg||this.Kc||this.Ok));0<this.ob&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.jo&&(this.Zb||this.$b||!this.Db)&&(b={alpha:d,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.e=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(v){}if(this.e){if(b=this.e.getExtension("WEBGL_debug_renderer_info"))this.vi=this.e.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.e.getParameter(b.UNMASKED_VENDOR_WEBGL)+"]";this.Q&&
(this.vi+=" [front-to-back enabled]");this.Db||(this.Ma=document.createElement("canvas"),jQuery(this.Ma).appendTo(this.canvas.parentNode),this.Ma.oncontextmenu=function(){return!1},this.Ma.onselectstart=function(){return!1},this.Ma.width=Math.round(this.vg*this.devicePixelRatio),this.Ma.height=Math.round(this.hf*this.devicePixelRatio),jQuery(this.Ma).css({width:this.vg+"px",height:this.hf+"px"}),this.Ql(),this.bj=this.Ma.getContext("2d"));this.j=new eb(this.e,this.Xd,this.Q);this.j.Qc(this.canvas.width,
this.canvas.height);this.j.pk=0!==this.ao;this.G=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.Up();y("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.j.Ik();a.j.Qc(a.j.width,a.j.height,!0);a.wa=null;a.na=null;a.ki[0]=null;a.ki[1]=null;a.Vp();a.N=!0;y("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(d=this.i.length;b<d;b++)for(f=this.i[b],g=0,c=
f.q.length;g<c;g++)k=f.q[g],k.ja=this.j.ti(k.id),k.gc=this.j.fj(k.ja),this.Ve=this.Ve||this.j.Sf(k.ja);b=0;for(d=this.cc.length;b<d;b++){e=this.cc[b];g=0;for(c=e.q.length;g<c;g++)k=e.q[g],k.ja=this.j.ti(k.id),k.gc=this.j.fj(k.ja);e.oc();g=0;for(c=e.r.length;g<c;g++){q=e.r[g];f=0;for(l=q.q.length;f<l;f++)k=q.q[f],k.ja=this.j.ti(k.id),k.gc=this.j.fj(k.ja),this.Ve=this.Ve||this.j.Sf(k.ja);q.oc()}}}else{if(0<this.ob&&this.Wd){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=
function(){return!1};this.G=AppMobi.canvas.getContext("2d");try{this.G.samplingMode=this.A?"smooth":"sharp",this.G.globalScale=1,this.G.HTML5CompatibilityMode=!0,this.G.imageSmoothingEnabled=this.A}catch(m){}0!==this.width&&0!==this.height&&(this.G.width=this.width,this.G.height=this.height)}this.G||(this.Zb?(b={antialias:!!this.A,alpha:d},this.G=this.canvas.getContext("2d",b)):(b={alpha:d},this.G=this.canvas.getContext("2d",b)),this.G.webkitImageSmoothingEnabled=this.A,this.G.mozImageSmoothingEnabled=
this.A,this.G.msImageSmoothingEnabled=this.A,this.G.imageSmoothingEnabled=this.A);this.bj=this.Ma=null}this.ym=function(b){a.Ed(!1,b)};window==window.top||this.Db||this.Sk||this.Ce||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Zb&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(y("Reloading for continuous preview"),
this.Ug="__c2_continuouspreview",this.$f=!0),this.Yp&&!this.Xd&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){});this.Db||(b=function(a){if(db(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",b):window.navigator.msPointerEnabled?
document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.ob&&this.Yd&&1<this.devicePixelRatio&&this.setSize(this.ya,this.xa,!0);this.Dm();this.wp();this.go();this.W={}};e.prototype.setSize=function(a,b,d){var g=0,c=0,f=0,l=0,l=0;if(this.Ie!==a||this.He!==b||d){this.Ie=a;this.He=b;var k=this.ob,e=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.yf)&&!this.Kc;
if(e||0!==this.ob||d)e&&0<this.Rd&&(k=this.Rd),d=this.devicePixelRatio,4<=k?(f=this.ya/this.xa,a/b>f?(f*=b,5===k?(l=f*d/this.ya,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),f=this.ya*l/d,l=this.xa*l/d,g=(a-f)/2,c=(b-l)/2,a=f,b=l):(g=(a-f)/2,a=f)):(l=a/f,5===k?(l=l*d/this.xa,1<l?l=Math.floor(l):1>l&&(l=1/Math.ceil(1/l)),f=this.ya*l/d,l=this.xa*l/d,g=(a-f)/2,c=(b-l)/2,a=f):c=(b-l)/2,b=l),e&&!this.td&&(c=g=0)):this.td&&this.yf&&0===this.yk&&(g=Math.floor((a-this.ya)/2),c=Math.floor((b-this.xa)/2),a=
this.ya,b=this.xa),2>k&&(this.cf=d),this.vg=Math.round(a),this.hf=Math.round(b),this.width=Math.round(a*d),this.height=Math.round(b*d),this.N=!0,this.Mm?(this.p=this.width,this.n=this.height,this.Bb=!0):this.width<this.ya&&this.height<this.xa||1===k?(this.p=this.width,this.n=this.height,this.Bb=!0):(this.p=this.ya,this.n=this.xa,this.Bb=!1,2===k?(f=this.ya/this.xa,k=this.Ie/this.He,k<f?this.p=this.n*k:k>f&&(this.n=this.p/k)):3===k&&(f=this.ya/this.xa,k=this.Ie/this.He,k>f?this.p=this.n*k:k<f&&(this.n=
this.p/k))),this.fk&&!this.Db&&(jQuery(this.fk).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(g)+"px","margin-top":Math.floor(c)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*d),this.canvas.height=Math.round(b*d),this.$b?(this.canvas.style.left=Math.floor(g)+"px",this.canvas.style.top=Math.floor(c)+"px",this.canvas.style.width=Math.round(a)+
"px",this.canvas.style.height=Math.round(b)+"px"):this.Yd&&!this.Db&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.Ma&&(this.Ma.width=Math.round(a*d),this.Ma.height=Math.round(b*d),this.Ma.style.width=this.vg+"px",this.Ma.style.height=this.hf+"px"),this.j&&this.j.Qc(Math.round(a*d),Math.round(b*d)),this.Wd&&this.G&&(this.G.width=Math.round(a),this.G.height=Math.round(b)),this.G&&(this.G.webkitImageSmoothingEnabled=this.A,this.G.mozImageSmoothingEnabled=
this.A,this.G.msImageSmoothingEnabled=this.A,this.G.imageSmoothingEnabled=this.A),this.Dm(),this.Wk&&!this.Kc&&window.scrollTo(0,0)}};e.prototype.Dm=function(){if(this.zn&&0!==this.aj){var a="portrait";2===this.aj&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&
console.warn&&console.warn("Failed to lock orientation: ",b)}}};e.prototype.Up=function(){this.j.Fn();this.Pi=!0;var a,b,d;a=0;for(b=this.i.length;a<b;a++)d=this.i[a],d.Il&&d.Il()};e.prototype.Vp=function(){this.Pi=!1;var a,b,d;a=0;for(b=this.i.length;a<b;a++)d=this.i[a],d.Jl&&d.Jl()};e.prototype.Ql=function(){if(!this.Db){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.yf)&&!this.Kc?jQuery(this.canvas).offset():jQuery(this.canvas).position();
a.position="absolute";jQuery(this.Ma).css(a)}};var f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;e.prototype.setSuspended=function(a){var b;if(a&&!this.zf)for(y("[Construct 2] Suspending"),this.zf=!0,-1!==this.hj&&f&&f(this.hj),-1!==this.zj&&clearTimeout(this.zj),a=0,b=this.vh.length;a<b;a++)this.vh[a](!0);else if(!a&&this.zf){y("[Construct 2] Resuming");this.zf=!1;this.Rg=Qa();this.ae=
Qa();a=this.Kf=this.Gg=0;for(b=this.vh.length;a<b;a++)this.vh[a](!1);this.Ed(!1)}};e.prototype.Yc=function(a){return this.eh[a]};e.prototype.Ke=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.wk=a[1];this.ob=a[12];this.yk=a[12];this.ya=a[10];this.xa=a[11];this.Ll=this.ya/2;this.Ml=this.xa/2;this.Db&&!this.$b&&(4<=a[12]||0===a[12])&&(y("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.yk=
this.ob=3);this.Ij=a[18];this.xd=a[19];if(0===this.xd){var b=new Image;b.crossOrigin="anonymous";this.jm(b,"loading-logo.png");this.wd={Zg:b}}else if(4===this.xd){b=new Image;b.src="";var d=new Image;d.src="";var g=new Image;g.src="";var c=new Image;c.src="";var f=new Image;f.src="";var l=new Image;l.src="";var k=new Image;k.src="";var e=new Image;e.src="";var q=new Image;q.src="";var v=new Image;v.src="";var m=new Image;m.src="";var w=new Image;w.src="";this.wd={Zg:[b,d,g,c],cq:[f,l,k,e],Mq:[q,v,
m,w]}}this.Nf=a[21];this.eh=bc();this.Ac=new Y(this);b=0;for(d=a[2].length;b<d;b++)k=a[2][b],g=this.Yc(k[0]),fb(k,g.prototype),e=new g(this),e.th=k[1],e.ud=k[2],e.zl=k[9],e.La&&e.La(),this.plugins.push(e);this.eh=bc();b=0;for(d=a[3].length;b<d;b++){k=a[3][b];f=this.Yc(k[1]);e=null;g=0;for(c=this.plugins.length;g<c;g++)if(this.plugins[g]instanceof f){e=this.plugins[g];break}q=new e.Bc(e);q.name=k[0];q.K=k[2];q.Fi=k[3].slice(0);q.Jq=k[3].length;q.An=k[4];q.To=k[5];q.H=k[11];q.K?(q.dh=[],q.Ic=this.nf++,
q.X=null):(q.dh=null,q.Ic=-1,q.X=[]);q.Cg=null;q.Ae=null;q.qk=null;q.pb=!1;q.lb=null;k[6]?(q.wm=k[6][0],q.xm=k[6][1],q.Cq=k[6][2]):(q.wm=null,q.xm=0,q.Cq=0);k[7]?q.gb=k[7]:q.gb=null;q.index=b;q.c=[];q.yg=[];q.Tc=[new gb(q)];q.sc=0;q.Kb=null;q.Kn=0;q.Te=!0;q.Ch=hb;q.Yo=ib;q.fp=jb;q.O=kb;q.Tf=lb;q.lh=mb;q.he=nb;q.Hg=ob;q.li=pb;q.oi=qb;q.Jd=rb;q.qi=sb;q.hk=new Ya(this.ya,this.xa);q.Wj=!0;q.Xj=!1;q.W={};q.toString=tb;q.ca=[];g=0;for(c=k[8].length;g<c;g++){v=k[8][g];m=this.Yc(v[1]);w=null;f=0;for(l=this.ca.length;f<
l;f++)if(this.ca[f]instanceof m){w=this.ca[f];break}w||(w=new m(this),w.Bl=[],w.Zi=new da,w.La&&w.La(),this.ca.push(w));-1===w.Bl.indexOf(q)&&w.Bl.push(q);f=new w.Bc(w,q);f.name=v[0];f.H=v[2];f.La();q.ca.push(f)}q.global=k[9];q.Ki=k[10];q.q=[];g=0;for(c=k[12].length;g<c;g++)q.q.push({id:k[12][g][0],name:k[12][g][1],ja:-1,gc:!1,zb:!0,index:g});q.bs=k[13];this.Ij&&!q.K&&!q.Ki&&e.ud||q.La();q.name&&(this.types[q.name]=q);this.i.push(q);e.th&&(g=new e.Ib(q),g.uid=this.Nf++,g.Ul=this.Cl++,g.Td=0,g.pf=
ub,g.toString=vb,g.ic=k[14],g.La(),q.c.push(g),this.Pc[g.uid.toString()]=g)}b=0;for(d=a[4].length;b<d;b++)for(f=a[4][b],l=this.i[f[0]],g=1,c=f.length;g<c;g++)k=this.i[f[g]],k.X.push(l),l.dh.push(k);b=0;for(d=a[28].length;b<d;b++){f=a[28][b];l=[];g=0;for(c=f.length;g<c;g++)l.push(this.i[f[g]]);g=0;for(c=l.length;g<c;g++)l[g].pb=!0,l[g].lb=l}if(0<this.nf)for(b=0,d=this.i.length;b<d;b++)if(k=this.i[b],!k.K&&k.X.length){k.Cg=Array(this.nf);k.Ae=Array(this.nf);k.qk=Array(this.nf);q=[];g=w=m=v=0;for(c=
k.X.length;g<c;g++)for(e=k.X[g],k.Cg[e.Ic]=v,v+=e.Jq,k.Ae[e.Ic]=m,m+=e.An,k.qk[e.Ic]=w,w+=e.To,f=0,l=e.q.length;f<l;f++)q.push(sa({},e.q[f]));k.q=q.concat(k.q);g=0;for(c=k.q.length;g<c;g++)k.q[g].index=g}b=0;for(d=a[5].length;b<d;b++)k=a[5][b],g=new wb(this,k),this.Ti[g.name]=g,this.cc.push(g);b=0;for(d=a[6].length;b<d;b++)k=a[6][b],g=new xb(this,k),this.di[g.name]=g,this.Hc.push(g);b=0;for(d=this.Hc.length;b<d;b++)this.Hc[b].ia();b=0;for(d=this.Hc.length;b<d;b++)this.Hc[b].Fj();b=0;for(d=this.Bh.length;b<
d;b++)this.Bh[b].ia();T(this.Bh);this.yn=a[7];this.ge=a[9];this.cf=1;this.jo=a[13];this.A=a[14];this.Jh=a[15];this.Iq=a[17];this.aj=a[20];this.zn=0<this.aj;this.Yp=a[22];this.Bb=this.Mm=a[23];this.ao=a[24];this.dq=a[25];this.Q=a[27]&&!this.sd;this.uh=Date.now();T(this.eh);this.Dp()};var a=!1;e.prototype.Lq=function(b,d){b.cocoonLazyLoad=!0;b.onerror=function(d){a=b.ck=!0;console&&console.error&&console.error("Error loading image '"+b.src+"': ",d)};this.$b?b.src=d:b.src||("undefined"!==typeof XAPKReader?
XAPKReader.get(d,function(a){b.src=a},function(g){a=b.ck=!0;console&&console.error&&console.error("Error extracting image '"+d+"' from expansion file: ",g)}):(b.crossOrigin="anonymous",this.jm(b,d)));this.Ye.push(b)};e.prototype.Ro=function(a){var b,d;b=0;for(d=this.Ye.length;b<d;b++)if(this.Ye[b].Hn===a)return this.Ye[b];return null};var d=0,l=!1;e.prototype.wp=function(){this.df&&(d=this.df.Zr(this.yn))};e.prototype.Yj=function(){var a=d,b=0,g=0,c=!0,f,k,g=0;for(f=this.Ye.length;g<f;g++){k=this.Ye[g];
var q=k.Gn;if(!q||0>=q)q=5E4;a+=q;k.src&&(k.complete||k.loaded)&&!k.ck?b+=q:c=!1}c&&this.dq&&this.df&&(l||(this.df.$r(),l=!0),g=this.df.Ur(),b+=g,g<d&&(c=!1));this.hc=0==a?1:b/a;return c};var g=!1;e.prototype.go=function(){if(this.G||this.j){var b=this.G||this.bj;this.Ma&&this.Ql();var d=window.innerWidth,c=window.innerHeight;this.Ie===d&&this.He===c||this.setSize(d,c);this.hc=0;this.$k=-1;var f=this;if(this.Yj()&&(4!==this.xd||g))this.xp();else{c=Date.now()-this.uh;if(b){var k=this.width,l=this.height,
d=this.devicePixelRatio;if(3>this.xd&&(this.Zb||500<=c&&this.$k!=this.hc)){b.clearRect(0,0,k,l);var c=k/2,l=l/2,k=0===this.xd&&this.wd.Zg.complete,q=40*d,e=0,v=80*d,m;if(k){var w=this.wd.Zg,v=w.width*d;m=w.height*d;q=v/2;e=m/2;b.drawImage(w,Q(c-q),Q(l-e),v,m)}1>=this.xd?(c=Q(c-q)+.5,l=Q(l+(e+(k?12*d:0)))+.5,b.fillStyle=a?"red":"DodgerBlue",b.fillRect(c,l,Math.floor(v*this.hc),6*d),b.strokeStyle="black",b.strokeRect(c,l,v,6*d),b.strokeStyle="white",b.strokeRect(c-1*d,l-1*d,v+2*d,8*d)):2===this.xd&&
(b.font=this.$b?"12pt ArialMT":"12pt Arial",b.fillStyle=a?"#f00":"#999",b.as="middle",d=Math.round(100*this.hc)+"%",k=b.measureText?b.measureText(d):null,b.fillText(d,c-(k?k.width:0)/2,l));this.$k=this.hc}else if(4===this.xd){this.ho(b);h?h(function(){f.go()}):setTimeout(function(){f.go()},16);return}}setTimeout(function(){f.go()},this.Zb?10:100)}}};var v=-1,w="undefined"===typeof cr_is_preview?200:0,L=!0,k=!1,q=0,xa=0,W="undefined"===typeof cr_is_preview?3E3:0,P=null,S=null,I=0;e.prototype.ho=function(b){if(!g){for(var d=
Math.ceil(this.width),c=Math.ceil(this.height),f=this.wd.Zg,l=this.wd.cq,e=this.wd.Mq,h=0;4>h;++h)if(!f[h].complete||!l[h].complete||!e[h].complete)return;0===I&&(v=Date.now());var h=Date.now(),p=!1,n=b,r,u;L||k?(b.clearRect(0,0,d,c),P&&P.width===d&&P.height===c||(P=document.createElement("canvas"),P.width=d,P.height=c,S=P.getContext("2d")),n=S,p=!0,L&&1===I&&(v=Date.now())):b.globalAlpha=1;n.fillStyle="#333333";n.fillRect(0,0,d,c);256<this.hf?(r=Aa(.22*c,105,.6*d),u=.25*r,n.drawImage(m(l,r),.5*d-
r/2,.2*c-u/2,r,u),u=r=Math.min(.395*c,.95*d),n.drawImage(m(f,r),.5*d-r/2,.485*c-u/2,r,u),r=Aa(.22*c,105,.6*d),u=.25*r,n.drawImage(m(e,r),.5*d-r/2,.868*c-u/2,r,u),n.fillStyle="#3C3C3C",r=d,u=Math.max(.005*c,2),n.fillRect(0,.8*c-u/2,r,u),n.fillStyle=a?"red":"#E0FF65",r=d*this.hc,n.fillRect(.5*d-r/2,.8*c-u/2,r,u)):(u=r=.55*c,n.drawImage(m(f,r),.5*d-r/2,.45*c-u/2,r,u),n.fillStyle="#3C3C3C",r=d,u=Math.max(.005*c,2),n.fillRect(0,.85*c-u/2,r,u),n.fillStyle=a?"red":"#E0FF65",r=d*this.hc,n.fillRect(.5*d-r/
2,.85*c-u/2,r,u));p&&(L?b.globalAlpha=0===I?0:Math.min((h-v)/300,1):k&&(b.globalAlpha=Math.max(1-(h-xa)/300,0)),b.drawImage(P,0,0,d,c));L&&300<=h-v&&2<=I&&(L=!1,q=h);!L&&h-q>=W&&!k&&1<=this.hc&&(k=!0,xa=h);if(k&&h-xa>=300+w||"undefined"!==typeof cr_is_preview&&1<=this.hc&&500>Date.now()-v)g=!0,k=L=!1,this.wd=S=P=null;++I}};e.prototype.xp=function(){this.Ma&&(this.canvas.parentNode.removeChild(this.Ma),this.Ma=this.bj=null);this.uh=Date.now();this.ae=Qa();var a,b,d;if(this.Ij)for(a=0,b=this.i.length;a<
b;a++)d=this.i[a],d.K||d.Ki||!d.da.ud||d.La();else this.Qg=!1;a=0;for(b=this.cc.length;a<b;a++)this.cc[a].In();2<=this.ob&&(a=this.ya/this.xa,b=this.width/this.height,this.cf=2!==this.ob&&b>a||2===this.ob&&b<a?this.height/this.xa:this.width/this.ya);this.wk?this.Ti[this.wk].uj():this.cc[0].uj();this.Ij||(this.Wg=1,this.trigger(Y.prototype.I.Nj,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.i.length;a<b;a++)d=this.i[a],d.Tp&&d.Tp();document.hidden||
document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Ed(!1);this.Wd&&AppMobi.webview.execute("onGameReady();")};e.prototype.Ed=function(a,b,d){if(this.P){var g=Qa();if(d||!this.zf||a){a||(h?this.hj=h(this.ym):this.zj=setTimeout(this.ym,this.Xd?1:16));b=b||g;var c=this.ob;((d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Kc)||this.yf)&&0<this.Rd&&(c=this.Rd);if(0<c){var c=window.innerWidth,f=
window.innerHeight;this.Ie===c&&this.He===f||this.setSize(c,f)}this.Db||(d?(this.Eg||(this.ji=jQuery(this.canvas).css("margin")||"0",this.Eg=!0),this.Hi||this.td||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Eg?(this.Hi||this.td||jQuery(this.canvas).css("margin",this.ji),this.ji="",this.Eg=!1,0===this.ob&&this.setSize(Math.round(this.Hl/this.devicePixelRatio),
Math.round(this.Gl/this.devicePixelRatio),!0)):(this.Hl=this.width,this.Gl=this.height));this.Qg&&(d=this.Yj(),this.Wg=this.hc,d&&(this.Qg=!1,this.hc=1,this.trigger(Y.prototype.I.Nj,null)));this.Pp(b);!this.N&&!this.Zb||this.Pi||this.$f||a||(this.N=!1,this.j?this.nb():this.Gc(),this.Zf&&(this.canvas&&this.canvas.toDataURL&&(this.rm=this.canvas.toDataURL(this.Zf[0],this.Zf[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.rm),this.trigger(Y.prototype.I.cn,null)),this.Zf=null));this.Vr||(this.bg++,
this.mf++,this.Gg++);this.Kf+=Qa()-g}}};e.prototype.Pp=function(a){var b,d,g,c,f,k,l,q;1E3<=a-this.ae&&(this.ae+=1E3,1E3<=a-this.ae&&(this.ae=a),this.ii=this.Gg,this.Gg=0,this.Xh=this.Kf,this.Kf=0);0!==this.Rg&&(b=a-this.Rg,0>b&&(b=0),this.md=b/1E3,.5<this.md?this.md=0:this.md>1/this.yl&&(this.md=1/this.yl));this.Rg=a;this.Nd=this.md*this.eg;this.Nb.add(this.Nd);this.Fh.add(this.md);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.yf)&&
!this.Kc;2<=this.ob||a&&0<this.Rd?(b=this.ya/this.xa,d=this.width/this.height,g=this.ob,a&&0<this.Rd&&(g=this.Rd),this.cf=2!==g&&d>b||2===g&&d<b?this.height/this.xa:this.width/this.ya,this.P&&(this.P.em(this.P.scrollX),this.P.fm(this.P.scrollY))):this.cf=this.Yd?this.devicePixelRatio:1;this.Pa();this.ac++;this.Ac.oq();this.ac--;this.Pa();this.ac++;d=this.El.Gd();a=0;for(b=d.length;a<b;a++)d[a].Wr();a=0;for(b=this.i.length;a<b;a++)if(k=this.i[a],!k.K&&(k.ca.length||k.X.length))for(d=0,g=k.c.length;d<
g;d++)for(l=k.c[d],c=0,f=l.u.length;c<f;c++)l.u[c].Ed();a=0;for(b=this.i.length;a<b;a++)if(k=this.i[a],!k.K&&(k.ca.length||k.X.length))for(d=0,g=k.c.length;d<g;d++)for(l=k.c[d],c=0,f=l.u.length;c<f;c++)q=l.u[c],q.bq&&q.bq();d=this.$i.Gd();a=0;for(b=d.length;a<b;a++)d[a].Ed();this.ac--;this.yp();for(a=0;this.Uh&&10>a++;)this.ok(this.Uh);a=0;for(b=this.Hc.length;a<b;a++)this.Hc[a].xi=!1;this.P.Pd&&this.P.Pd.oa();T(this.Zl);this.ac++;a=0;for(b=this.i.length;a<b;a++)if(k=this.i[a],!k.K&&(k.ca.length||
k.X.length))for(d=0,g=k.c.length;d<g;d++)for(l=k.c[d],c=0,f=l.u.length;c<f;c++)q=l.u[c],q.yj&&q.yj();d=this.Fl.Gd();a=0;for(b=d.length;a<b;a++)d[a].yj();this.ac--};e.prototype.ok=function(a){var b=this.P;this.P.Aq();var d,g,c;if(this.j)for(d=0,g=this.i.length;d<g;d++)c=this.i[d],c.K||!c.Gm||c.global&&0!==c.c.length||-1!==a.uf.indexOf(c)||c.Gm();b==a&&T(this.Ac.yb);T(this.Zl);this.am(!0);a.uj();this.am(!1);this.N=!0;this.Pa()};e.prototype.am=function(a){var b,d,g,c,f,k,l,q,e;b=0;for(d=this.ca.length;b<
d;b++)g=this.ca[b],a?g.Of&&g.Of():g.Qf&&g.Qf();b=0;for(d=this.i.length;b<d;b++)if(g=this.i[b],g.global||g.da.th)for(c=0,f=g.c.length;c<f;c++)if(k=g.c[c],a?k.Of&&k.Of():k.Qf&&k.Qf(),k.u)for(l=0,q=k.u.length;l<q;l++)e=k.u[l],a?e.Of&&e.Of():e.Qf&&e.Qf()};e.prototype.zm=function(a){this.$i.add(a)};e.prototype.mi=function(a){return a&&-1!==a.Mf?this.md*a.Mf:this.Nd};e.prototype.Gc=function(){this.P.Gc(this.G);this.Wd&&this.G.present()};e.prototype.nb=function(){this.Q&&(this.Od=1,this.P.ze(this.j));this.P.nb(this.j);
this.j.gq()};e.prototype.un=function(a){a&&this.Ag.push(a)};e.prototype.kq=function(a){za(this.Ag,a)};e.prototype.ri=function(a){a=a.toString();return this.Pc.hasOwnProperty(a)?this.Pc[a]:null};var z=[];e.prototype.qe=function(a){var b,d;b=a.type.name;var g=null;if(this.Md.hasOwnProperty(b)){if(g=this.Md[b],g.contains(a))return}else g=z.length?z.pop():new da,this.Md[b]=g;g.add(a);this.rd=!0;if(a.pb)for(b=0,d=a.siblings.length;b<d;b++)this.qe(a.siblings[b]);this.Ji&&g.We.push(a);this.Ii||(this.ac++,
this.trigger(Object.getPrototypeOf(a.type.da).I.dn,a),this.ac--)};e.prototype.Pa=function(){if(this.rd){var a,b,d,g,c,f;this.Ji=!0;d=0;for(c=this.rc.length;d<c;++d)for(a=this.rc[d],b=a.type,b.c.push(a),g=0,f=b.X.length;g<f;++g)b.X[g].c.push(a),b.X[g].Te=!0;T(this.rc);this.Zm();Pa(this.Md);this.rd=this.Ji=!1}};e.prototype.Zm=function(){for(var a in this.Md)this.Md.hasOwnProperty(a)&&this.Tm(this.Md[a])};e.prototype.Tm=function(a){var b=a.Gd(),d=b[0].type,g,c,f,k,l,q;Sa(d.c,a);d.Te=!0;0===d.c.length&&
(d.Xj=!1);g=0;for(c=d.X.length;g<c;++g)q=d.X[g],Sa(q.c,a),q.Te=!0;g=0;for(c=this.Ac.yb.length;g<c;++g)if(l=this.Ac.yb[g],l.sb.hasOwnProperty(d.index)&&Sa(l.sb[d.index].Vd,a),!d.K)for(f=0,k=d.X.length;f<k;++f)q=d.X[f],l.sb.hasOwnProperty(q.index)&&Sa(l.sb[q.index].Vd,a);if(l=b[0].g){if(l.Hb)for(f=l.c,g=0,c=f.length;g<c;++g)k=f[g],a.contains(k)&&(k.Z(),l.Na.update(k,k.fb,null),k.fb.set(0,0,-1,-1));Sa(l.c,a);l.Vf(0)}for(g=0;g<b.length;++g)this.Sm(b[g],d);a.clear();z.push(a);this.N=!0};e.prototype.Sm=
function(a,b){var d,g,c;d=0;for(g=this.Ag.length;d<g;++d)this.Ag[d](a);a.jd&&b.hk.update(a,a.jd,null);(d=a.g)&&d.Pe(a,!0);if(a.u)for(d=0,g=a.u.length;d<g;++d)c=a.u[d],c.Pf&&c.Pf(),c.behavior.Zi.remove(a);this.El.remove(a);this.$i.remove(a);this.Fl.remove(a);a.Pf&&a.Pf();this.Pc.hasOwnProperty(a.uid.toString())&&delete this.Pc[a.uid.toString()];this.fh--;100>b.yg.length&&b.yg.push(a)};e.prototype.jk=function(a,b,d,g){if(a.K){var c=Q(Math.random()*a.dh.length);return this.jk(a.dh[c],b,d,g)}return a.Kb?
this.kd(a.Kb,b,!1,d,g,!1):null};var D=[];e.prototype.kd=function(a,b,d,g,c,f){var k,l,q,e;if(!a)return null;var v=this.i[a[1]],m=v.da.ud;if(this.Qg&&m&&!v.Ki||m&&!this.j&&11===a[0][11])return null;var w=b;m||(b=null);var h;v.yg.length?(h=v.yg.pop(),h.kc=!0,v.da.Ib.call(h,v)):(h=new v.da.Ib(v),h.kc=!1);!d||f||this.Pc.hasOwnProperty(a[2].toString())?h.uid=this.Nf++:h.uid=a[2];this.Pc[h.uid.toString()]=h;h.Ul=this.Cl++;h.Td=v.c.length;k=0;for(l=this.rc.length;k<l;++k)this.rc[k].type===v&&h.Td++;h.pf=
ub;h.toString=vb;q=a[3];if(h.kc)Pa(h.W);else{h.W={};if("undefined"!==typeof cr_is_preview)for(h.Lk=[],h.Lk.length=q.length,k=0,l=q.length;k<l;k++)h.Lk[k]=q[k][1];h.va=[];h.va.length=q.length}k=0;for(l=q.length;k<l;k++)h.va[k]=q[k][0];if(m){var p=a[0];h.x=ga(g)?p[0]:g;h.y=ga(c)?p[1]:c;h.z=p[2];h.width=p[3];h.height=p[4];h.depth=p[5];h.d=p[6];h.opacity=p[7];h.cb=p[8];h.eb=p[9];h.Qa=p[10];k=p[11];!this.j&&v.q.length&&(h.Qa=k);h.we=$a(h.Qa);this.e&&ab(h,h.Qa,this.e);if(h.kc){k=0;for(l=p[12].length;k<
l;k++)for(q=0,e=p[12][k].length;q<e;q++)h.U[k][q]=p[12][k][q];h.M.set(0,0,0,0);h.jd.set(0,0,-1,-1);h.fb.set(0,0,-1,-1);h.ab.Wf(h.M);T(h.Nh)}else{h.U=p[12].slice(0);k=0;for(l=h.U.length;k<l;k++)h.U[k]=p[12][k].slice(0);h.F=[];h.Zc=[];h.Zc.length=v.q.length;h.M=new R(0,0,0,0);h.jd=new R(0,0,-1,-1);h.fb=new R(0,0,-1,-1);h.ab=new ra;h.Nh=[];h.fa=yb;h.Qr=zb;h.mb=Ab;h.Z=Bb;h.Hq=Cb;h.cs=Db;h.uc=Eb}h.dg=!1;h.Fq=0;h.Eq=0;h.Dq=null;14===p.length&&(h.dg=!0,h.Fq=p[13][0],h.Eq=p[13][1],h.Dq=p[13][2]);k=0;for(l=
v.q.length;k<l;k++)h.Zc[k]=!0;h.Rc=!0;h.oc=Fb;h.oc();h.Jj=!!h.F.length;h.Mh=!0;h.Qh=!0;v.Wj=!0;h.visible=!0;h.Mf=-1;h.g=b;h.pc=b.c.length;h.Od=0;"undefined"===typeof h.L&&(h.L=null);this.N=h.Ld=!0}var n;T(D);k=0;for(l=v.X.length;k<l;k++)D.push.apply(D,v.X[k].ca);D.push.apply(D,v.ca);if(h.kc)for(k=0,l=D.length;k<l;k++){var r=D[k];n=h.u[k];n.kc=!0;r.behavior.Ib.call(n,r,h);p=a[4][k];q=0;for(e=p.length;q<e;q++)n.ic[q]=p[q];n.La();r.behavior.Zi.add(h)}else for(h.u=[],k=0,l=D.length;k<l;k++)r=D[k],n=new r.behavior.Ib(r,
h),n.kc=!1,n.ic=a[4][k].slice(0),n.La(),h.u.push(n),r.behavior.Zi.add(h);p=a[5];if(h.kc)for(k=0,l=p.length;k<l;k++)h.ic[k]=p[k];else h.ic=p.slice(0);this.rc.push(h);this.rd=!0;b&&(b.bf(h,!0),1!==b.zd||1!==b.Ad)&&(v.Xj=!0);this.fh++;if(v.pb){if(h.pb=!0,h.kc?T(h.siblings):h.siblings=[],!d&&!f){k=0;for(l=v.lb.length;k<l;k++)if(v.lb[k]!==v){if(!v.lb[k].Kb)return null;h.siblings.push(this.kd(v.lb[k].Kb,w,!1,m?h.x:g,m?h.y:c,!0))}k=0;for(l=h.siblings.length;k<l;k++)for(h.siblings[k].siblings.push(h),q=0;q<
l;q++)k!==q&&h.siblings[k].siblings.push(h.siblings[q])}}else h.pb=!1,h.siblings=null;h.La();k=0;for(l=h.u.length;k<l;k++)h.u[k].aq&&h.u[k].aq();return h};e.prototype.cp=function(a){var b,d;b=0;for(d=this.P.r.length;b<d;b++){var g=this.P.r[b];if(cb(g.name,a))return g}return null};e.prototype.dp=function(a){a=Q(a);0>a&&(a=0);a>=this.P.r.length&&(a=this.P.r.length-1);return this.P.r[a]};e.prototype.Vh=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].O().Y=!0};e.prototype.Tf=function(a){var b,d;b=
0;for(d=a.length;b<d;b++)a[b].Tf()};e.prototype.lh=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].lh()};e.prototype.he=function(a){var b,d;b=0;for(d=a.length;b<d;b++)a[b].he()};e.prototype.Bq=function(a,b){if(!(a&&b&&a!==b&&a.Ld&&b.Ld))return!1;a.Z();b.Z();var d=a.g,g=b.g,c,k,f,l,q,e,h,v;if(d===g||d.zd===g.zd&&g.Ad===g.Ad&&d.scale===g.scale&&d.d===g.d&&d.jg===g.jg){if(!a.M.Nk(b.M)||!a.ab.Mk(b.ab)||a.dg&&b.dg)return!1;if(a.dg)return this.vm(a,b);if(b.dg)return this.vm(b,a);h=a.L&&!a.L.De();c=
b.L&&!b.L.De();if(!h&&!c)return!0;h?(a.L.ve(a.width,a.height,a.d),h=a.L):(this.mc.Re(a.ab,a.x,a.y,a.width,a.height),h=this.mc);c?(b.L.ve(b.width,b.height,b.d),v=b.L):(this.mc.Re(b.ab,b.x,b.y,b.width,b.height),v=this.mc);return h.vf(v,b.x-a.x,b.y-a.y)}h=a.L&&!a.L.De();c=b.L&&!b.L.De();h?(a.L.ve(a.width,a.height,a.d),this.mc.lm(a.L)):this.mc.Re(a.ab,a.x,a.y,a.width,a.height);h=this.mc;c?(b.L.ve(b.width,b.height,b.d),this.wj.lm(b.L)):this.wj.Re(b.ab,b.x,b.y,b.width,b.height);v=this.wj;c=0;for(k=h.jc;c<
k;c++)f=2*c,l=f+1,q=h.za[f],e=h.za[l],h.za[f]=d.Xa(q+a.x,e+a.y,!0),h.za[l]=d.Xa(q+a.x,e+a.y,!1);h.Z();c=0;for(k=v.jc;c<k;c++)f=2*c,l=f+1,q=v.za[f],e=v.za[l],v.za[f]=g.Xa(q+b.x,e+b.y,!0),v.za[l]=g.Xa(q+b.x,e+b.y,!1);v.Z();return h.vf(v,0,0)};var G=new ra;new R(0,0,0,0);var X=[];e.prototype.vm=function(a,b){var d,g,c,k,f=b.M,l=a.x,q=a.y;a.Sr(f,X);var e=b.L&&!b.L.De();d=0;for(g=X.length;d<g;++d)if(c=X[d],k=c.Xr,f.Ep(k,l,q)&&(G.Wf(k),G.offset(l,q),G.Mk(b.ab)))if(e)if(b.L.ve(b.width,b.height,b.d),c.ej){if(c.ej.vf(b.L,
b.x-(l+k.left),b.y-(q+k.top)))return T(X),!0}else{if(this.mc.Re(G,0,0,k.right-k.left,k.bottom-k.top),this.mc.vf(b.L,b.x,b.y))return T(X),!0}else if(c.ej){if(this.mc.Re(b.ab,0,0,b.width,b.height),c.ej.vf(this.mc,-(l+k.left),-(q+k.top)))return T(X),!0}else return T(X),!0;T(X);return!1};e.prototype.Em=function(a,b){if(!b)return!1;var d,g,c,k,f;d=0;for(g=a.ca.length;d<g;d++)if(a.ca[d].behavior instanceof b)return!0;if(!a.K)for(d=0,g=a.X.length;d<g;d++)for(f=a.X[d],c=0,k=f.ca.length;c<k;c++)if(f.ca[c].behavior instanceof
b)return!0;return!1};e.prototype.Dj=function(a){return this.Em(a,Ub.or)};e.prototype.Ej=function(a){return this.Em(a,Ub.pr)};var ba=-1;e.prototype.trigger=function(a,b,d){if(!this.P)return!1;var g=this.P.Pd;if(!g)return!1;var c=!1,k,f,l;ba++;var q=g.ai;f=0;for(l=q.length;f<l;++f)k=this.Bm(a,b,q[f],d),c=c||k;k=this.Bm(a,b,g,d);ba--;return c||k};e.prototype.Bm=function(a,b,d,g){var c=!1,k,f,l,q;if(b)for(l=this.Bj(a,b,b.type.name,d,g),c=c||l,q=b.type.X,k=0,f=q.length;k<f;++k)l=this.Bj(a,b,q[k].name,
d,g),c=c||l;else l=this.Bj(a,b,"system",d,g),c=c||l;return c};e.prototype.Bj=function(a,b,d,g,c){var k,f=!1,l=!1,l="undefined"!==typeof c,q=(l?g.sk:g.Cm)[d];if(!q)return f;var e=null;g=0;for(k=q.length;g<k;++g)if(q[g].method==a){e=q[g].lf;break}if(!e)return f;var h;l?h=e[c]:h=e;if(!h)return null;g=0;for(k=h.length;g<k;g++)a=h[g][0],c=h[g][1],l=this.Oo(b,d,a,c),f=f||l;return f};e.prototype.Oo=function(a,b,d,g){var c,k,f=!1;this.Cj++;var l=this.Wa().bb;l&&this.Tf(l.Dd);var q=1<this.Cj;this.Tf(d.Dd);
q&&this.iq();var e=this.mh(d);e.bb=d;a&&(c=this.types[b].O(),c.Y=!1,T(c.c),c.c[0]=a,this.types[b].Jd());a=!0;if(d.parent){b=e.um;for(c=d.parent;c;)b.push(c),c=c.parent;b.reverse();c=0;for(k=b.length;c<k;c++)if(!b[c].qq()){a=!1;break}}a&&(this.mf++,d.fc?d.pq(g):d.oa(),f=f||e.$d);this.jh();q&&this.Zp();this.he(d.Dd);l&&this.he(l.Dd);this.rd&&0===this.ac&&0===ba&&!this.Li&&this.Pa();this.Cj--;return f};e.prototype.Wo=function(){var a=this.Wa();return a.bb.ta[a.ra]};e.prototype.iq=function(){this.Yg++;
this.Yg>=this.Xi.length&&this.Xi.push([])};e.prototype.Zp=function(){this.Yg--};e.prototype.Ak=function(){return this.Xi[this.Yg]};e.prototype.mh=function(a){this.Bg++;this.Bg>=this.ci.length&&this.ci.push(new Gb);var b=this.Wa();b.reset(a);return b};e.prototype.jh=function(){this.Bg--};e.prototype.Wa=function(){return this.ci[this.Bg]};e.prototype.jq=function(){this.$g++;this.$g>=this.Yi.length&&this.Yi.push(aa({name:void 0,index:0,vj:!1}));var a=this.Xo();a.name=void 0;a.index=0;a.vj=!1;return a};
e.prototype.$p=function(){this.$g--};e.prototype.Xo=function(){return this.Yi[this.$g]};e.prototype.Bk=function(a,b){for(var d,g,c,k,f,l;b;){d=0;for(g=b.Qb.length;d<g;d++)if(l=b.Qb[d],l instanceof Hb&&cb(a,l.name))return l;b=b.parent}d=0;for(g=this.Hc.length;d<g;d++)for(f=this.Hc[d],c=0,k=f.od.length;c<k;c++)if(l=f.od[c],l instanceof Hb&&cb(a,l.name))return l;return null};e.prototype.Ck=function(a){var b,d;b=0;for(d=this.cc.length;b<d;b++)if(this.cc[b].H===a)return this.cc[b];return null};e.prototype.Jg=
function(a){var b,d;b=0;for(d=this.i.length;b<d;b++)if(this.i[b].H===a)return this.i[b];return null};e.prototype.Zo=function(a){var b,d;b=0;for(d=this.ue.length;b<d;b++)if(this.ue[b].H===a)return this.ue[b];return null};e.prototype.Ln=function(a,b){this.Zf=[a,b];this.N=!0};e.prototype.yp=function(){var a=this,b=this.qj,d=this.Mc,g=this.Ug,k=!1;this.qm&&(k=!0,b="__c2_continuouspreview",this.qm=!1);if(b.length){this.Pa();d=this.uq();if(n()&&!this.Zb)u(b,d,function(){y("Saved state to IndexedDB storage ("+
d.length+" bytes)");a.Mc=d;a.trigger(Y.prototype.I.Ih,null);a.Mc="";k&&c()},function(g){try{localStorage.setItem("__c2save_"+b,d),y("Saved state to WebStorage ("+d.length+" bytes)"),a.Mc=d,a.trigger(Y.prototype.I.Ih,null),a.Mc="",k&&c()}catch(f){y("Failed to save game state: "+g+"; "+f),a.trigger(Y.prototype.I.Oj,null)}});else try{localStorage.setItem("__c2save_"+b,d),y("Saved state to WebStorage ("+d.length+" bytes)"),a.Mc=d,this.trigger(Y.prototype.I.Ih,null),a.Mc="",k&&c()}catch(f){y("Error saving to WebStorage: "+
f),a.trigger(Y.prototype.I.Oj,null)}this.Sa=this.Ug=this.qj=""}if(g.length){if(n()&&!this.Zb)r(g,function(b){b?(a.Sa=b,y("Loaded state from IndexedDB storage ("+a.Sa.length+" bytes)")):(a.Sa=localStorage.getItem("__c2save_"+g)||"",y("Loaded state from WebStorage ("+a.Sa.length+" bytes)"));a.$f=!1;a.Sa.length||a.trigger(Y.prototype.I.Hh,null)},function(){a.Sa=localStorage.getItem("__c2save_"+g)||"";y("Loaded state from WebStorage ("+a.Sa.length+" bytes)");a.$f=!1;a.Sa.length||a.trigger(Y.prototype.I.Hh,
null)});else{try{this.Sa=localStorage.getItem("__c2save_"+g)||"",y("Loaded state from WebStorage ("+this.Sa.length+" bytes)")}catch(l){this.Sa=""}this.$f=!1;a.Sa.length||a.trigger(Y.prototype.I.Hh,null)}this.qj=this.Ug=""}this.Sa.length&&(this.Pa(),this.Np(this.Sa),this.Mc=this.Sa,this.trigger(Y.prototype.I.gn,null),this.Sa=this.Mc="")};e.prototype.uq=function(){var a,d,g,c,k,f,l,q={c2save:!0,version:1,rt:{time:this.Nb.ha,walltime:this.Fh.ha,timescale:this.eg,tickcount:this.bg,execcount:this.mf,next_uid:this.Nf,
running_layout:this.P.H,start_time_offset:Date.now()-this.uh},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(d=this.i.length;a<d;a++)if(k=this.i[a],!k.K&&!this.Dj(k)){f={instances:[]};Oa(k.W)&&(f.ex=b(k.W));g=0;for(c=k.c.length;g<c;g++)f.instances.push(this.pj(k.c[g]));q.types[k.H.toString()]=f}a=0;for(d=this.cc.length;a<d;a++)g=this.cc[a],q.layouts[g.H.toString()]=g.Gb();c=q.events.groups;a=0;for(d=this.ue.length;a<d;a++)g=this.ue[a],c[g.H.toString()]=this.Kg[g.rf].qf;d=
q.events.cnds;for(l in this.hd)this.hd.hasOwnProperty(l)&&(a=this.hd[l],Oa(a.W)&&(d[l]={ex:b(a.W)}));d=q.events.acts;for(l in this.$c)this.$c.hasOwnProperty(l)&&(a=this.$c[l],Oa(a.W)&&(d[l]={ex:b(a.W)}));d=q.events.vars;for(l in this.Xe)this.Xe.hasOwnProperty(l)&&(a=this.Xe[l],a.Og||a.parent&&!a.Af||(d[l]=a.data));q.system=this.Ac.Gb();return JSON.stringify(q)};e.prototype.Yl=function(){var a,b,d,g,c,k;this.Pc={};a=0;for(b=this.i.length;a<b;a++)if(d=this.i[a],!d.K)for(g=0,c=d.c.length;g<c;g++)k=d.c[g],
this.Pc[k.uid.toString()]=k};e.prototype.Np=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.xf=!0;var b=a.rt;this.Nb.reset();this.Nb.ha=b.time;this.Fh.reset();this.Fh.ha=b.walltime||0;this.eg=b.timescale;this.bg=b.tickcount;this.mf=b.execcount;this.uh=Date.now()-b.start_time_offset;var d=b.running_layout;if(d!==this.P.H)if(d=this.Ck(d))this.ok(d);else return;var g,c,k,f,l,q,e;q=a.types;for(c in q)if(q.hasOwnProperty(c)&&(f=this.Jg(parseInt(c,10)))&&!f.K&&!this.Dj(f)){q[c].ex?f.W=q[c].ex:
Pa(f.W);l=f.c;k=q[c].instances;d=0;for(g=la(l.length,k.length);d<g;d++)this.Vg(l[d],k[d]);d=k.length;for(g=l.length;d<g;d++)this.qe(l[d]);d=l.length;for(g=k.length;d<g;d++){l=null;if(f.da.ud&&(l=this.P.Ig(k[d].w.l),!l))continue;l=this.kd(f.Kb,l,!1,0,0,!0);this.Vg(l,k[d])}f.Te=!0}this.Pa();this.Yl();g=a.layouts;for(c in g)g.hasOwnProperty(c)&&(d=this.Ck(parseInt(c,10)))&&d.ec(g[c]);g=a.events.groups;for(c in g)g.hasOwnProperty(c)&&(d=this.Zo(parseInt(c,10)))&&this.Kg[d.rf]&&this.Kg[d.rf].vq(g[c]);
d=a.events.cnds;for(c in this.hd)this.hd.hasOwnProperty(c)&&(d.hasOwnProperty(c)?this.hd[c].W=d[c].ex:this.hd[c].W={});d=a.events.acts;for(c in this.$c)this.$c.hasOwnProperty(c)&&(d.hasOwnProperty(c)?this.$c[c].W=d[c].ex:this.$c[c].W={});d=a.events.vars;for(c in d)d.hasOwnProperty(c)&&this.Xe.hasOwnProperty(c)&&(this.Xe[c].data=d[c]);this.Nf=b.next_uid;this.xf=!1;d=0;for(g=this.Dg.length;d<g;++d)l=this.Dg[d],this.trigger(Object.getPrototypeOf(l.type.da).I.kg,l);T(this.Dg);this.Ac.ec(a.system);d=0;
for(g=this.i.length;d<g;d++)if(f=this.i[d],!f.K&&!this.Dj(f))for(c=0,a=f.c.length;c<a;c++){l=f.c[c];if(f.pb)for(q=l.pf(),T(l.siblings),b=0,k=f.lb.length;b<k;b++)e=f.lb[b],f!==e&&l.siblings.push(e.c[q]);l.ad&&l.ad();if(l.u)for(b=0,k=l.u.length;b<k;b++)q=l.u[b],q.ad&&q.ad()}this.N=!0}};e.prototype.pj=function(a,d){var g,c,k,f,l;f=a.type;k=f.da;var q={};d?q.c2=!0:q.uid=a.uid;Oa(a.W)&&(q.ex=b(a.W));if(a.va&&a.va.length)for(q.ivs={},g=0,c=a.va.length;g<c;g++)q.ivs[a.type.Fi[g].toString()]=a.va[g];if(k.ud){k=
{x:a.x,y:a.y,w:a.width,h:a.height,l:a.g.H,zi:a.uc()};0!==a.d&&(k.a=a.d);1!==a.opacity&&(k.o=a.opacity);.5!==a.cb&&(k.hX=a.cb);.5!==a.eb&&(k.hY=a.eb);0!==a.Qa&&(k.bm=a.Qa);a.visible||(k.v=a.visible);a.Ld||(k.ce=a.Ld);-1!==a.Mf&&(k.mts=a.Mf);if(f.q.length)for(k.fx=[],g=0,c=f.q.length;g<c;g++)l=f.q[g],k.fx.push({name:l.name,active:a.Zc[l.index],params:a.U[l.index]});q.w=k}if(a.u&&a.u.length)for(q.behs={},g=0,c=a.u.length;g<c;g++)f=a.u[g],f.Gb&&(q.behs[f.type.H.toString()]=f.Gb());a.Gb&&(q.data=a.Gb());
return q};e.prototype.bp=function(a,b){var d,g;d=0;for(g=a.Fi.length;d<g;d++)if(a.Fi[d]===b)return d;return-1};e.prototype.Vo=function(a,b){var d,g;d=0;for(g=a.u.length;d<g;d++)if(a.u[d].type.H===b)return d;return-1};e.prototype.Vg=function(a,b,d){var g,c,k,f,l;l=a.type;f=l.da;if(d){if(!b.c2)return}else a.uid=b.uid;b.ex?a.W=b.ex:Pa(a.W);if(c=b.ivs)for(g in c)c.hasOwnProperty(g)&&(k=this.bp(l,parseInt(g,10)),0>k||k>=a.va.length||(a.va[k]=c[g]));if(f.ud){k=b.w;a.g.H!==k.l&&(c=a.g,a.g=this.P.Ig(k.l),
a.g?(c.Pe(a,!0),a.g.bf(a,!0),a.fa(),a.g.Vf(0)):(a.g=c,d||this.qe(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.pc=k.zi;a.d=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.cb=k.hasOwnProperty("hX")?k.hX:.5;a.eb=k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.Ld=k.hasOwnProperty("ce")?k.ce:!0;a.Mf=k.hasOwnProperty("mts")?k.mts:-1;a.Qa=k.hasOwnProperty("bm")?k.bm:0;a.we=$a(a.Qa);this.e&&ab(a,a.Qa,this.e);a.fa();if(k.hasOwnProperty("fx"))for(d=0,c=k.fx.length;d<
c;d++)f=l.oi(k.fx[d].name),0>f||(a.Zc[f]=k.fx[d].active,a.U[f]=k.fx[d].params);a.oc()}if(l=b.behs)for(g in l)l.hasOwnProperty(g)&&(d=this.Vo(a,parseInt(g,10)),0>d||a.u[d].ec(l[g]));b.data&&a.ec(b.data)};e.prototype.tk=function(a,b,d){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,d)},d)};e.prototype.uk=function(a,b){this.tk("data.js",function(d){var g=new FileReader;g.onload=function(b){a(b.target.result)};g.onerror=b;g.readAsText(d)},b)};e.prototype.Po=
function(a,b,d){this.tk(a,function(a){var d=new FileReader;d.onload=function(a){b(a.target.result)};d.readAsArrayBuffer(a)},d)};e.prototype.Qo=function(a,b,d){this.Po(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},d)};e.prototype.jm=function(a,b){this.Ni?this.Qo(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};Ib=function(a){return new e(document.getElementById(a))};Jb=function(a,b){return new e({dc:!0,width:a,height:b})};window.cr_createRuntime=Ib;window.cr_createDCRuntime=
Jb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.$j=!0;document.body.appendChild(a);a=new e(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new e(document.getElementById("canvas"));window.c2runtime=
a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var e=document.getElementById("c2canvas");return e?e.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(e,m){var n=window.cr_getC2Runtime();n&&n.Ln(e,m)};window.cr_sizeCanvas=function(e,m){if(0!==e&&0!==m){var n=window.cr_getC2Runtime();n&&n.setSize(e,m)}};window.cr_setSuspended=function(e){var m=window.cr_getC2Runtime();m&&m.setSuspended(e)};
(function(){function e(a,b){this.b=a;this.Pd=null;this.scrollX=this.b.ya/2;this.scrollY=this.b.xa/2;this.scale=1;this.d=0;this.Be=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Fm=b[3];this.om=b[4];this.H=b[5];var c=b[6],g,f;this.r=[];this.uf=[];g=0;for(f=c.length;g<f;g++){var e=new Kb(this,c[g]);e.Dl=g;this.r.push(e)}c=b[7];this.Ud=[];g=0;for(f=c.length;g<f;g++){var e=c[g],h=this.b.i[e[1]];h.Kb||(h.Kb=e);this.Ud.push(e);-1===this.uf.indexOf(h)&&this.uf.push(h)}this.q=[];this.F=[];this.Rc=
!0;this.U=[];g=0;for(f=b[8].length;g<f;g++)this.q.push({id:b[8][g][0],name:b[8][g][1],ja:-1,gc:!1,zb:!0,index:g}),this.U.push(b[8][g][2].slice(0));this.oc();this.ij=new R(0,0,1,1);this.jj=new R(0,0,1,1);this.Bd={}}function m(a,b){return a.pc-b.pc}function n(a,b){this.Ea=a;this.b=a.b;this.c=[];this.scale=1;this.d=0;this.Fc=!1;this.Uc=new R(0,0,0,0);this.Am=new ra;this.ka=this.ba=this.la=this.aa=0;this.pe=!1;this.Xc=-1;this.Wh=0;this.name=b[0];this.index=b[1];this.H=b[2];this.visible=b[3];this.Vb=b[4];
this.nc=b[5];this.zd=b[6];this.Ad=b[7];this.opacity=b[8];this.Fg=b[9];this.Hb=b[10];this.jg=b[11];this.Qa=b[12];this.io=b[13];this.we="source-over";this.ua=this.Ba=0;this.Na=null;this.Nc=p();this.lc=!0;this.Je=new R(0,0,-1,-1);this.Ja=new R(0,0,-1,-1);this.Hb&&(this.Na=new Za(this.b.ya,this.b.xa));this.xc=!1;var c=b[14],g,f;this.tm=[];this.Cb=[];this.gf=[];g=0;for(f=c.length;g<f;g++){var e=c[g],h=this.b.i[e[1]];h.Kb||(h.Kb=e,h.Kn=this.index);this.Cb.push(e);-1===this.Ea.uf.indexOf(h)&&this.Ea.uf.push(h)}va(this.tm,
this.Cb);this.q=[];this.F=[];this.Rc=!0;this.U=[];g=0;for(f=b[15].length;g<f;g++)this.q.push({id:b[15][g][0],name:b[15][g][1],ja:-1,gc:!1,zb:!0,index:g}),this.U.push(b[15][g][2].slice(0));this.oc();this.ij=new R(0,0,1,1);this.jj=new R(0,0,1,1)}function p(){return b.length?b.pop():[]}function u(a){T(a);b.push(a)}e.prototype.tq=function(a){var b=a.type.H.toString();this.Bd.hasOwnProperty(b)||(this.Bd[b]=[]);this.Bd[b].push(this.b.pj(a))};e.prototype.Fk=function(){var a=this.r[0];return!a.nc&&1===a.opacity&&
!a.Fg&&a.visible};e.prototype.oc=function(){T(this.F);this.Rc=!0;var a,b,c;a=0;for(b=this.q.length;a<b;a++)c=this.q[a],c.zb&&(this.F.push(c),c.gc||(this.Rc=!1))};e.prototype.ni=function(a){var b,c,g;b=0;for(c=this.q.length;b<c;b++)if(g=this.q[b],g.name===a)return g;return null};var r=[],c=!0;e.prototype.uj=function(){this.om&&(this.Pd=this.b.di[this.om],this.Pd.Fj());this.b.P=this;this.scrollX=this.b.ya/2;this.scrollY=this.b.xa/2;var a,b,f,g,e,h,p;a=0;for(f=this.b.i.length;a<f;a++)if(b=this.b.i[a],
!b.K)for(e=b.c,b=0,g=e.length;b<g;b++)if(h=e[b],h.g){var k=h.g.Dl;k>=this.r.length&&(k=this.r.length-1);h.g=this.r[k];-1===h.g.c.indexOf(h)&&h.g.c.push(h);h.g.pe=!0}if(!c)for(a=0,f=this.r.length;a<f;++a)this.r[a].c.sort(m);T(r);this.Bn();a=0;for(f=this.r.length;a<f;a++)h=this.r[a],h.Jn(),h.Dh();e=!1;if(!this.Be){for(p in this.Bd)if(this.Bd.hasOwnProperty(p)&&(b=this.b.Jg(parseInt(p,10)))&&!b.K&&this.b.Ej(b)){g=this.Bd[p];a=0;for(f=g.length;a<f;a++){h=null;if(b.da.ud&&(h=this.Ig(g[a].w.l),!h))continue;
h=this.b.kd(b.Kb,h,!1,0,0,!0);this.b.Vg(h,g[a]);e=!0;r.push(h)}T(g)}a=0;for(f=this.r.length;a<f;a++)this.r[a].c.sort(m),this.r[a].pe=!0}e&&(this.b.Pa(),this.b.Yl());for(a=0;a<r.length;a++)if(h=r[a],h.type.pb)for(f=h.pf(),b=0,g=h.type.lb.length;b<g;b++)p=h.type.lb[b],h.type!==p&&(p.c.length>f?h.siblings.push(p.c[f]):p.Kb&&(e=this.b.kd(p.Kb,h.g,!0,h.x,h.y,!0),this.b.Pa(),p.Ch(),h.siblings.push(e),r.push(e)));a=0;for(f=this.Ud.length;a<f;a++)this.b.kd(this.Ud[a],null,!0);this.b.Uh=null;this.b.Pa();if(this.b.G&&
!this.b.Db)for(a=0,f=this.b.i.length;a<f;a++)p=this.b.i[a],!p.K&&p.c.length&&p.Rl&&p.Rl(this.b.G);if(this.b.xf)va(this.b.Dg,r);else for(a=0,f=r.length;a<f;a++)h=r[a],this.b.trigger(Object.getPrototypeOf(h.type.da).I.kg,h);T(r);this.b.xf||this.b.trigger(Y.prototype.I.Mj,null);this.Be=!1};e.prototype.In=function(){var a,b,c,g,f;b=a=0;for(c=this.Ud.length;a<c;a++)g=this.Ud[a],f=this.b.i[g[1]],f.global?f.pb||this.b.kd(g,null,!0):(this.Ud[b]=g,b++);ua(this.Ud,b)};e.prototype.Aq=function(){this.b.xf||this.b.trigger(Y.prototype.I.en,
null);this.b.Ii=!0;T(this.b.Ac.yb);var a,b,f,g,e,h;if(!this.Be)for(a=0,b=this.r.length;a<b;a++)for(this.r[a].Hj(),e=this.r[a].c,f=0,g=e.length;f<g;f++)h=e[f],h.type.global||this.b.Ej(h.type)&&this.tq(h);a=0;for(b=this.r.length;a<b;a++){e=this.r[a].c;f=0;for(g=e.length;f<g;f++)h=e[f],h.type.global||this.b.qe(h);this.b.Pa();T(e);this.r[a].pe=!0}a=0;for(b=this.b.i.length;a<b;a++)if(e=this.b.i[a],!(e.global||e.da.ud||e.da.th||e.K)){f=0;for(g=e.c.length;f<g;f++)this.b.qe(e.c[f]);this.b.Pa()}c=!1;this.b.Ii=
!1};new R(0,0,0,0);e.prototype.Gc=function(a){var b,c=a,g=!1,f=!this.b.Bb;f&&(this.b.Tg||(this.b.Tg=document.createElement("canvas"),b=this.b.Tg,b.width=this.b.p,b.height=this.b.n,this.b.bl=b.getContext("2d"),g=!0),b=this.b.Tg,c=this.b.bl,b.width!==this.b.p&&(b.width=this.b.p,g=!0),b.height!==this.b.n&&(b.height=this.b.n,g=!0),g&&(c.webkitImageSmoothingEnabled=this.b.A,c.mozImageSmoothingEnabled=this.b.A,c.msImageSmoothingEnabled=this.b.A,c.imageSmoothingEnabled=this.b.A));c.globalAlpha=1;c.globalCompositeOperation=
"source-over";this.b.Jh&&!this.Fk()&&c.clearRect(0,0,this.b.p,this.b.n);var e,h,g=0;for(e=this.r.length;g<e;g++)h=this.r[g],h.visible&&0<h.opacity&&11!==h.Qa&&(h.c.length||!h.nc)?h.Gc(c):h.Dh();f&&a.drawImage(b,0,0,this.b.width,this.b.height)};e.prototype.ze=function(a){a.im(!0);this.b.na||(this.b.na=a.Va(this.b.p,this.b.n,this.b.A));if(this.b.na.ed!==this.b.p||this.b.na.dd!==this.b.n)a.deleteTexture(this.b.na),this.b.na=a.Va(this.b.p,this.b.n,this.b.A);a.Aa(this.b.na);this.b.Bb||a.Qc(this.b.p,this.b.n);
var b,c;for(b=this.r.length-1;0<=b;--b)c=this.r[b],c.visible&&1===c.opacity&&c.Rc&&0===c.Qa&&(c.c.length||!c.nc)?c.ze(a):c.Dh();a.im(!1)};e.prototype.nb=function(a){var b=0<this.F.length||this.b.Ve||!this.b.Bb||this.b.Q;if(b){this.b.na||(this.b.na=a.Va(this.b.p,this.b.n,this.b.A));if(this.b.na.ed!==this.b.p||this.b.na.dd!==this.b.n)a.deleteTexture(this.b.na),this.b.na=a.Va(this.b.p,this.b.n,this.b.A);a.Aa(this.b.na);this.b.Bb||a.Qc(this.b.p,this.b.n)}else this.b.na&&(a.Aa(null),a.deleteTexture(this.b.na),
this.b.na=null);this.b.Jh&&!this.Fk()&&a.clear(0,0,0,0);var c,g,f;c=0;for(g=this.r.length;c<g;c++)f=this.r[c],f.visible&&0<f.opacity&&(f.c.length||!f.nc)?f.nb(a):f.Dh();b&&(0===this.F.length||1===this.F.length&&this.b.Bb?(1===this.F.length?(b=this.F[0].index,a.Oa(this.F[0].ja),a.ne(null,1/this.b.p,1/this.b.n,0,0,1,1,this.scale,this.d,0,0,this.b.p/2,this.b.n/2,this.b.Nb.ha,this.U[b]),a.kh(this.F[0].ja)&&(this.b.N=!0)):a.Oa(0),this.b.Bb||a.Qc(this.b.width,this.b.height),a.Aa(null),a.hm(!1),a.me(1),
a.Ha(this.b.na),a.rj(),a.Fb(),a.xb(),b=this.b.width/2,c=this.b.height/2,a.ie(-b,c,b,c,b,-c,-b,-c),a.Ha(null),a.hm(!0)):this.kj(a,null,null,null))};e.prototype.of=function(){return 0<this.F.length||this.b.Ve||!this.b.Bb||this.b.Q?this.b.na:null};e.prototype.Dk=function(){var a=this.r[0].Mb(),b,c,g;b=1;for(c=this.r.length;b<c;b++)g=this.r[b],(0!==g.zd||0!==g.Ad)&&g.Mb()<a&&(a=g.Mb());return a};e.prototype.em=function(a){if(!this.Fm){var b=1/this.Dk()*this.b.p/2;a>this.width-b&&(a=this.width-b);a<b&&
(a=b)}this.scrollX!==a&&(this.scrollX=a,this.b.N=!0)};e.prototype.fm=function(a){if(!this.Fm){var b=1/this.Dk()*this.b.n/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.b.N=!0)};e.prototype.Bn=function(){this.em(this.scrollX);this.fm(this.scrollY)};e.prototype.kj=function(a,b,c,g){var f=c?c.F:b?b.F:this.F,e=1,h=0,k=0,q=0,m=this.b.p,p=this.b.n;c?(e=c.g.Mb(),h=c.g.Lb(),k=c.g.aa,q=c.g.ba,m=c.g.la,p=c.g.ka):b&&(e=b.Mb(),h=b.Lb(),k=b.aa,q=b.ba,m=b.la,p=b.ka);var n=
this.b.ki,r,u,z,D,G=0,X=1,ba,t,x=this.b.p,E=this.b.n,Ba=x/2,Ca=E/2,H=b?b.ij:this.ij,B=b?b.jj:this.jj,J=0,O=0,C=0,A=0,N=x,ma=x,K=E,na=E,ia=z=0;D=c?c.g.Lb():0;if(c){r=0;for(u=f.length;r<u;r++)z+=a.gp(f[r].ja),ia+=a.hp(f[r].ja);A=c.M;J=b.Xa(A.left,A.top,!0,!0);C=b.Xa(A.left,A.top,!1,!0);N=b.Xa(A.right,A.bottom,!0,!0);K=b.Xa(A.right,A.bottom,!1,!0);0!==D&&(r=b.Xa(A.right,A.top,!0,!0),u=b.Xa(A.right,A.top,!1,!0),O=b.Xa(A.left,A.bottom,!0,!0),A=b.Xa(A.left,A.bottom,!1,!0),D=Math.min(J,N,r,O),N=Math.max(J,
N,r,O),J=D,D=Math.min(C,K,u,A),K=Math.max(C,K,u,A),C=D);J-=z;C-=ia;N+=z;K+=ia;B.left=J/x;B.top=1-C/E;B.right=N/x;B.bottom=1-K/E;O=J=Q(J);A=C=Q(C);ma=N=pa(N);na=K=pa(K);O-=z;A-=ia;ma+=z;na+=ia;0>J&&(J=0);0>C&&(C=0);N>x&&(N=x);K>E&&(K=E);0>O&&(O=0);0>A&&(A=0);ma>x&&(ma=x);na>E&&(na=E);H.left=J/x;H.top=1-C/E;H.right=N/x;H.bottom=1-K/E}else H.left=B.left=0,H.top=B.top=0,H.right=B.right=1,H.bottom=B.bottom=1;ia=c&&(a.Sf(f[0].ja)||0!==z||0!==ia||1!==c.opacity||c.type.da.zl)||b&&!c&&1!==b.opacity;a.rj();
if(ia){n[G]||(n[G]=a.Va(x,E,this.b.A));if(n[G].ed!==x||n[G].dd!==E)a.deleteTexture(n[G]),n[G]=a.Va(x,E,this.b.A);a.Oa(0);a.Aa(n[G]);t=na-A;a.clearRect(O,E-A-t,ma-O,t);c?c.nb(a):(a.Ha(this.b.wa),a.me(b.opacity),a.Fb(),a.translate(-Ba,-Ca),a.xb(),a.je(J,K,N,K,N,C,J,C,H));B.left=B.top=0;B.right=B.bottom=1;c&&(D=H.top,H.top=H.bottom,H.bottom=D);G=1;X=0}a.me(1);z=f.length-1;var Ra=a.gj(f[z].ja)||!b&&!c&&!this.b.Bb;r=D=0;for(u=f.length;r<u;r++){n[G]||(n[G]=a.Va(x,E,this.b.A));if(n[G].ed!==x||n[G].dd!==
E)a.deleteTexture(n[G]),n[G]=a.Va(x,E,this.b.A);a.Oa(f[r].ja);D=f[r].index;a.kh(f[r].ja)&&(this.b.N=!0);0!=r||ia?(a.ne(g,1/x,1/E,B.left,B.top,B.right,B.bottom,e,h,k,q,(k+m)/2,(q+p)/2,this.b.Nb.ha,c?c.U[D]:b?b.U[D]:this.U[D]),a.Ha(null),r!==z||Ra?(a.Aa(n[G]),t=na-A,ba=E-A-t,a.clearRect(O,ba,ma-O,t)):(c?a.zc(c.Ba,c.ua):b&&a.zc(b.Ba,b.ua),a.Aa(g)),a.Ha(n[X]),a.Fb(),a.translate(-Ba,-Ca),a.xb(),a.je(J,K,N,K,N,C,J,C,H),r!==z||Ra||a.Ha(null)):(a.Aa(n[G]),t=na-A,ba=E-A-t,a.clearRect(O,ba,ma-O,t),c?(c.Ca&&
c.Ca.Ia?(ba=c.Ca.Ia,X=1/ba.width,ba=1/ba.height):(X=1/c.width,ba=1/c.height),a.ne(g,X,ba,B.left,B.top,B.right,B.bottom,e,h,k,q,(k+m)/2,(q+p)/2,this.b.Nb.ha,c.U[D]),c.nb(a)):(a.ne(g,1/x,1/E,0,0,1,1,e,h,k,q,(k+m)/2,(q+p)/2,this.b.Nb.ha,b?b.U[D]:this.U[D]),a.Ha(b?this.b.wa:this.b.na),a.Fb(),a.translate(-Ba,-Ca),a.xb(),a.je(J,K,N,K,N,C,J,C,H)),B.left=B.top=0,B.right=B.bottom=1,c&&!Ra&&(D=K,K=C,C=D));G=0===G?1:0;X=0===G?1:0}Ra&&(a.Oa(0),c?a.zc(c.Ba,c.ua):b?a.zc(b.Ba,b.ua):this.b.Bb||(a.Qc(this.b.width,
this.b.height),Ba=this.b.width/2,Ca=this.b.height/2,C=J=0,N=this.b.width,K=this.b.height),a.Aa(g),a.Ha(n[X]),a.Fb(),a.translate(-Ba,-Ca),a.xb(),c&&1===f.length&&!ia?a.je(J,C,N,C,N,K,J,K,H):a.je(J,K,N,K,N,C,J,C,H),a.Ha(null))};e.prototype.Ig=function(a){var b,c;b=0;for(c=this.r.length;b<c;b++)if(this.r[b].H===a)return this.r[b];return null};e.prototype.Gb=function(){var a,b,c,g={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.d,w:this.width,h:this.height,fv:this.Be,persist:this.Bd,fx:[],layers:{}};
a=0;for(b=this.q.length;a<b;a++)c=this.q[a],g.fx.push({name:c.name,active:c.zb,params:this.U[c.index]});a=0;for(b=this.r.length;a<b;a++)c=this.r[a],g.layers[c.H.toString()]=c.Gb();return g};e.prototype.ec=function(a){var b,c,g,f;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.d=a.a;this.width=a.w;this.height=a.h;this.Bd=a.persist;"undefined"!==typeof a.fv&&(this.Be=a.fv);var e=a.fx;b=0;for(c=e.length;b<c;b++)if(g=this.ni(e[b].name))g.zb=e[b].active,this.U[g.index]=e[b].params;this.oc();b=
a.layers;for(f in b)b.hasOwnProperty(f)&&(a=this.Ig(parseInt(f,10)))&&a.ec(b[f])};wb=e;n.prototype.oc=function(){T(this.F);this.Rc=!0;var a,b,c;a=0;for(b=this.q.length;a<b;a++)c=this.q[a],c.zb&&(this.F.push(c),c.gc||(this.Rc=!1))};n.prototype.ni=function(a){var b,c,g;b=0;for(c=this.q.length;b<c;b++)if(g=this.q[b],g.name===a)return g;return null};n.prototype.Jn=function(){var a,b,c,g,f,e;b=a=0;for(c=this.Cb.length;a<c;a++){g=this.Cb[a];f=this.b.i[g[1]];e=this.b.Ej(f);f=!0;if(!e||this.Ea.Be){g=this.b.kd(g,
this,!0);if(!g)continue;r.push(g);g.type.global&&(f=!1,this.gf.push(g.uid))}f&&(this.Cb[b]=this.Cb[a],b++)}this.Cb.length=b;this.b.Pa();!this.b.j&&this.q.length&&(this.Qa=this.io);this.we=$a(this.Qa);this.b.e&&ab(this,this.Qa,this.b.e);this.lc=!0};n.prototype.Pe=function(a,b){var c=ya(this.c,a);0>c||(b&&this.Hb&&a.fb&&a.fb.right>=a.fb.left&&(a.Z(),this.Na.update(a,a.fb,null),a.fb.set(0,0,-1,-1)),c===this.c.length-1?this.c.pop():(ta(this.c,c),this.Vf(c)),this.lc=!0)};n.prototype.bf=function(a,b){a.pc=
this.c.length;this.c.push(a);b&&this.Hb&&a.fb&&a.fa();this.lc=!0};n.prototype.fq=function(a){this.c.unshift(a);this.Vf(0)};n.prototype.Sp=function(a,b,c){var g=a.uc();b=b.uc();ta(this.c,g);g<b&&b--;c&&b++;b===this.c.length?this.c.push(a):this.c.splice(b,0,a);this.Vf(g<b?g:b)};n.prototype.Vf=function(a){-1===this.Xc?this.Xc=a:a<this.Xc&&(this.Xc=a);this.lc=this.pe=!0};n.prototype.Hj=function(){if(this.pe){-1===this.Xc&&(this.Xc=0);var a,b,c;if(this.Hb)for(a=this.Xc,b=this.c.length;a<b;++a)c=this.c[a],
c.pc=a,this.Na.Qp(c.fb);else for(a=this.Xc,b=this.c.length;a<b;++a)this.c[a].pc=a;this.pe=!1;this.Xc=-1}};n.prototype.Mb=function(a){return this.ep()*(this.b.Bb||a?this.b.cf:1)};n.prototype.ep=function(){return(this.scale*this.Ea.scale-1)*this.jg+1};n.prototype.Lb=function(){return this.Fc?0:Fa(this.Ea.d+this.d)};var b=[],h=[],f=[];n.prototype.si=function(){this.Hj();this.Na.Xl(this.aa,this.ba,this.la,this.ka,f);if(!f.length)return p();if(1===f.length){var a=p();va(a,f[0]);T(f);return a}for(var b=
!0;1<f.length;){for(var a=f,c=void 0,g=void 0,e=void 0,m=void 0,n=void 0,c=0,g=a.length;c<g-1;c+=2){var e=a[c],m=a[c+1],n=p(),k=e,q=m,r=n,W=0,P=0,S=0,I=k.length,z=q.length,D=void 0,G=void 0;for(r.length=I+z;W<I&&P<z;++S)D=k[W],G=q[P],D.pc<G.pc?(r[S]=D,++W):(r[S]=G,++P);for(;W<I;++W,++S)r[S]=k[W];for(;P<z;++P,++S)r[S]=q[P];b||(u(e),u(m));h.push(n)}1===g%2&&(b?(e=p(),va(e,a[g-1]),h.push(e)):h.push(a[g-1]));va(a,h);T(h);b=!1}a=f[0];T(f);return a};n.prototype.Gc=function(a){this.xc=this.Fg||1!==this.opacity||
0!==this.Qa;var b=this.b.canvas,c=a,g=!1;this.xc&&(this.b.Sg||(this.b.Sg=document.createElement("canvas"),b=this.b.Sg,b.width=this.b.p,b.height=this.b.n,this.b.al=b.getContext("2d"),g=!0),b=this.b.Sg,c=this.b.al,b.width!==this.b.p&&(b.width=this.b.p,g=!0),b.height!==this.b.n&&(b.height=this.b.n,g=!0),g&&(c.webkitImageSmoothingEnabled=this.b.A,c.mozImageSmoothingEnabled=this.b.A,c.msImageSmoothingEnabled=this.b.A,c.imageSmoothingEnabled=this.b.A),this.nc&&c.clearRect(0,0,this.b.p,this.b.n));c.globalAlpha=
1;c.globalCompositeOperation="source-over";this.nc||(c.fillStyle="rgb("+this.Vb[0]+","+this.Vb[1]+","+this.Vb[2]+")",c.fillRect(0,0,this.b.p,this.b.n));c.save();this.Fc=!0;var g=this.gd(!0),f=this.gd(!1);this.Fc=!1;this.b.ge&&(g=Math.round(g),f=Math.round(f));this.oh(g,f,c);var e=this.Mb();c.scale(e,e);c.translate(-g,-f);this.Hb?(this.Ja.left=this.Na.Za(this.aa),this.Ja.top=this.Na.$a(this.ba),this.Ja.right=this.Na.Za(this.la),this.Ja.bottom=this.Na.$a(this.ka),this.lc||!this.Ja.jf(this.Je)?(u(this.Nc),
g=this.si(),this.lc=!1,this.Je.ef(this.Ja)):g=this.Nc):g=this.c;for(var h,k=null,f=0,e=g.length;f<e;++f)h=g[f],h!==k&&(this.bo(h,c),k=h);this.Hb&&(this.Nc=g);c.restore();this.xc&&(a.globalCompositeOperation=this.we,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};n.prototype.bo=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var c=a.M;c.right<this.aa||c.bottom<this.ba||c.left>this.la||c.top>this.ka||(b.globalCompositeOperation=a.we,a.Gc(b))}};n.prototype.Dh=function(){this.Fc=!0;var a=
this.gd(!0),b=this.gd(!1);this.Fc=!1;this.b.ge&&(a=Math.round(a),b=Math.round(b));this.oh(a,b,null)};n.prototype.oh=function(a,b,c){var g=this.Mb();this.aa=a;this.ba=b;this.la=a+1/g*this.b.p;this.ka=b+1/g*this.b.n;a=this.Lb();0!==a&&(c&&(c.translate(this.b.p/2,this.b.n/2),c.rotate(-a),c.translate(this.b.p/-2,this.b.n/-2)),this.Uc.set(this.aa,this.ba,this.la,this.ka),this.Uc.offset((this.aa+this.la)/-2,(this.ba+this.ka)/-2),this.Am.mm(this.Uc,a),this.Am.bk(this.Uc),this.Uc.offset((this.aa+this.la)/
2,(this.ba+this.ka)/2),this.aa=this.Uc.left,this.ba=this.Uc.top,this.la=this.Uc.right,this.ka=this.Uc.bottom)};n.prototype.ze=function(a){if(this.xc=this.Fg){this.b.wa||(this.b.wa=a.Va(this.b.p,this.b.n,this.b.A));if(this.b.wa.ed!==this.b.p||this.b.wa.dd!==this.b.n)a.deleteTexture(this.b.wa),this.b.wa=a.Va(this.b.p,this.b.n,this.b.A);a.Aa(this.b.wa)}this.Fc=!0;var b=this.gd(!0),c=this.gd(!1);this.Fc=!1;this.b.ge&&(b=Math.round(b),c=Math.round(c));this.oh(b,c,null);b=this.Mb();a.Fb();a.scale(b,b);
a.Uf(-this.Lb());a.translate((this.aa+this.la)/-2,(this.ba+this.ka)/-2);a.xb();this.Hb?(this.Ja.left=this.Na.Za(this.aa),this.Ja.top=this.Na.$a(this.ba),this.Ja.right=this.Na.Za(this.la),this.Ja.bottom=this.Na.$a(this.ka),this.lc||!this.Ja.jf(this.Je)?(u(this.Nc),b=this.si(),this.lc=!1,this.Je.ef(this.Ja)):b=this.Nc):b=this.c;for(var g,f=null,c=b.length-1;0<=c;--c)g=b[c],g!==f&&(this.eo(b[c],a),f=g);this.Hb&&(this.Nc=b);this.nc||(this.Wh=this.b.Od++,a.qh(this.Wh),a.gm(1,1,1),a.xk(),a.mq())};n.prototype.nb=
function(a){var b=0,c=0;if(this.xc=this.Fg||1!==this.opacity||0<this.F.length||0!==this.Qa){this.b.wa||(this.b.wa=a.Va(this.b.p,this.b.n,this.b.A));if(this.b.wa.ed!==this.b.p||this.b.wa.dd!==this.b.n)a.deleteTexture(this.b.wa),this.b.wa=a.Va(this.b.p,this.b.n,this.b.A);a.Aa(this.b.wa);this.nc&&a.clear(0,0,0,0)}this.nc||(this.b.Q?(a.qh(this.Wh),a.gm(this.Vb[0]/255,this.Vb[1]/255,this.Vb[2]/255),a.xk(),a.wq()):a.clear(this.Vb[0]/255,this.Vb[1]/255,this.Vb[2]/255,1));this.Fc=!0;var g=this.gd(!0),b=this.gd(!1);
this.Fc=!1;this.b.ge&&(g=Math.round(g),b=Math.round(b));this.oh(g,b,null);g=this.Mb();a.Fb();a.scale(g,g);a.Uf(-this.Lb());a.translate((this.aa+this.la)/-2,(this.ba+this.ka)/-2);a.xb();this.Hb?(this.Ja.left=this.Na.Za(this.aa),this.Ja.top=this.Na.$a(this.ba),this.Ja.right=this.Na.Za(this.la),this.Ja.bottom=this.Na.$a(this.ka),this.lc||!this.Ja.jf(this.Je)?(u(this.Nc),b=this.si(),this.lc=!1,this.Je.ef(this.Ja)):b=this.Nc):b=this.c;var f,e,h=null,c=0;for(f=b.length;c<f;++c)e=b[c],e!==h&&(this.co(b[c],
a),h=e);this.Hb&&(this.Nc=b);this.xc&&(b=this.F.length?this.F[0].ja:0,c=this.F.length?this.F[0].index:0,0===this.F.length||1===this.F.length&&!a.gj(b)&&1===this.opacity?(1===this.F.length?(a.Oa(b),a.ne(this.Ea.of(),1/this.b.p,1/this.b.n,0,0,1,1,g,this.Lb(),this.aa,this.ba,(this.aa+this.la)/2,(this.ba+this.ka)/2,this.b.Nb.ha,this.U[c]),a.kh(b)&&(this.b.N=!0)):a.Oa(0),a.Aa(this.Ea.of()),a.me(this.opacity),a.Ha(this.b.wa),a.zc(this.Ba,this.ua),a.Fb(),a.xb(),g=this.b.p/2,b=this.b.n/2,a.ie(-g,b,g,b,g,
-b,-g,-b),a.Ha(null)):this.Ea.kj(a,this,null,this.Ea.of()))};n.prototype.co=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var c=a.M;c.right<this.aa||c.bottom<this.ba||c.left>this.la||c.top>this.ka||(b.qh(a.Od),a.Jj?this.fo(a,b):(b.Oa(0),b.zc(a.Ba,a.ua),a.nb(b)))}};n.prototype.eo=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.Z();var c=a.M;c.right<this.aa||c.bottom<this.ba||c.left>this.la||c.top>this.ka||(a.Od=this.b.Od++,0===a.Qa&&1===a.opacity&&a.Rc&&a.ze&&(b.qh(a.Od),a.ze(b)))}};
n.prototype.fo=function(a,b){var c=a.F[0].ja,g=a.F[0].index,f=this.Mb();if(1!==a.F.length||b.gj(c)||b.hq(c)||(a.d||a.g.Lb())&&b.Sf(c)||1!==a.opacity||a.type.da.zl)this.Ea.kj(b,this,a,this.xc?this.b.wa:this.Ea.of()),b.Fb(),b.scale(f,f),b.Uf(-this.Lb()),b.translate((this.aa+this.la)/-2,(this.ba+this.ka)/-2),b.xb();else{b.Oa(c);b.zc(a.Ba,a.ua);b.kh(c)&&(this.b.N=!0);var e=0,h=0,k=0,q=0;b.Sf(c)&&(q=a.M,e=this.Xa(q.left,q.top,!0,!0),h=this.Xa(q.left,q.top,!1,!0),k=this.Xa(q.right,q.bottom,!0,!0),q=this.Xa(q.right,
q.bottom,!1,!0),e=e/windowWidth,h=1-h/windowHeight,k=k/windowWidth,q=1-q/windowHeight);var m;a.Ca&&a.Ca.Ia?(m=a.Ca.Ia,c=1/m.width,m=1/m.height):(c=1/a.width,m=1/a.height);b.ne(this.xc?this.b.wa:this.Ea.of(),c,m,e,h,k,q,f,this.Lb(),this.aa,this.ba,(this.aa+this.la)/2,(this.ba+this.ka)/2,this.b.Nb.ha,a.U[g]);a.nb(b)}};n.prototype.gd=function(a){var b=0,c=0,g=this.b.devicePixelRatio;this.b.Yd&&(b*=g,c*=g);var g=this.b.Ll,f=this.b.Ml,g=(this.Ea.scrollX-g)*this.zd+g,f=(this.Ea.scrollY-f)*this.Ad+f,e,h,
k=1/this.Mb(!1);e=g-this.b.p*k/2;h=f-this.b.n*k/2;e+=b*k;h+=c*k;c=this.Lb();0!==c&&(e-=g,h-=f,b=Math.cos(c),c=Math.sin(c),k=e*b-h*c,h=h*b+e*c,e=k+g,h+=f);return a?e:h};n.prototype.Xa=function(a,b,c,g){var f=this.b.Ll,e=this.b.Ml,h=(this.Ea.scrollX-f)*this.zd+f,k=(this.Ea.scrollY-e)*this.Ad+e,e=h,f=k,q=this.Lb();if(0!==q){a-=h;b-=k;var m=Math.cos(-q),q=Math.sin(-q),p=a*m-b*q;b=b*m+a*q;a=p+h;b+=k}h=1/this.Mb(!g);g?(e-=this.b.p*h/2,f-=this.b.n*h/2):(e-=this.b.width*h/2,f-=this.b.height*h/2);e=(a-e)/
h;f=(b-f)/h;a=this.b.devicePixelRatio;this.b.Yd&&!g&&(e/=a,f/=a);return c?e:f};n.prototype.Gb=function(){var a,b,c,g={s:this.scale,a:this.d,vl:this.aa,vt:this.ba,vr:this.la,vb:this.ka,v:this.visible,bc:this.Vb,t:this.nc,px:this.zd,py:this.Ad,o:this.opacity,zr:this.jg,fx:[],cg:this.gf,instances:[]};a=0;for(b=this.q.length;a<b;a++)c=this.q[a],g.fx.push({name:c.name,active:c.zb,params:this.U[c.index]});return g};n.prototype.ec=function(a){var b,c,g;this.scale=a.s;this.d=a.a;this.aa=a.vl;this.ba=a.vt;
this.la=a.vr;this.ka=a.vb;this.visible=a.v;this.Vb=a.bc;this.nc=a.t;this.zd=a.px;this.Ad=a.py;this.opacity=a.o;this.jg=a.zr;this.gf=a.cg||[];va(this.Cb,this.tm);var f=new da;b=0;for(g=this.gf.length;b<g;++b)f.add(this.gf[b]);c=b=0;for(g=this.Cb.length;b<g;++b)f.contains(this.Cb[b][2])||(this.Cb[c]=this.Cb[b],++c);ua(this.Cb,c);c=a.fx;b=0;for(g=c.length;b<g;b++)if(a=this.ni(c[b].name))a.zb=c[b].active,this.U[a.index]=c[b].params;this.oc();this.c.sort(m);this.pe=!0};Kb=n})();
(function(){function e(a,b){var c,g=a.length;switch(g){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<g;c++)if(a[c]!==b[c])return!1;return!0}}function m(a,b){return a.index-b.index}function n(a){var b,c,g,d;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(m);a.length>=v.length&&(v.length=a.length+1);v[a.length]||(v[a.length]=[]);d=v[a.length];b=0;for(c=d.length;b<c;b++)if(g=d[b],e(a,g))return g;d.push(a);return a}
function p(a,b){this.b=a;this.Cm={};this.sk={};this.xi=!1;this.Hk=new da;this.ai=[];this.Kh=[];this.name=b[0];var c=b[1];this.od=[];var g,d;g=0;for(d=c.length;g<d;g++)this.Jk(c[g],null,this.od)}function u(a){this.type=a;this.c=[];this.J=[];this.Y=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.T=[];this.Dd=[];this.Gk=this.Ah=this.Aj=this.Di=this.group=this.tj=!1;this.ta=[];this.Tb=[];this.Qb=[];this.rf="";this.qf=this.Di=this.group=!1;this.ug=null;c[1]&&(this.rf=c[1][1].toLowerCase(),
this.group=!0,this.Di=!!c[1][0],this.ug=[],this.qf=this.Di,this.b.ue.push(this),this.b.Kg[this.rf]=this);this.fc=c[2];this.H=c[4];this.group||(this.b.ak[this.H.toString()]=this);var g=c[5];a=0;for(b=g.length;a<b;a++){var d=new Lb(this,g[a]);d.index=a;this.ta.push(d);this.Tj(d.type)}g=c[6];a=0;for(b=g.length;a<b;a++)d=new Mb(this,g[a]),d.index=a,this.Tb.push(d);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.Jk(c[a],this,this.Qb);this.Pg=!1;this.ta.length&&(this.Pg=null==this.ta[0].type&&
this.ta[0].Ka==Y.prototype.I.Vm)}function c(a,b){var c,g,d;if(a&&(-1===b.indexOf(a)&&b.push(a),a.pb))for(c=0,g=a.lb.length;c<g;c++)d=a.lb[c],a!==d&&-1===b.indexOf(d)&&b.push(d)}function b(a,b){this.Ab=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.ea=[];this.W={};this.index=-1;this.Ze=!1;this.Ka=this.b.Yc(b[1]);this.trigger=0<b[3];this.rk=2===b[3];this.Gi=b[5];this.Mp=b[6];this.H=b[7];this.b.hd[this.H.toString()]=this;-1===b[0]?(this.type=null,this.oa=this.oj,this.Kd=null,this.Wb=-1):(this.type=this.b.i[b[0]],
this.oa=this.Mp?this.rq:this.nj,b[2]?(this.Kd=this.type.Hg(b[2]),this.Wb=this.type.li(b[2])):(this.Kd=null,this.Wb=-1),this.Ab.parent&&this.Ab.parent.rh());this.rk&&(this.oa=this.sq);if(10===b.length){var c,g,d=b[9];c=0;for(g=d.length;c<g;c++){var f=new Nb(this,d[c]);this.C.push(f)}this.ea.length=d.length}}function h(a,b){this.Ab=a;this.sheet=a.sheet;this.b=a.b;this.C=[];this.ea=[];this.W={};this.index=-1;this.Ze=!1;this.Ka=this.b.Yc(b[1]);-1===b[0]?(this.type=null,this.oa=this.oj,this.Kd=null,this.Wb=
-1):(this.type=this.b.i[b[0]],this.oa=this.nj,b[2]?(this.Kd=this.type.Hg(b[2]),this.Wb=this.type.li(b[2])):(this.Kd=null,this.Wb=-1));this.H=b[3];this.b.$c[this.H.toString()]=this;if(6===b.length){var c,g,d=b[5];c=0;for(g=d.length;c<g;c++){var f=new Nb(this,d[c]);this.C.push(f)}this.ea.length=d.length}}function f(){L++;w.length===L&&w.push(new Ob);return w[L]}function a(a,b){this.Pb=a;this.Ab=a.Ab;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.tc=null;this.Sc=0;this.get=null;this.ik=0;this.Ea=
null;this.key=0;this.object=null;this.index=0;this.fg=this.oe=this.fg=this.oe=this.vk=this.Qd=this.gg=null;this.Sb=!1;var c,g,d;switch(b[0]){case 0:case 7:this.tc=new Pb(this,b[1]);this.Sc=0;this.get=this.np;break;case 1:this.tc=new Pb(this,b[1]);this.Sc=0;this.get=this.op;break;case 5:this.tc=new Pb(this,b[1]);this.Sc=0;this.get=this.sp;break;case 3:case 8:this.ik=b[1];this.get=this.lp;break;case 6:this.Ea=this.b.Ti[b[1]];this.get=this.tp;break;case 9:this.key=b[1];this.get=this.rp;break;case 4:this.object=
this.b.i[b[1]];this.get=this.up;this.Ab.Tj(this.object);this.Pb instanceof Mb?this.Ab.rh():this.Ab.parent&&this.Ab.parent.rh();break;case 10:this.index=b[1];a.type&&a.type.K?(this.get=this.pp,this.Sb=!0):this.get=this.qp;break;case 11:this.gg=b[1];this.Qd=null;this.get=this.mp;break;case 2:case 12:this.vk=b[1];this.get=this.kp;break;case 13:for(this.get=this.vp,this.oe=[],this.fg=[],c=1,g=b.length;c<g;c++)d=new Nb(this.Pb,b[c]),this.oe.push(d),this.fg.push(0)}}function d(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.T=[];this.name=c[1];this.Lm=c[2];this.Ci=c[3];this.Af=!!c[4];this.Og=!!c[5];this.H=c[6];this.b.Xe[this.H.toString()]=this;this.data=this.Ci;this.parent?(this.ee=this.Af||this.Og?-1:this.b.zq++,this.b.xn.push(this)):(this.ee=-1,this.b.wn.push(this))}function l(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.T=[];this.tf=null;this.Bp=c[1];this.zb=!0}function g(){this.um=[];this.reset(null)}var v=[];p.prototype.toString=function(){return this.name};p.prototype.Jk=function(a,b,c){switch(a[0]){case 0:a=
new Qb(this,b,a);if(a.fc)for(c.push(a),c=0,b=a.ta.length;c<b;c++)a.ta[c].trigger&&this.Kk(a,c);else a.Vk()?this.Kk(a,0):c.push(a);break;case 1:a=new Hb(this,b,a);c.push(a);break;case 2:a=new Rb(this,b,a),c.push(a)}};p.prototype.ia=function(){var a,b;a=0;for(b=this.od.length;a<b;a++)this.od[a].ia(a<b-1&&this.od[a+1].Pg)};p.prototype.Fj=function(){T(this.ai);T(this.Kh);this.Sj(this);T(this.Kh)};p.prototype.Sj=function(a){var b,c,g,d,f=a.ai,e=a.Kh,h=this.Hk.Gd();b=0;for(c=h.length;b<c;++b)g=h[b],d=g.tf,
!g.zb||a===d||-1<e.indexOf(d)||(e.push(d),d.Sj(a),f.push(d))};p.prototype.oa=function(a){this.b.Yr||(this.xi=!0,a||(this.b.Li=!0));var b,c;b=0;for(c=this.od.length;b<c;b++){var g=this.od[b];g.oa();this.b.Vh(g.T);this.b.rd&&this.b.Pa()}a||(this.b.Li=!1)};p.prototype.Kk=function(a,b){a.fc||this.b.Bh.push(a);var c,g,d=a.ta[b],f;d.type?f=d.type.name:f="system";var e=(c=d.rk)?this.sk:this.Cm;e[f]||(e[f]=[]);f=e[f];e=d.Ka;if(c){if(d.C.length&&(d=d.C[0],1===d.type&&2===d.tc.type)){d=d.tc.value.toLowerCase();
c=0;for(g=f.length;c<g;c++)if(f[c].method==e){c=f[c].lf;c[d]?c[d].push([a,b]):c[d]=[[a,b]];return}c={};c[d]=[[a,b]];f.push({method:e,lf:c})}}else{c=0;for(g=f.length;c<g;c++)if(f[c].method==e){f[c].lf.push([a,b]);return}Z&&e===Z.prototype.I.te?f.unshift({method:e,lf:[[a,b]]}):f.push({method:e,lf:[[a,b]]})}};xb=p;u.prototype.Ek=function(){return this.Y?this.type.c.length:this.c.length};u.prototype.Xb=function(){return this.Y?this.type.c:this.c};u.prototype.Rf=function(a){a&&(a.b.Wa().bb.fc?(this.Y&&
(T(this.c),va(this.J,a.type.c),this.Y=!1),a=this.J.indexOf(a),-1!==a&&(this.c.push(this.J[a]),this.J.splice(a,1))):(this.Y=!1,T(this.c),this.c[0]=a))};gb=u;window._c2hh_="6617C1EBA04C21CAB7BBE4086461FFAA58C62F97";r.prototype.ia=function(a){var b,c=this.parent;if(this.group)for(this.Ah=!0;c;){if(!c.group){this.Ah=!1;break}c=c.parent}this.Aj=!this.Vk()&&(!this.parent||this.parent.group&&this.parent.Ah);this.Gk=!!a;this.Dd=this.T.slice(0);for(c=this.parent;c;){a=0;for(b=c.T.length;a<b;a++)this.vn(c.T[a]);
c=c.parent}this.T=n(this.T);this.Dd=n(this.Dd);a=0;for(b=this.ta.length;a<b;a++)this.ta[a].ia();a=0;for(b=this.Tb.length;a<b;a++)this.Tb[a].ia();a=0;for(b=this.Qb.length;a<b;a++)this.Qb[a].ia(a<b-1&&this.Qb[a+1].Pg)};r.prototype.vq=function(a){if(this.qf!==!!a){this.qf=!!a;var b;a=0;for(b=this.ug.length;a<b;++a)this.ug[a].Im();0<b&&this.b.P.Pd&&this.b.P.Pd.Fj()}};r.prototype.Tj=function(a){c(a,this.T)};r.prototype.vn=function(a){c(a,this.Dd)};r.prototype.rh=function(){this.tj=!0;this.parent&&this.parent.rh()};
r.prototype.Vk=function(){return this.ta.length?this.ta[0].trigger:!1};r.prototype.oa=function(){var a,b,c=!1,d=this.b,g=this.b.Wa();g.bb=this;var f=this.ta;this.Pg||(g.bi=!1);if(this.fc){0===f.length&&(c=!0);g.ra=0;for(a=f.length;g.ra<a;g.ra++)b=f[g.ra],b.trigger||(b=b.oa())&&(c=!0);(g.$d=c)&&this.ph()}else{g.ra=0;for(a=f.length;g.ra<a;g.ra++)if(b=f[g.ra].oa(),!b){g.$d=!1;this.Aj&&d.rd&&d.Pa();return}g.$d=!0;this.ph()}this.ko(g)};r.prototype.ko=function(a){a.$d&&this.Gk&&(a.bi=!0);this.Aj&&this.b.rd&&
this.b.Pa()};r.prototype.pq=function(a){this.b.Wa().bb=this;this.ta[a].oa()&&(this.ph(),this.b.Wa().$d=!0)};r.prototype.ph=function(){var a=this.b.Wa(),b;a.Jb=0;for(b=this.Tb.length;a.Jb<b;a.Jb++)if(this.Tb[a.Jb].oa())return;this.cm()};r.prototype.nq=function(){var a=this.b.Wa(),b;for(b=this.Tb.length;a.Jb<b;a.Jb++)if(this.Tb[a.Jb].oa())return;this.cm()};r.prototype.cm=function(){if(this.Qb.length){var a,b,c,g,d=this.Qb.length-1;this.b.mh(this);if(this.tj)for(a=0,b=this.Qb.length;a<b;a++)c=this.Qb[a],
(g=!this.Ah||!this.group&&a<d)&&this.b.lh(c.T),c.oa(),g?this.b.he(c.T):this.b.Vh(c.T);else for(a=0,b=this.Qb.length;a<b;a++)this.Qb[a].oa();this.b.jh()}};r.prototype.qq=function(){var a=this.b.Wa();a.bb=this;var b=!1,c;a.ra=0;for(c=this.ta.length;a.ra<c;a.ra++)if(this.ta[a.ra].oa())b=!0;else if(!this.fc)return!1;return this.fc?b:!0};r.prototype.$l=function(){this.b.mf++;var a=this.b.Wa().ra,b=this.b.mh(this);if(!this.fc)for(b.ra=a+1,a=this.ta.length;b.ra<a;b.ra++)if(!this.ta[b.ra].oa()){this.b.jh();
return}this.ph();this.b.jh()};r.prototype.Ip=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.ta[b].type===a.type)return!1;return!0};Qb=r;b.prototype.ia=function(){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.ia(),c.Sb&&(this.Ze=!0)};b.prototype.sq=function(){return!0};b.prototype.oj=function(){var a,b;a=0;for(b=this.C.length;a<b;a++)this.ea[a]=this.C[a].get();return Na(this.Ka.apply(this.b.Ac,this.ea),this.Gi)};b.prototype.rq=function(){var a,b;a=0;for(b=this.C.length;a<
b;a++)this.ea[a]=this.C[a].get();a=this.Ka.apply(this.Kd?this.Kd:this.type,this.ea);this.type.Jd();return a};b.prototype.nj=function(){var a,b,c,g,d,f,e,h,l=this.type,m=l.O(),p=this.Ab.fc&&!this.trigger;b=0;var n=l.pb,v=l.K,r=l.Ic,w=this.Wb,u=-1<w,L=this.Ze,H=this.C,B=this.ea,J=this.Gi,O=this.Ka,C;if(L)for(b=0,d=H.length;b<d;++b)f=H[b],f.Sb||(B[b]=f.get(0));else for(b=0,d=H.length;b<d;++b)B[b]=H[b].get(0);if(m.Y){T(m.c);T(m.J);C=l.c;a=0;for(g=C.length;a<g;++a){h=C[a];if(L)for(b=0,d=H.length;b<d;++b)f=
H[b],f.Sb&&(B[b]=f.get(a));u?(b=0,v&&(b=h.type.Ae[r]),b=O.apply(h.u[w+b],B)):b=O.apply(h,B);(e=Na(b,J))?m.c.push(h):p&&m.J.push(h)}l.finish&&l.finish(!0);m.Y=!1;l.Jd();return m.Ek()}c=0;C=(e=p&&!this.Ab.Ip(this))?m.J:m.c;var A=!1;a=0;for(g=C.length;a<g;++a){h=C[a];if(L)for(b=0,d=H.length;b<d;++b)f=H[b],f.Sb&&(B[b]=f.get(a));u?(b=0,v&&(b=h.type.Ae[r]),b=O.apply(h.u[w+b],B)):b=O.apply(h,B);if(Na(b,J))if(A=!0,e){if(m.c.push(h),n)for(b=0,d=h.siblings.length;b<d;b++)f=h.siblings[b],f.type.O().c.push(f)}else{C[c]=
h;if(n)for(b=0,d=h.siblings.length;b<d;b++)f=h.siblings[b],f.type.O().c[c]=f;c++}else if(e){C[c]=h;if(n)for(b=0,d=h.siblings.length;b<d;b++)f=h.siblings[b],f.type.O().J[c]=f;c++}else if(p&&(m.J.push(h),n))for(b=0,d=h.siblings.length;b<d;b++)f=h.siblings[b],f.type.O().J.push(f)}ua(C,c);if(n)for(v=l.lb,a=0,g=v.length;a<g;a++)h=v[a].O(),e?ua(h.J,c):ua(h.c,c);c=A;if(e&&!A)for(a=0,g=m.c.length;a<g;a++){h=m.c[a];if(L)for(b=0,d=H.length;b<d;b++)f=H[b],f.Sb&&(B[b]=f.get(a));b=u?O.apply(h.u[w],B):O.apply(h,
B);if(Na(b,J)){A=!0;break}}l.finish&&l.finish(c||p);return p?A:m.Ek()};Lb=b;h.prototype.ia=function(){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.ia(),c.Sb&&(this.Ze=!0)};h.prototype.oj=function(){var a=this.b,b,c,d=this.C,g=this.ea;b=0;for(c=d.length;b<c;++b)g[b]=d[b].get();return this.Ka.apply(a.Ac,g)};h.prototype.nj=function(){var a=this.type,b=this.Wb,c=a.Ic,d=this.Ze,g=this.C,f=this.ea,e=this.Ka,h=a.O().Xb(),a=a.K,l=-1<b,m,p,n,v,r,w;if(d)for(p=0,v=g.length;p<v;++p)r=g[p],r.Sb||(f[p]=
r.get(0));else for(p=0,v=g.length;p<v;++p)f[p]=g[p].get(0);m=0;for(n=h.length;m<n;++m){w=h[m];if(d)for(p=0,v=g.length;p<v;++p)r=g[p],r.Sb&&(f[p]=r.get(m));l?(p=0,a&&(p=w.type.Ae[c]),e.apply(w.u[b+p],f)):e.apply(w,f)}return!1};Mb=h;var w=[],L=-1;a.prototype.ia=function(){var a,b;if(11===this.type)this.Qd=this.b.Bk(this.gg,this.Ab.parent);else if(13===this.type)for(a=0,b=this.oe.length;a<b;a++)this.oe[a].ia();this.tc&&this.tc.ia()};a.prototype.Rp=function(a){this.Sb||!a||a.da.th||(this.Sb=!0)};a.prototype.km=
function(){this.Sb=!0};a.prototype.np=function(a){this.Sc=a||0;a=f();this.tc.get(a);L--;return a.data};a.prototype.op=function(a){this.Sc=a||0;a=f();this.tc.get(a);L--;return F(a.data)?a.data:""};a.prototype.up=function(){return this.object};a.prototype.lp=function(){return this.ik};a.prototype.sp=function(a){this.Sc=a||0;a=f();this.tc.get(a);L--;return a.Da()?this.b.dp(a.data):this.b.cp(a.data)};a.prototype.tp=function(){return this.Ea};a.prototype.rp=function(){return this.key};a.prototype.qp=function(){return this.index};
a.prototype.pp=function(a){a=a||0;var b=this.Pb.type,c=null,c=b.O(),g=c.Xb();if(g.length)c=g[a%g.length].type;else if(c.J.length)c=c.J[a%c.J.length].type;else if(b.c.length)c=b.c[a%b.c.length].type;else return 0;return this.index+c.Cg[b.Ic]};a.prototype.mp=function(){return this.Qd};a.prototype.kp=function(){return this.vk};a.prototype.vp=function(){var a,b;a=0;for(b=this.oe.length;a<b;a++)this.fg[a]=this.oe[a].get();return this.fg};Nb=a;d.prototype.ia=function(){this.T=n(this.T)};d.prototype.sh=
function(a){var b=this.b.Ak();this.parent&&!this.Af&&b?(this.ee>=b.length&&(b.length=this.ee+1),b[this.ee]=a):this.data=a};d.prototype.jp=function(){var a=this.b.Ak();return!this.parent||this.Af||!a||this.Og?this.data:this.ee>=a.length||"undefined"===typeof a[this.ee]?this.Ci:a[this.ee]};d.prototype.oa=function(){!this.parent||this.Af||this.Og||this.sh(this.Ci)};Hb=d;l.prototype.toString=function(){return"include:"+this.tf.toString()};l.prototype.ia=function(){this.tf=this.b.di[this.Bp];this.sheet.Hk.add(this);
this.T=n(this.T);for(var a=this.parent;a;)a.group&&a.ug.push(this),a=a.parent;this.Im()};l.prototype.oa=function(){this.parent&&this.b.Tf(this.b.i);this.tf.xi||this.tf.oa(!0);this.parent&&this.b.he(this.b.i)};l.prototype.Im=function(){for(var a=this.parent;a;){if(a.group&&!a.qf){this.zb=!1;return}a=a.parent}this.zb=!0};Rb=l;g.prototype.reset=function(a){this.bb=a;this.Jb=this.ra=0;T(this.um);this.bi=this.$d=!1};g.prototype.Jp=function(){return this.bb.tj?!0:this.ra<this.bb.ta.length-1?!!this.bb.T.length:
!1};Gb=g})();
(function(){function e(c,b){this.Pb=c;this.b=c.b;this.type=b[0];this.get=[this.Bo,this.xo,this.Ko,this.No,this.mo,this.Lo,this.Fo,this.uo,this.Eo,this.Jo,this.no,this.Io,this.vo,this.Go,this.Co,this.Do,this.yo,this.zo,this.to,this.Mo,this.Ho,this.Ao,this.so,this.wo][this.type];var e=null;this.Oc=this.C=this.ea=this.Ka=this.zh=this.second=this.first=this.value=null;this.Wb=-1;this.Yb=null;this.Km=-1;this.Qd=this.gg=null;this.Qe=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Pb(c,b[1]);break;case 18:this.first=new Pb(c,b[1]);this.second=new Pb(c,b[2]);this.zh=new Pb(c,b[3]);break;case 19:this.Ka=this.b.Yc(b[1]);this.Ka!==Y.prototype.V.random&&this.Ka!==Y.prototype.V.En||this.Pb.km();this.ea=[];this.C=[];3===b.length?(e=b[2],this.ea.length=e.length+1):this.ea.length=1;break;case 20:this.Oc=this.b.i[b[1]];this.Wb=-1;this.Ka=this.b.Yc(b[2]);this.Qe=b[3];Tb.Function&&this.Ka===Tb.Function.prototype.V.Sq&&this.Pb.km();b[4]?this.Yb=new Pb(c,b[4]):this.Yb=null;this.ea=[];
this.C=[];6===b.length?(e=b[5],this.ea.length=e.length+1):this.ea.length=1;break;case 21:this.Oc=this.b.i[b[1]];this.Qe=b[2];b[3]?this.Yb=new Pb(c,b[3]):this.Yb=null;this.Km=b[4];break;case 22:this.Oc=this.b.i[b[1]];this.Oc.Hg(b[2]);this.Wb=this.Oc.li(b[2]);this.Ka=this.b.Yc(b[3]);this.Qe=b[4];b[5]?this.Yb=new Pb(c,b[5]):this.Yb=null;this.ea=[];this.C=[];7===b.length?(e=b[6],this.ea.length=e.length+1):this.ea.length=1;break;case 23:this.gg=b[1],this.Qd=null}this.Pb.Rp(this.Oc);4<=this.type&&17>=this.type&&
(this.first=new Pb(c,b[1]),this.second=new Pb(c,b[2]));if(e){var f,a;f=0;for(a=e.length;f<a;f++)this.C.push(new Pb(c,e[f]))}}function m(){++r;u.length===r&&u.push(new Ob);return u[r]}function n(c,b,e){var f,a;f=0;for(a=c.length;f<a;++f)c[f].get(e),b[f+1]=e.data}function p(c,b){this.type=c||V.se;this.data=b||0;this.fe=null;this.type==V.se&&(this.data=Math.floor(this.data))}e.prototype.ia=function(){23===this.type&&(this.Qd=this.Pb.b.Bk(this.gg,this.Pb.Ab.parent));this.first&&this.first.ia();this.second&&
this.second.ia();this.zh&&this.zh.ia();this.Yb&&this.Yb.ia();if(this.C){var c,b;c=0;for(b=this.C.length;c<b;c++)this.C[c].ia()}};var u=[],r=-1;e.prototype.Mo=function(c){var b=this.C,e=this.ea;e[0]=c;c=m();n(b,e,c);--r;this.Ka.apply(this.b.Ac,e)};e.prototype.Ho=function(c){var b=this.Oc,e=this.ea,f=this.C,a=this.Yb,d=this.Ka,l=this.Pb.Sc,g=b.O(),p=g.Xb();if(!p.length)if(g.J.length)p=g.J;else{this.Qe?c.rb(""):c.R(0);return}e[0]=c;c.fe=b;c=m();n(f,e,c);a&&(a.get(c),c.Da()&&(l=c.data,p=b.c));--r;b=p.length;
if(l>=b||l<=-b)l%=b;0>l&&(l+=b);d.apply(p[l],e)};e.prototype.so=function(c){var b=this.Oc,e=this.ea,f=this.C,a=this.Yb,d=this.Wb,l=this.Ka,g=this.Pb.Sc,p=b.O(),w=p.Xb();if(!w.length)if(p.J.length)w=p.J;else{this.Qe?c.rb(""):c.R(0);return}e[0]=c;c.fe=b;c=m();n(f,e,c);a&&(a.get(c),c.Da()&&(g=c.data,w=b.c));--r;f=w.length;if(g>=f||g<=-f)g%=f;0>g&&(g+=f);g=w[g];w=0;b.K&&(w=g.type.Ae[b.Ic]);l.apply(g.u[d+w],e)};e.prototype.Ao=function(c){var b=this.Yb,e=this.Oc,f=this.Km,a=this.Pb.Sc,d=e.O(),l=d.Xb();
if(!l.length)if(d.J.length)l=d.J;else{this.Qe?c.rb(""):c.R(0);return}if(b){d=m();b.get(d);if(d.Da()){a=d.data;l=e.c;0!==l.length&&(a%=l.length,0>a&&(a+=l.length));a=e.qi(a);e=a.va[f];F(e)?c.rb(e):c.D(e);--r;return}--r}b=l.length;if(a>=b||a<=-b)a%=b;0>a&&(a+=b);a=l[a];l=0;e.K&&(l=a.type.Cg[e.Ic]);e=a.va[f+l];F(e)?c.rb(e):c.D(e)};e.prototype.Bo=function(c){c.type=V.se;c.data=this.value};e.prototype.xo=function(c){c.type=V.re;c.data=this.value};e.prototype.Ko=function(c){c.type=V.String;c.data=this.value};
e.prototype.No=function(c){this.first.get(c);c.Da()&&(c.data=-c.data)};e.prototype.mo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Da()&&b.Da()&&(c.data+=b.data,b.Ee()&&c.Me());--r};e.prototype.Lo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Da()&&b.Da()&&(c.data-=b.data,b.Ee()&&c.Me());--r};e.prototype.Fo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Da()&&b.Da()&&(c.data*=b.data,b.Ee()&&c.Me());--r};e.prototype.uo=function(c){this.first.get(c);var b=
m();this.second.get(b);c.Da()&&b.Da()&&(c.data/=b.data,c.Me());--r};e.prototype.Eo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Da()&&b.Da()&&(c.data%=b.data,b.Ee()&&c.Me());--r};e.prototype.Jo=function(c){this.first.get(c);var b=m();this.second.get(b);c.Da()&&b.Da()&&(c.data=Math.pow(c.data,b.data),b.Ee()&&c.Me());--r};e.prototype.no=function(c){this.first.get(c);var b=m();this.second.get(b);b.Ge()||c.Ge()?this.po(c,b):this.oo(c,b);--r};e.prototype.po=function(c,b){c.Ge()&&b.Ge()?
this.ro(c,b):this.qo(c,b)};e.prototype.ro=function(c,b){c.data+=b.data};e.prototype.qo=function(c,b){c.Ge()?c.data+=(Math.round(1E10*b.data)/1E10).toString():c.rb(c.data.toString()+b.data)};e.prototype.oo=function(c,b){c.R(c.data&&b.data?1:0)};e.prototype.Io=function(c){this.first.get(c);var b=m();this.second.get(b);c.Da()&&b.Da()&&(c.data||b.data?c.R(1):c.R(0));--r};e.prototype.to=function(c){this.first.get(c);c.data?this.second.get(c):this.zh.get(c)};e.prototype.vo=function(c){this.first.get(c);
var b=m();this.second.get(b);c.R(c.data===b.data?1:0);--r};e.prototype.Go=function(c){this.first.get(c);var b=m();this.second.get(b);c.R(c.data!==b.data?1:0);--r};e.prototype.Co=function(c){this.first.get(c);var b=m();this.second.get(b);c.R(c.data<b.data?1:0);--r};e.prototype.Do=function(c){this.first.get(c);var b=m();this.second.get(b);c.R(c.data<=b.data?1:0);--r};e.prototype.yo=function(c){this.first.get(c);var b=m();this.second.get(b);c.R(c.data>b.data?1:0);--r};e.prototype.zo=function(c){this.first.get(c);
var b=m();this.second.get(b);c.R(c.data>=b.data?1:0);--r};e.prototype.wo=function(c){var b=this.Qd.jp();ha(b)?c.D(b):c.rb(b)};Pb=e;p.prototype.Ee=function(){return this.type===V.re};p.prototype.Da=function(){return this.type===V.se||this.type===V.re};p.prototype.Ge=function(){return this.type===V.String};p.prototype.Me=function(){this.Ee()||(this.Ge()&&(this.data=parseFloat(this.data)),this.type=V.re)};p.prototype.R=function(c){this.type=V.se;this.data=Math.floor(c)};p.prototype.D=function(c){this.type=
V.re;this.data=c};p.prototype.rb=function(c){this.type=V.String;this.data=c};p.prototype.xq=function(c){ha(c)?(this.type=V.re,this.data=c):F(c)?(this.type=V.String,this.data=c.toString()):(this.type=V.se,this.data=0)};Ob=p;V={se:0,re:1,String:2}})();function Y(e){this.b=e;this.yb=[]}
Y.prototype.Gb=function(){var e={},m,n,p,u,r,c,b,h;e.waits=[];var f=e.waits,a;m=0;for(n=this.yb.length;m<n;m++){c=this.yb[m];a={t:c.time,st:c.yq,s:c.pm,ev:c.kf.H,sm:[],sols:{}};c.kf.Tb[c.Jb]&&(a.act=c.kf.Tb[c.Jb].H);p=0;for(u=c.T.length;p<u;p++)a.sm.push(c.T[p].H);for(r in c.sb)if(c.sb.hasOwnProperty(r)){b=this.b.i[parseInt(r,10)];h={sa:c.sb[r].dm,insts:[]};p=0;for(u=c.sb[r].Vd.length;p<u;p++)h.insts.push(c.sb[r].Vd[p].uid);a.sols[b.H.toString()]=h}f.push(a)}return e};
Y.prototype.ec=function(e){e=e.waits;var m,n,p,u,r,c,b,h,f,a,d;T(this.yb);m=0;for(n=e.length;m<n;m++)if(c=e[m],h=this.b.ak[c.ev.toString()]){f=-1;p=0;for(u=h.Tb.length;p<u;p++)if(h.Tb[p].H===c.act){f=p;break}if(-1!==f){b={sb:{},T:[],mk:!1};b.time=c.t;b.yq=c.st||"";b.pm=!!c.s;b.kf=h;b.Jb=f;p=0;for(u=c.sm.length;p<u;p++)(h=this.b.Jg(c.sm[p]))&&b.T.push(h);for(r in c.sols)if(c.sols.hasOwnProperty(r)&&(h=this.b.Jg(parseInt(r,10)))){f=c.sols[r];a={dm:f.sa,Vd:[]};p=0;for(u=f.insts.length;p<u;p++)(d=this.b.ri(f.insts[p]))&&
a.Vd.push(d);b.sb[h.index.toString()]=a}this.yb.push(b)}}};
(function(){function e(){}function m(){}function n(){}var p=Y.prototype;e.prototype.Wm=function(){return!0};e.prototype.Mj=function(){return!0};e.prototype.en=function(){return!0};e.prototype.jn=function(c){var b=this.b.Wa(),e=b.bb,f=b.Jp(),b=this.b.jq();if(f)for(f=0;f<c&&!b.vj;f++)this.b.lh(e.T),b.index=f,e.$l(),this.b.he(e.T);else for(f=0;f<c&&!b.vj;f++)b.index=f,e.$l();this.b.$p();return!1};e.prototype.Vm=function(){var c=this.b.Wa();return c.bi?!1:!c.$d};e.prototype.Nj=function(){return!0};e.prototype.cn=
function(){return!0};e.prototype.Ih=function(){return!0};e.prototype.Oj=function(){return!0};e.prototype.gn=function(){return!0};e.prototype.Hh=function(){return!0};e.prototype.Nm=function(c,b,e){return Ja(U(c),U(e))<=U(b)};e.prototype.Ym=function(c,b){return La(U(c),U(b))};e.prototype.Xm=function(c,b,e){c=Ha(c);b=Ha(b);e=Ha(e);return La(e,b)?La(c,b)&&!La(c,e):!(!La(c,b)&&La(c,e))};p.I=new e;m.prototype.Um=function(c,b,e,f){if(b&&c&&(b=this.b.jk(c,b,e,f))){this.b.ac++;var a;this.b.trigger(Object.getPrototypeOf(c.da).I.kg,
b);if(b.pb)for(e=0,f=b.siblings.length;e<f;e++)a=b.siblings[e],this.b.trigger(Object.getPrototypeOf(a.type.da).I.kg,a);this.b.ac--;c=c.O();c.Y=!1;T(c.c);c.c[0]=b;if(b.pb)for(e=0,f=b.siblings.length;e<f;e++)a=b.siblings[e],c=a.type.O(),c.Y=!1,T(c.c),c.c[0]=a}};m.prototype.pn=function(c,b){0===c.Lm?ha(b)?c.sh(b):c.sh(parseFloat(b)):1===c.Lm&&c.sh(b.toString())};var u=[],r=[];p.qa=new m;n.prototype["int"]=function(c,b){F(b)?(c.R(parseInt(b,10)),isNaN(c.data)&&(c.data=0)):c.R(b)};n.prototype["float"]=
function(c,b){F(b)?(c.D(parseFloat(b)),isNaN(c.data)&&(c.data=0)):c.D(b)};n.prototype.random=function(c,b,e){void 0===e?c.D(Math.random()*b):c.D(Math.random()*(e-b)+b)};n.prototype.sqrt=function(c,b){c.D(Math.sqrt(b))};n.prototype.abs=function(c,b){c.D(Math.abs(b))};n.prototype.round=function(c,b){c.R(Math.round(b))};n.prototype.floor=function(c,b){c.R(Math.floor(b))};n.prototype.ceil=function(c,b){c.R(Math.ceil(b))};n.prototype.sin=function(c,b){c.D(Math.sin(U(b)))};n.prototype.cos=function(c,b){c.D(Math.cos(U(b)))};
n.prototype.tan=function(c,b){c.D(Math.tan(U(b)))};n.prototype.asin=function(c,b){c.D(Da(Math.asin(b)))};n.prototype.acos=function(c,b){c.D(Da(Math.acos(b)))};n.prototype.atan=function(c,b){c.D(Da(Math.atan(b)))};n.prototype.exp=function(c,b){c.D(Math.exp(b))};n.prototype.log10=function(c,b){c.D(Math.log(b)/Math.LN10)};n.prototype.max=function(c){var b=arguments[1];"number"!==typeof b&&(b=0);var e,f,a;e=2;for(f=arguments.length;e<f;e++)a=arguments[e],"number"===typeof a&&b<a&&(b=a);c.D(b)};n.prototype.min=
function(c){var b=arguments[1];"number"!==typeof b&&(b=0);var e,f,a;e=2;for(f=arguments.length;e<f;e++)a=arguments[e],"number"===typeof a&&b>a&&(b=a);c.D(b)};n.prototype.Nd=function(c){c.D(this.b.Nd)};n.prototype.eg=function(c){c.D(this.b.eg)};n.prototype.time=function(c){c.D(this.b.Nb.ha)};n.prototype.bg=function(c){c.R(this.b.bg)};n.prototype.fh=function(c){c.R(this.b.fh)};n.prototype.ii=function(c){c.R(this.b.ii)};n.prototype.d=function(c,b,e,f,a){c.D(Da(Ia(b,e,f,a)))};n.prototype.left=function(c,
b,e){c.rb(F(b)?b.substr(0,e):"")};n.prototype.right=function(c,b,e){c.rb(F(b)?b.substr(b.length-e):"")};n.prototype.replace=function(c,b,e,f){F(b)&&F(e)&&F(f)?c.rb(b.replace(new RegExp(Wa(e),"gi"),f)):c.rb(F(b)?b:"")};n.prototype.trim=function(c,b){c.rb(F(b)?b.trim():"")};n.prototype.En=function(c){var b=Q(Math.random()*(arguments.length-1));c.xq(arguments[b+1])};n.prototype.Xh=function(c){c.D(this.b.Xh/1E3)};n.prototype.Wg=function(c){c.D(this.b.Wg)};p.V=new n;p.oq=function(){var c,b,e,f,a,d,l=this.b.Wa();
c=0;for(e=this.yb.length;c<e;c++){f=this.yb[c];if(-1===f.time){if(!f.pm)continue}else if(f.time>this.b.Nb.ha)continue;l.bb=f.kf;l.Jb=f.Jb;l.ra=0;for(b in f.sb)f.sb.hasOwnProperty(b)&&(a=this.b.i[parseInt(b,10)].O(),d=f.sb[b],a.Y=d.dm,va(a.c,d.Vd),a=d,T(a.Vd),r.push(a));f.kf.nq();this.b.Vh(f.T);f.mk=!0}b=c=0;for(e=this.yb.length;c<e;c++)f=this.yb[c],this.yb[b]=f,f.mk?(Pa(f.sb),T(f.T),u.push(f)):b++;ua(this.yb,b)}})();
(function(){fb=function(e,n){var p=e[1],u=e[3],r=e[4],c=e[5],b=e[6],h=e[7],f=e[8];n.I||(n.I={});n.qa||(n.qa={});n.V||(n.V={});var a=n.I,d=n.qa,l=n.V;u&&(a.Xq=function(a,b){return Sb(this.x,a,b)},a.Yq=function(a,b){return Sb(this.y,a,b)},a.er=function(){var a=this.g;this.Z();var b=this.M;return!(b.right<a.aa||b.bottom<a.ba||b.left>a.la||b.top>a.ka)},a.fr=function(){this.Z();var a=this.M,b=this.b.P;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},a.rr=function(a,b,c){var d=this.O(),f=d.Xb();
if(!f.length)return!1;var e=f[0],l=e,h=Ma(e.x,e.y,b,c),m,p,n;m=1;for(p=f.length;m<p;m++)if(e=f[m],n=Ma(e.x,e.y,b,c),0===a&&n<h||1===a&&n>h)h=n,l=e;d.Rf(l);return!0},d.Jr=function(a){this.x!==a&&(this.x=a,this.fa())},d.Kr=function(a){this.y!==a&&(this.y=a,this.fa())},d.Qj=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.fa()},d.Gr=function(a,b){var c=a.fp(this);if(c){var d;c.pi?(d=c.pi(b,!0),c=c.pi(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.fa()}},d.kr=function(a){0!==
a&&(this.x+=Math.cos(this.d)*a,this.y+=Math.sin(this.d)*a,this.fa())},d.jr=function(a,b){0!==b&&(this.x+=Math.cos(U(a))*b,this.y+=Math.sin(U(a))*b,this.fa())},l.sn=function(a){a.D(this.x)},l.tn=function(a){a.D(this.y)},l.Nd=function(a){a.D(this.b.mi(this))});r&&(a.Wq=function(a,b){return Sb(this.width,a,b)},a.Tq=function(a,b){return Sb(this.height,a,b)},d.Ir=function(a){this.width!==a&&(this.width=a,this.fa())},d.Fr=function(a){this.height!==a&&(this.height=a,this.fa())},d.nn=function(a,b){if(this.width!==
a||this.height!==b)this.width=a,this.height=b,this.fa()},l.Rj=function(a){a.D(this.width)},l.Lj=function(a){a.D(this.height)},l.Pm=function(a){this.Z();a.D(this.M.left)},l.Qm=function(a){this.Z();a.D(this.M.top)},l.Rq=function(a){this.Z();a.D(this.M.right)},l.Qq=function(a){this.Z();a.D(this.M.bottom)});c&&(a.Nm=function(a,b){return Ja(this.d,U(b))<=U(a)},a.Ym=function(a){return La(this.d,U(a))},a.Xm=function(a,b){var c=Ha(a),d=Ha(b),f=Fa(this.d);return La(d,c)?La(f,c)&&!La(f,d):!(!La(f,c)&&La(f,
d))},d.Br=function(a){a=U(Ea(a));isNaN(a)||this.d===a||(this.d=a,this.fa())},d.wr=function(a){0===a||isNaN(a)||(this.d+=U(a),this.d=Fa(this.d),this.fa())},d.xr=function(a){0===a||isNaN(a)||(this.d-=U(a),this.d=Fa(this.d),this.fa())},d.yr=function(a,b){var c=Ka(this.d,U(b),U(a));isNaN(c)||this.d===c||(this.d=c,this.fa())},d.Ar=function(a,b,c){a=Ka(this.d,Math.atan2(c-this.y,b-this.x),U(a));isNaN(a)||this.d===a||(this.d=a,this.fa())},d.Hr=function(a,b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||
this.d===c||(this.d=c,this.fa())},l.Pq=function(a){a.D(Ga(this.d))});p||(a.Uq=function(a,b,c){return Sb(this.va[a],b,c)},a.cr=function(a){return this.va[a]},a.sr=function(a,b){var c=this.O(),d=c.Xb();if(!d.length)return!1;var f=d[0],e=f,l=f.va[b],h,m,p;h=1;for(m=d.length;h<m;h++)if(f=d[h],p=f.va[b],0===a&&p<l||1===a&&p>l)l=p,e=f;c.Rf(e);return!0},a.qr=function(a){var b,c,d,f,e;if(this.b.Wo().Gi){e=this.O();if(e.Y)for(e.Y=!1,T(e.c),T(e.J),d=this.c,b=0,c=d.length;b<c;b++)f=d[b],f.uid===a?e.J.push(f):
e.c.push(f);else{d=b=0;for(c=e.c.length;b<c;b++)f=e.c[b],e.c[d]=f,f.uid===a?e.J.push(f):d++;ua(e.c,d)}this.Jd();return!!e.c.length}f=this.b.ri(a);if(!f)return!1;e=this.O();if(!e.Y&&-1===e.c.indexOf(f))return!1;if(this.K)for(a=f.type.X,b=0,c=a.length;b<c;b++){if(a[b]===this)return e.Rf(f),this.Jd(),!0}else if(f.type===this)return e.Rf(f),this.Jd(),!0;return!1},a.kg=function(){return!0},a.dn=function(){return!0},d.Pj=function(a,b){var c=this.va;ha(c[a])?c[a]=ha(b)?b:parseFloat(b):F(c[a])&&(c[a]=F(b)?
b:b.toString())},d.Oq=function(a,b){var c=this.va;ha(c[a])?c[a]=ha(b)?c[a]+b:c[a]+parseFloat(b):F(c[a])&&(c[a]=F(b)?c[a]+b:c[a]+b.toString())},d.Lr=function(a,b){var c=this.va;ha(c[a])&&(c[a]=ha(b)?c[a]-b:c[a]-parseFloat(b))},d.Cr=function(a,b){this.va[a]=b?1:0},d.Mr=function(a){this.va[a]=1-this.va[a]},d.$q=function(){this.b.qe(this)},d.$m||(d.$m=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.Vg(this,b,!0);this.ad&&this.ad();if(this.u)for(a=0,b=this.u.length;a<b;++a)c=this.u[a],c.ad&&
c.ad()}),l.Zq=function(a){var b=a.fe.c.length,c,d,f;c=0;for(d=this.b.rc.length;c<d;c++)f=this.b.rc[c],a.fe.K?0<=f.type.X.indexOf(a.fe)&&b++:f.type===a.fe&&b++;a.R(b)},l.ur=function(a){a.R(a.fe.O().Xb().length)},l.Nr=function(a){a.R(this.uid)},l.br=function(a){a.R(this.pf())},l.Om||(l.Om=function(a){a.rb(JSON.stringify(this.b.pj(this,!0)))}));b&&(a.gr=function(){return this.visible},d.qn=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.N=!0)},a.Vq=function(a,b){return Sb(bb(100*this.opacity),
a,b)},d.ln=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.N=!0)},l.Opacity=function(a){a.D(bb(100*this.opacity))});h&&(a.dr=function(a){return a?this.g===a:!1},a.tr=function(a){var b=this.O(),c=b.Xb();if(!c.length)return!1;var d=c[0],f=d,e,l;e=1;for(l=c.length;e<l;e++)if(d=c[e],0===a){if(d.g.index>f.g.index||d.g.index===f.g.index&&d.uc()>f.uc())f=d}else if(d.g.index<f.g.index||d.g.index===f.g.index&&d.uc()<f.uc())f=d;b.Rf(f);return!0},d.nr=function(){var a=this.g,
b=a.c;b.length&&b[b.length-1]===this||(a.Pe(this,!1),a.bf(this,!1),this.b.N=!0)},d.lr=function(){var a=this.g,b=a.c;b.length&&b[0]===this||(a.Pe(this,!1),a.fq(this),this.b.N=!0)},d.mr=function(a){a&&a!=this.g&&(this.g.Pe(this,!0),this.g=a,a.bf(this,!0),this.b.N=!0)},d.Pr=function(a,b){var c=0===a;if(b){var d=b.Yo(this);d&&d.uid!==this.uid&&(this.g.index!==d.g.index&&(this.g.Pe(this,!0),this.g=d.g,d.g.bf(this,!0)),this.g.Sp(this,d,c),this.b.N=!0)}},l.ir=function(a){a.R(this.g.Dl)},l.hr=function(a){a.rb(this.g.name)},
l.Or=function(a){a.R(this.uc())});f&&(d.Dr=function(a,b){if(this.b.j){var c=this.type.oi(b);if(!(0>c)){var d=1===a;this.Zc[c]!==d&&(this.Zc[c]=d,this.oc(),this.b.N=!0)}}},d.Er=function(a,b,c){if(this.b.j){var d=this.type.oi(a);0>d||(a=this.type.q[d],d=this.U[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.j.ip(a.ja,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.zb&&(this.b.N=!0))))}})};yb=function(){this.Qh=this.Mh=!0;this.type.Wj=!0;this.b.N=!0;var e,n,p=this.Nh;e=0;for(n=p.length;e<n;++e)p[e](this);this.g.Hb&&
this.Z()};zb=function(e){e&&this.Nh.push(e)};Bb=function(){if(this.Mh){var e=this.M,n=this.ab;e.set(this.x,this.y,this.x+this.width,this.y+this.height);e.offset(-this.cb*this.width,-this.eb*this.height);this.d?(e.offset(-this.x,-this.y),n.mm(e,this.d),n.offset(this.x,this.y),n.bk(e)):n.Wf(e);e.normalize();this.Mh=!1;this.Hq()}};var e=new R(0,0,0,0);Cb=function(){if(this.g.Hb){var m=this.g.Na,n=this.M;e.set(m.Za(n.left),m.$a(n.top),m.Za(n.right),m.$a(n.bottom));this.fb.jf(e)||(this.fb.right<this.fb.left?
m.update(this,null,e):m.update(this,this.fb,e),this.fb.ef(e),this.g.lc=!0)}};Db=function(){if(this.Qh&&this.Ld){this.Z();var m=this.type.hk,n=this.M;e.set(m.Za(n.left),m.$a(n.top),m.Za(n.right),m.$a(n.bottom));this.jd.jf(e)||(this.jd.right<this.jd.left?m.update(this,null,e):m.update(this,this.jd,e),this.jd.ef(e),this.Qh=!1)}};Ab=function(e,n){return this.M.mb(e,n)&&this.ab.mb(e,n)?this.L&&!this.L.De()?(this.L.ve(this.width,this.height,this.d),this.L.mb(e-this.x,n-this.y)):!0:!1};ub=function(){this.type.Ch();
return this.Td};Eb=function(){this.g.Hj();return this.pc};Fb=function(){T(this.F);var e,n,p,u=!0;e=0;for(n=this.Zc.length;e<n;e++)this.Zc[e]&&(p=this.type.q[e],this.F.push(p),p.gc||(u=!1));this.Jj=!!this.F.length;this.Rc=u};vb=function(){return"Inst"+this.Ul};ib=function(e){if(e&&e.pb&&e.type!=this){var n,p,u;n=0;for(p=e.siblings.length;n<p;n++)if(u=e.siblings[n],u.type==this)return u}e=this.O().Xb();return e.length?e[0]:null};jb=function(e){var n=this.O().Xb();return n.length?n[e.pf()%n.length]:
null};hb=function(){if(this.Te&&!this.K){var e,n;e=0;for(n=this.c.length;e<n;e++)this.c[e].Td=e;var p=e,u=this.b.rc;e=0;for(n=u.length;e<n;++e)u[e].type===this&&(u[e].Td=p++);this.Te=!1}};sb=function(e){if(e<this.c.length)return this.c[e];e-=this.c.length;var n=this.b.rc,p,u;p=0;for(u=n.length;p<u;++p)if(n[p].type===this){if(0===e)return n[p];--e}return null};kb=function(){return this.Tc[this.sc]};lb=function(){this.sc++;this.sc===this.Tc.length?this.Tc.push(new gb(this)):(this.Tc[this.sc].Y=!0,T(this.Tc[this.sc].J))};
mb=function(){this.sc++;this.sc===this.Tc.length&&this.Tc.push(new gb(this));var e=this.Tc[this.sc],n=this.Tc[this.sc-1];n.Y?(e.Y=!0,T(e.J)):(e.Y=!1,va(e.c,n.c),va(e.J,n.J))};nb=function(){this.sc--};ob=function(e){var n,p,u,r,c,b=0;if(!this.K)for(n=0,p=this.X.length;n<p;n++)for(c=this.X[n],u=0,r=c.ca.length;u<r;u++){if(e===c.ca[u].name)return this.W.lastBehIndex=b,c.ca[u];b++}n=0;for(p=this.ca.length;n<p;n++){if(e===this.ca[n].name)return this.W.lastBehIndex=b,this.ca[n];b++}return null};pb=function(e){return this.Hg(e)?
this.W.lastBehIndex:-1};qb=function(e){var n,p;n=0;for(p=this.q.length;n<p;n++)if(this.q[n].name===e)return n;return-1};rb=function(){if(this.pb&&!this.K){var e,n,p,u,r,c,b;this.Ch();c=this.O();var h=c.Y,f=(e=this.b.Wa())&&e.bb&&e.bb.fc;e=0;for(n=this.lb.length;e<n;e++)if(r=this.lb[e],r!==this&&(r.Ch(),b=r.O(),b.Y=h,!h)){T(b.c);p=0;for(u=c.c.length;p<u;++p)b.c[p]=r.qi(c.c[p].Td);if(f)for(T(b.J),p=0,u=c.J.length;p<u;++p)b.J[p]=r.qi(c.J[p].Td)}}};tb=function(){return"Type"+this.H};Sb=function(e,n,p){if("undefined"===
typeof e||"undefined"===typeof p)return!1;switch(n){case 0:return e===p;case 1:return e!==p;case 2:return e<p;case 3:return e<=p;case 4:return e>p;case 5:return e>=p;default:return!1}}})();var ac={};function Z(e){this.b=e}
(function(){function e(){if(0===this.$h.length){var b=document.createElement("canvas");b.width=this.width;b.height=this.height;var a=b.getContext("2d");this.Se?a.drawImage(this.Ia,this.Ne,this.Oe,this.width,this.height,0,0,this.width,this.height):a.drawImage(this.Ia,0,0,this.width,this.height);this.$h=b.toDataURL("image/png")}return this.$h}function m(){}function n(){}var p=Z.prototype;p.Bc=function(b){this.da=b;this.b=b.b};var u=p.Bc.prototype;u.La=function(){if(!this.K){var b,a,c,l,g,h,p,n,k;this.Ub=
[];this.sf=!1;b=0;for(a=this.gb.length;b<a;b++){g=this.gb[b];p={};p.name=g[0];p.speed=g[1];p.loop=g[2];p.lj=g[3];p.mj=g[4];p.Nl=g[5];p.H=g[6];p.frames=[];c=0;for(l=g[7].length;c<l;c++)h=g[7][c],n={},n.wm=h[0],n.xm=h[1],n.Ne=h[2],n.Oe=h[3],n.width=h[4],n.height=h[5],n.duration=h[6],n.cb=h[7],n.eb=h[8],n.Ai=h[9],n.ih=h[10],n.Ol=h[11],n.Se=0!==n.width,n.$h="",n.Tr=e,k={left:0,top:0,right:1,bottom:1},n.sj=k,n.Wc=null,(k=this.b.Ro(h[0]))?n.Ia=k:(n.Ia=new Image,n.Ia.Hn=h[0],n.Ia.Gn=h[1],n.Ia.Cn=null,this.b.Lq(n.Ia,
h[0])),p.frames.push(n),this.Ub.push(n);this.gb[b]=p}}};u.Jm=function(){var b,a,c;b=0;for(a=this.c.length;b<a;b++)c=this.c[b],c.wg=c.Ca.Wc};u.Il=function(){if(!this.K){var b,a,c;b=0;for(a=this.Ub.length;b<a;++b)c=this.Ub[b],c.Ia.Cn=null,c.Wc=null;this.sf=!1;this.Jm()}};u.Jl=function(){if(!this.K&&this.c.length){var b,a,c;b=0;for(a=this.Ub.length;b<a;++b)c=this.Ub[b],c.Wc=this.b.j.cl(c.Ia,this.b.A,c.Ol);this.Jm()}};u.Op=function(){if(!this.K&&!this.sf&&this.b.j){var b,a,c;b=0;for(a=this.Ub.length;b<
a;++b)c=this.Ub[b],c.Wc=this.b.j.cl(c.Ia,this.b.A,c.Ol);this.sf=!0}};u.Gm=function(){if(!this.K&&!this.c.length&&this.sf){var b,a,c;b=0;for(a=this.Ub.length;b<a;++b)c=this.Ub[b],this.b.j.deleteTexture(c.Wc),c.Wc=null;this.sf=!1}};var r=[];u.Rl=function(b){var a,c,e;T(r);a=0;for(c=this.Ub.length;a<c;++a)e=this.Ub[a].Ia,-1===r.indexOf(e)&&(b.drawImage(e,0,0),r.push(e))};p.Ib=function(b){this.type=b;this.b=b.b;b=this.type.gb[0].frames[0].ih;this.kc?this.L.Xf(b):this.L=new Xa(b)};var c=p.Ib.prototype;
c.La=function(){this.visible=0===this.ic[0];this.Bi=this.Mi=!1;this.Ld=0!==this.ic[3];this.S=this.zk(this.ic[1])||this.type.gb[0];this.k=this.ic[2];0>this.k&&(this.k=0);this.k>=this.S.frames.length&&(this.k=this.S.frames.length-1);var b=this.S.frames[this.k];this.L.Xf(b.ih);this.cb=b.cb;this.eb=b.eb;this.xe=this.S.speed;this.ld=this.S.mj;1===this.type.gb.length&&1===this.type.gb[0].frames.length||0===this.xe||(this.b.zm(this),this.Mi=!0);this.kc?this.qc.reset():this.qc=new Va;this.Jc=this.qc.ha;this.Id=
!0;this.Cc=0;this.Hd=!0;this.Th=this.Uj="";this.Dn=0;this.tg=-1;this.type.Op();var a,c,e,g,h,p,n,b=0;for(a=this.type.gb.length;b<a;b++)for(g=this.type.gb[b],c=0,e=g.frames.length;c<e;c++)h=g.frames[c],0===h.width&&(h.width=h.Ia.width,h.height=h.Ia.height),h.Se&&(n=h.Ia,p=h.sj,p.left=h.Ne/n.width,p.top=h.Oe/n.height,p.right=(h.Ne+h.width)/n.width,p.bottom=(h.Oe+h.height)/n.height,0===h.Ne&&0===h.Oe&&h.width===n.width&&h.height===n.height&&(h.Se=!1));this.Ca=this.S.frames[this.k];this.wg=this.Ca.Wc};
c.Gb=function(){var b={a:this.S.H,f:this.k,cas:this.xe,fs:this.Jc,ar:this.Cc,at:this.qc.ha,rt:this.ld};this.Id||(b.ap=this.Id);this.Hd||(b.af=this.Hd);return b};c.ec=function(b){var a=this.Uo(b.a);a&&(this.S=a);this.k=b.f;0>this.k&&(this.k=0);this.k>=this.S.frames.length&&(this.k=this.S.frames.length-1);this.xe=b.cas;this.Jc=b.fs;this.Cc=b.ar;this.qc.reset();this.qc.ha=b.at;this.Id=b.hasOwnProperty("ap")?b.ap:!0;this.Hd=b.hasOwnProperty("af")?b.af:!0;b.hasOwnProperty("rt")?this.ld=b.rt:this.ld=this.S.mj;
this.Ca=this.S.frames[this.k];this.wg=this.Ca.Wc;this.L.Xf(this.Ca.ih);this.cb=this.Ca.cb;this.eb=this.Ca.eb};c.Lh=function(b){this.k=b?0:this.S.frames.length-1;this.Id=!1;this.Uj=this.S.name;this.Bi=!0;this.b.trigger(Z.prototype.I.bn,this);this.b.trigger(Z.prototype.I.an,this);this.Bi=!1;this.Cc=0};c.$j=function(){return this.qc.ha};c.Ed=function(){this.qc.add(this.b.mi(this));this.Th.length&&this.Mn();0<=this.tg&&this.nk();var b=this.qc.ha,a=this.S,c=a.frames[this.k],e=c.duration/this.xe;this.Id&&
b>=this.Jc+e&&(this.Hd?this.k++:this.k--,this.Jc+=e,this.k>=a.frames.length&&(a.Nl?(this.Hd=!1,this.k=a.frames.length-2):a.loop?this.k=this.ld:(this.Cc++,this.Cc>=a.lj?this.Lh(!1):this.k=this.ld)),0>this.k&&(a.Nl?(this.k=1,this.Hd=!0,a.loop||(this.Cc++,this.Cc>=a.lj&&this.Lh(!0))):a.loop?this.k=this.ld:(this.Cc++,this.Cc>=a.lj?this.Lh(!0):this.k=this.ld)),0>this.k?this.k=0:this.k>=a.frames.length&&(this.k=a.frames.length-1),b>this.Jc+a.frames[this.k].duration/this.xe&&(this.Jc=b),b=a.frames[this.k],
this.te(c,b),this.b.N=!0)};c.zk=function(b){var a,c,e;a=0;for(c=this.type.gb.length;a<c;a++)if(e=this.type.gb[a],cb(e.name,b))return e;return null};c.Uo=function(b){var a,c,e;a=0;for(c=this.type.gb.length;a<c;a++)if(e=this.type.gb[a],e.H===b)return e;return null};c.Mn=function(){var b=this.S.frames[this.k],a=this.zk(this.Th);this.Th="";!a||cb(a.name,this.S.name)&&this.Id||(this.S=a,this.xe=a.speed,this.ld=a.mj,0>this.k&&(this.k=0),this.k>=this.S.frames.length&&(this.k=this.S.frames.length-1),1===
this.Dn&&(this.k=0),this.Id=!0,this.Jc=this.qc.ha,this.Hd=!0,this.te(b,this.S.frames[this.k]),this.b.N=!0)};c.nk=function(){var b=this.S.frames[this.k],a=this.k;this.k=Q(this.tg);0>this.k&&(this.k=0);this.k>=this.S.frames.length&&(this.k=this.S.frames.length-1);a!==this.k&&(this.te(b,this.S.frames[this.k]),this.Jc=this.qc.ha,this.b.N=!0);this.tg=-1};c.te=function(b,a){var c=b.width,e=b.height,g=a.width,h=a.height;c!=g&&(this.width*=g/c);e!=h&&(this.height*=h/e);this.cb=a.cb;this.eb=a.eb;this.L.Xf(a.ih);
this.fa();this.Ca=a;this.wg=a.Wc;c=0;for(e=this.u.length;c<e;c++)g=this.u[c],g.Xp&&g.Xp(b,a);this.b.trigger(Z.prototype.I.te,this)};c.Gc=function(b){b.globalAlpha=this.opacity;var a=this.Ca,c=a.Se,e=a.Ia,g=this.x,h=this.y,p=this.width,n=this.height;if(0===this.d&&0<=p&&0<=n)g-=this.cb*p,h-=this.eb*n,this.b.ge&&(g=Math.round(g),h=Math.round(h)),c?b.drawImage(e,a.Ne,a.Oe,a.width,a.height,g,h,p,n):b.drawImage(e,g,h,p,n);else{this.b.ge&&(g=Math.round(g),h=Math.round(h));b.save();var k=0<p?1:-1,m=0<n?
1:-1;b.translate(g,h);1===k&&1===m||b.scale(k,m);b.rotate(this.d*k*m);g=0-this.cb*M(p);h=0-this.eb*M(n);c?b.drawImage(e,a.Ne,a.Oe,a.width,a.height,g,h,M(p),M(n)):b.drawImage(e,g,h,M(p),M(n));b.restore()}};c.ze=function(b){this.nb(b)};c.nb=function(b){b.Ha(this.wg);b.me(this.opacity);var a=this.Ca,c=this.ab;if(this.b.ge){var e=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;a.Se?b.je(c.Ta+e,c.Ua+g,c.ub+e,c.wb+g,c.jb+e,c.kb+g,c.hb+e,c.ib+g,a.sj):b.ie(c.Ta+e,c.Ua+g,c.ub+e,c.wb+g,c.jb+e,c.kb+g,
c.hb+e,c.ib+g)}else a.Se?b.je(c.Ta,c.Ua,c.ub,c.wb,c.jb,c.kb,c.hb,c.ib,a.sj):b.ie(c.Ta,c.Ua,c.ub,c.wb,c.jb,c.kb,c.hb,c.ib)};c.$o=function(b){var a=this.Ca,c,e;c=0;for(e=a.Ai.length;c<e;c++)if(cb(b,a.Ai[c][0]))return c;return-1};c.pi=function(b,a){var c=this.Ca,e=c.Ai,g;F(b)?g=this.$o(b):g=b-1;g=Q(g);if(0>g||g>=e.length)return a?this.x:this.y;var h=(e[g][1]-c.cb)*this.width,e=e[g][2],e=(e-c.eb)*this.height,c=Math.cos(this.d);g=Math.sin(this.d);var p=h*c-e*g,e=e*c+h*g,h=p+this.x,e=e+this.y;return a?
h:e};var b=new da,h=!1;new R(0,0,0,0);u.finish=function(c){if(h){if(c){var a=this.b.Wa().bb.fc;c=null.O();var d=b.Gd(),e,g;if(c.Y){c.Y=!1;T(c.c);e=0;for(g=d.length;e<g;++e)c.c[e]=d[e];if(a)for(T(c.J),e=0,g=null.c.length;e<g;++e)d=null.c[e],b.contains(d)||c.J.push(d)}else if(a)for(a=c.c.length,e=0,g=d.length;e<g;++e)c.c[a+e]=d[e],za(c.J,d[e]);else va(c.c,d);null.Jd()}b.clear();h=!1}};m.prototype.an=function(b){return cb(this.Uj,b)};m.prototype.bn=function(){return!0};m.prototype.te=function(){return!0};
p.I=new m;n.prototype.kn=function(b){this.tg=b;this.Mi||(this.b.zm(this),this.Mi=!0);this.Bi||this.nk()};n.prototype.mn=function(b){var a=this.Ca,c=a.width*b*(0>this.width?-1:1);b=a.height*b*(0>this.height?-1:1);if(this.width!==c||this.height!==b)this.width=c,this.height=b,this.fa()};p.qa=new n;p.V=new function(){}})();function cc(e){this.b=e}
(function(){function e(){}var m=cc.prototype;m.Bc=function(e){this.da=e;this.b=e.b};m.Bc.prototype.La=function(){};m.Ib=function(e){this.type=e;this.b=e.b};var n=m.Ib.prototype;n.La=function(){this.visible=0===this.ic[0];this.ke=this.width;this.le=this.height;var e=this.b.j;e?(this.tb=e.Va(this.ke,this.le,this.b.A,!1),this.xh=e.Va(this.ke,this.le,this.b.A,!1),this.Wl=e.Va(1,1,this.b.A,!1),e.Ha(null),e.Aa(this.Wl),e.clear(0,0,0,1),e.Aa(null),this.Vl={},this.Vl.Ba=e.e.ONE,this.Vl.ua=e.e.ONE_MINUS_SRC_ALPHA):
(this.canvas=document.createElement("canvas"),this.canvas.width=this.ke,this.canvas.height=this.le,this.G=this.canvas.getContext("2d"),this.fill="black")};n.Pf=function(){this.tb&&(this.b.j.deleteTexture(this.tb),this.b.j.deleteTexture(this.Wl),this.b.j.deleteTexture(this.xh))};n.Gb=function(){return{}};n.ec=function(){};n.$j=function(){var e=this.b.j,n=this.b.canvas;if(e){if(null==this.type.da.gk){var m=document.createElement("canvas");m.width=1;m.height=2;m=m.getContext("experimental-webgl");m.clearColor(1,
1,1,1);m.clear(m.COLOR_BUFFER_BIT);var c=m.createProgram(),b=m.createShader(m.VERTEX_SHADER);m.shaderSource(b,"attribute vec3 pos;void main() {gl_Position = vec4(pos, 1.0);}");m.compileShader(b);m.attachShader(c,b);b=m.createShader(m.FRAGMENT_SHADER);m.shaderSource(b,"void main() {gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);}");m.compileShader(b);m.attachShader(c,b);m.linkProgram(c);m.useProgram(c);m.bindBuffer(m.ARRAY_BUFFER,m.createBuffer());m.bufferData(m.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,-1,
0,-1,0,0,1,0,0]),m.STATIC_DRAW);c=m.getAttribLocation(c,"pos");m.enableVertexAttribArray(c);m.vertexAttribPointer(c,3,m.FLOAT,!1,0,0);m.drawArrays(m.TRIANGLE_STRIP,0,4);c=m.createTexture();m.bindTexture(m.TEXTURE_2D,c);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,m.canvas);m.bindTexture(m.TEXTURE_2D,null);m.bindFramebuffer(m.FRAMEBUFFER,m.createFramebuffer());m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,c,0);b=new Uint8Array(8);m.readPixels(0,0,1,2,m.RGBA,m.UNSIGNED_BYTE,
b);m.bindFramebuffer(m.FRAMEBUFFER,null);this.type.da.gk=0==b[0];m.deleteTexture(c)}if(this.tb.ed!=n.width||this.tb.dd!=n.height)e.deleteTexture(this.tb),this.tb=null;null==this.tb&&(this.tb=e.Va(n.width,n.height,this.b.A,this.b.Xd));this.type.da.gk&&e.e.pixelStorei(e.e.UNPACK_FLIP_Y_WEBGL,!0);e.Kq(n,this.tb,this.b.Xd);e.e.pixelStorei(e.e.UNPACK_FLIP_Y_WEBGL,!1)}else this.canvas.width=n.width,this.canvas.height=n.height,this.G.drawImage(n,0,0,n.width,n.height)};n.Gc=function(e){e.globalAlpha=this.opacity;
e.save();e.translate(this.x,this.y);var m=0<this.width?1:-1,n=0<this.height?1:-1;1===m&&1===n||e.scale(m,n);e.rotate(this.d*m*n);e.drawImage(this.canvas,0-this.cb*M(this.width),0-this.eb*M(this.height),M(this.width),M(this.height));e.restore()};n.nb=function(e){e.Ha(this.tb);e.me(this.opacity);var m=this.ab;e.ie(m.Ta,m.Ua,m.ub,m.wb,m.jb,m.kb,m.hb,m.ib)};m.I=new function(){};e.prototype.hn=function(e){e=e.O();e=e.Y?e.type.c:e.c;this.Z();var m,n,c,b=this.b.j;if(b){if(!this.tb)return;var h=b.width,f=
b.height;b.Qc(this.ke,this.le);b.Ha(null);b.Aa(this.tb);b.Fb();b.scale(this.ke/this.width,-this.le/this.height);b.Uf(-this.d);b.translate((this.M.left+this.M.right)/-2,(this.M.top+this.M.bottom)/-2);b.xb();var a=0,d=0,l,g;n=0;for(c=e.length;n<c;n++)if(m=e[n],this!=m&&m.visible&&0!==m.width&&0!==m.height&&(m.Z(),this.M.Nk(m.M)))if(m.Jj)for(l=0,g=m.F.length;l<g;++l)b.Ha(null),b.Aa(this.xh),b.clear(0,0,0,0),a=m.F[l].ja,d=m.F[l].index,b.Oa(a),b.zc(m.Ba,m.ua),b.ne(this.xh,1/m.width,1/m.height,0,1,1,0,
1,0,0,0,.5,.5,m.U[d]),m.nb(b),b.Oa(0),b.Ha(null),b.Aa(this.tb),b.Ha(this.xh),b.Fb(),b.scale(this.ke,-this.le),b.translate(-.5,-.5),b.xb(),b.me(m.opacity),b.rj(),b.ie(0,0,1,0,1,1,0,1),b.Fb(),b.scale(this.ke/this.width,-this.le/this.height),b.Uf(-this.d),b.translate((this.M.left+this.M.right)/-2,(this.M.top+this.M.bottom)/-2),b.xb();else b.Oa(0),b.zc(m.Ba,m.ua),m.nb(b);b.Aa(null);b.Qc(h,f)}else for(b=this.G,n=0,c=e.length;n<c;n++)if(m=e[n],m.Z(),0!=m.visible||0!=this.b.Bq(this,m))b.save(),b.scale(this.canvas.width/
this.width,this.canvas.height/this.height),b.rotate(-this.d),b.translate(-this.ab.Ta,-this.ab.Ua),b.globalCompositeOperation=m.we,m.Gc(b),b.restore();this.b.N=!0};e.prototype.Rm=function(e,m,n,c){e=Aa(e,0,255);m=Aa(m,0,255);n=Aa(n,0,255);c=Aa(c,0,100);var b=this.b.j;b?(b.Ha(null),b.Aa(this.tb),b.clear(e/255,m/255,n/255,c/100),b.Aa(null)):(this.G.fillStyle="rgba("+parseInt(e)+","+parseInt(m)+","+parseInt(n)+","+c/100+")",this.G.clearRect(0,0,this.canvas.width,this.canvas.height),this.G.fillRect(0,
0,this.canvas.width,this.canvas.height));this.b.N=!0};m.qa=new e;m.V=new function(){}})();function dc(e){this.b=e}
(function(){var e=dc.prototype;e.Bc=function(e){this.behavior=e;this.b=e.b};e.Bc.prototype.La=function(){};e.Ib=function(e,m){this.type=e;this.behavior=e.behavior;this.ma=m;this.b=e.b};var m=e.Ib.prototype;m.La=function(){this.Ga=null;this.hh=-1;this.mode=this.Cf=this.xj=this.Lf=this.Cd=this.gh=0;var e=this;this.kc||(this.Al=function(m){e.Wp(m)});this.b.un(this.Al)};m.Gb=function(){return{uid:this.Ga?this.Ga.uid:-1,pa:this.gh,pd:this.Cd,msa:this.Lf,tsa:this.xj,lka:this.Cf,m:this.mode}};m.ec=function(e){this.hh=
e.uid;this.gh=e.pa;this.Cd=e.pd;this.Lf=e.msa;this.xj=e.tsa;this.Cf=e.lka;this.mode=e.m};m.ad=function(){-1===this.hh?this.Ga=null:this.Ga=this.b.ri(this.hh);this.hh=-1};m.Wp=function(e){this.Ga==e&&(this.Ga=null)};m.Pf=function(){this.Ga=null;this.b.kq(this.Al)};m.Ed=function(){};m.yj=function(){if(this.Ga){this.Cf!==this.ma.d&&(this.Lf=Fa(this.Lf+(this.ma.d-this.Cf)));var e=this.ma.x,m=this.ma.y;if(3===this.mode||4===this.mode){var u=Ma(this.ma.x,this.ma.y,this.Ga.x,this.Ga.y);if(u>this.Cd||4===
this.mode&&u<this.Cd)m=Ia(this.Ga.x,this.Ga.y,this.ma.x,this.ma.y),e=this.Ga.x+Math.cos(m)*this.Cd,m=this.Ga.y+Math.sin(m)*this.Cd}else e=this.Ga.x+Math.cos(this.Ga.d+this.gh)*this.Cd,m=this.Ga.y+Math.sin(this.Ga.d+this.gh)*this.Cd;this.Cf=u=Fa(this.Lf+(this.Ga.d-this.xj));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.ma.x===e&&this.ma.y===m||(this.ma.x=e,this.ma.y=m,this.ma.fa());0!==this.mode&&2!==this.mode||this.ma.d===u||(this.ma.d=u,this.ma.fa())}};e.I=new function(){};e.qa=
new function(){};e.V=new function(){}})();function ec(e){this.b=e}
(function(){function e(){}var m=ec.prototype;m.Bc=function(e){this.behavior=e;this.b=e.b};m.Bc.prototype.La=function(){};m.Ib=function(e,m){this.type=e;this.behavior=e.behavior;this.ma=m;this.b=e.b};var n=m.Ib.prototype;n.La=function(){this.speed=U(this.ic[0]);this.lg=U(this.ic[1])};n.Gb=function(){return{speed:this.speed,acc:this.lg}};n.ec=function(e){this.speed=e.speed;this.lg=e.acc};n.Ed=function(){var e=this.b.mi(this.ma);0!==e&&(0!==this.lg&&(this.speed+=this.lg*e),0!==this.speed&&(this.ma.d=
Fa(this.ma.d+this.speed*e),this.ma.fa()))};m.I=new function(){};m.qa=new function(){};e.prototype.rn=function(e){e.D(Da(this.speed))};m.V=new e})();
function bc(){return[Z,cc,ec,dc,Y.prototype.I.Mj,cc.prototype.qa.Pj,Z.prototype.V.Pm,Z.prototype.V.Qm,Y.prototype.I.jn,Y.prototype.qa.pn,Y.prototype.V.random,Z.prototype.V.Rj,Y.prototype.qa.Um,Z.prototype.V.sn,Y.prototype.V.cos,Z.prototype.V.tn,Z.prototype.V.Lj,Y.prototype.V.sin,Z.prototype.qa.kn,Y.prototype.V["int"],Z.prototype.qa.Pj,Z.prototype.qa.ln,Z.prototype.qa.mn,Y.prototype.I.Wm,ec.prototype.V.rn,Y.prototype.V.Nd,Z.prototype.qa.Qj,Z.prototype.qa.qn,cc.prototype.qa.Qj,cc.prototype.qa.nn,cc.prototype.qa.Rm,
cc.prototype.qa.hn,cc.prototype.V.Rj,cc.prototype.V.Lj]};
